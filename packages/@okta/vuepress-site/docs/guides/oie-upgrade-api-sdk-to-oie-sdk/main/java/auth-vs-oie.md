
For embedded Java applications deploying Okta Classic Engine authentication flows, there are generally two implementation approaches: using the Okta back-end APIs or using the [Okta Java Authentication (Auth) SDK](https://github.com/okta/okta-auth-java/). Some embedded apps used a combination of the two approaches to achieve their desired authentication flow. The Okta back-end API is seen as a manual way of implementing authentication flows with Okta. Whereas, the Java Auth SDK encapsulates the API resources to a convenient client wrapper for apps to achieve the same classic authentication flows.

No matter which approach you used for your Classic Engine embedded app, to upgrade to an Identity Engine embedded app, you need to use an Identity Engine SDK. The upgrade process requires you to review your existing code and figure out the mappings required to transform API requests or Classic Engine SDK methods to Identity Engine SDK methods. In some instances, you will need to modify the interaction structure of your code.

The following table is a high-level mapping of the typical Classic Engine API requests and Java Auth SDK methods to Java Identity Engine SDK methods. Since there are a variety of combinations to achieve Classic Engine authentication flows, the mapping list is not exhaustive. Review the following SDK upgrade examples for detailed mapping suggestions:

* [Map Authentication code to the Okta Identity Engine SDK](#map-authentication-code-to-the-okta-identity-engine-sdk) &mdash; Basic sign in with username and password
* Map MFA authentication code to the Identity Engine SDK &mdash;  Basic sign in with username, password and either the email or phone factor
* Map password recovery code to the Identity Engine SDK &mdash;Password recovery using email
* Map sign-out code to the Identity Engine SDK &mdash; Sign out


| Okta API endpoints      | Java Classic Engine Auth SDK methods (okta-auth-java)      |   Java Identity Engine SDK methods (okta-idx-java) |   Description |
| ----------------------- | ------------------------------ | -----------------------------------| ------------- |
| [/api/v1/authn](/docs/reference/api/authn/)<br>[/api/v1/sessions](/docs/reference/api/sessions/#create-session-with-a-session-token)| [AuthenticationClient.authenticate()](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L94) [AuthenticationClient.challengeFactor()](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L536) | [idx.authenticate](https://github.com/okta/okta-auth-js/blob/2bae66c5f56998d7b71b8f04fe1474d6eae85868/docs/idx.md#idxauthenticate)| Authenticate a user with username and password credentials. See [Map Authentication code to the Identity Engine SDK](/docs/guides/oie-upgrade-api-sdk-to-oie-sdk/nodejs/main/#map-authentication-code-to-the-okta-identity-engine-sdk).|
| [/api/v1/auth](/docs/reference/api/authn/)<br>[/api/v1/factors](/docs/reference/api/factors/#get-started-with-the-factors-api)| [signInWithCredentials](https://github.com/okta/okta-auth-js/blob/master/docs/authn.md#signinwithcredentialsoptions) [transaction.factors](https://github.com/okta/okta-auth-js/blob/master/docs/authn.md#mfa_required) [transaction.verify](https://github.com/okta/okta-auth-js/blob/master/docs/authn.md#mfa_challenge) [session.setCookieAndRedirect](http://session.setCookieAndRedirect) | [idx.authenticate](https://github.com/okta/okta-auth-js/blob/master/docs/idx.md#idxauthenticate)| Sign in a user using multifactor authentication, verify the factor and challenge. See [Map MFA Authentication code to the Identity Engine SDK](/docs/guides/oie-upgrade-api-sdk-to-oie-sdk/nodejs/main/#map-mfa-authentication-code-to-the-okta-identity-engine-sdk).|
| [/api/v1/authn/recovery/password](docs/reference/api/authn/#forgot-password)<br>[/api/v1/authn/recovery/token](/docs/reference/api/authn/#verify-recovery-token) [/api/v1/authn/credentials/reset_password](/docs/reference/api/authn/#reset-password) | [forgotPassword](https://github.com/okta/okta-auth-js/blob/master/docs/authn.md#forgotpasswordoptions) [transaction.verify](https://github.com/okta/okta-auth-js/blob/master/docs/authn.md#mfa_challenge) [transaction.resetPassword](https://github.com/okta/okta-auth-js/blob/master/docs/authn.md#resetpasswordoptions) [session.setCookieAndRedirect](http://session.setCookieAndRedirect) | [idx.recoverPassword](https://github.com/okta/okta-auth-js/blob/master/docs/idx.md#idxrecoverpassword)| Password recovery flow, including a factor challenge and password reset. See [Map Password Recovery code to the Identity Engine SDK](/docs/guides/oie-upgrade-api-sdk-to-oie-sdk/nodejs/main/#map-password-recovery-code-to-the-okta-identity-engine-sdk).|
| [/api/v1/authn/cancel](https://developer.okta.com/docs/reference/api/authn/#cancel-transaction) | [transaction.cancel](https://github.com/okta/okta-auth-js/blob/master/docs/authn.md#cancel)| [idx.cancel](https://github.com/okta/okta-auth-js/blob/master/docs/idx.md#idxcancel)| Cancels the Auth flow.|
| [/v1/logout](https://developer.okta.com/docs/reference/api/oidc/#logout)| [getSignOutRedirectUrl](https://github.com/okta/okta-auth-js/blob/7cb9599fbf18b53f2e3a90c4e82bb65770d41887/samples/generated/express-embedded-auth-with-sdk/web-server/routes/logout.js) [revokeAccessToken](https://github.com/okta/okta-auth-js/blob/7cb9599fbf18b53f2e3a90c4e82bb65770d41887/samples/generated/express-embedded-auth-with-sdk/web-server/routes/logout.js) | n/a | Sign out. See [User Sign out (local app)](/docs/guides/oie-upgrade-api-sdk-to-oie-sdk/nodejs/main/#map-basic-sign-out-apis-to-okta-identity-engine-sdk).|
