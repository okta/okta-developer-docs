---
title: Google Authenticator integration guide
---

<div class="oie-embedded-sdk">

<ApiLifecycle access="ie" /><br>
<ApiLifecycle access="Limited GA" /><br>

<StackSelector />

This guide shows you how to integrate Google Authenticator into your authentication use cases using the embedded SDK.

---
**Learning outcomes**

* Understand the Google Authenticator flow.
* Learn step-by-step how to integrate Google Authenticator into your authentication use case

**What you need**

* <StackSnippet snippet="orgconfigurepwdonly" />
* <StackSnippet snippet="oiesdksetup" />
* Google Authenticator installed on a mobile device

**Sample code**

* <StackSnippet snippet="samplecode" />

**Related use cases**

* <StackSnippet snippet="relatedusecases" />

---

## The reason to choose Google Authenticator

Google Authenticator is an authenticator app developed by Google used to verify the identity of a user. The app is often used in conjunction with a password to strengthen user accounts from security attacks. It's considered more secure than other additional authenticators such as SMS since it's resistant to SIM swap attacks. It doesn't require a cellular or Wifi network to use and setup can be as easy as a snapshot of a QR Code.

### Authentication flow

After a user is enrolled in Google Authenticator, they are challenged by the service provider (for example, a website) to provide a Time-based One-Time Password (TOTP) during authentication. Google Authenticator generates the TOTP, which is submitted by the user to the service provider for verification. The service provider independently generates the password and validates that the submitted password is identical to the generated one.

A shared key linking the Google Authenticator app and service provider allows for both entities to generate the same password. This shared key is initially generated by the service provider and added to the app during enrollment.

As the service provider, you can provide Google Authenticator support to your users by enabling it in your Okta org and building out support for it in your application using the Embedded SDK.

The following diagram illustrates how the Google Authenticator enrollment and challenge flows can work in your application.

<div class="common-image-format">

![Diagram showing the Google Authenticator enrollment flow](/img/authenticators/authenticators-google-flow-overview.png)

</div>

## Update configurations

Before you can start using Google Authenticator, create an Okta org application as described in <StackSnippet snippet="orgconfigurepwdonly" inline/>. Then add Google Authenticator to your app integration by executing the following steps:

### Add Google Authenticator to the Okta org

1. In the Admin Console, go to **Security > Authenticators**.
1. On the **Authenticators** page, click **Add Authenticator**.
1. On the **Add Authenticator** dialog, click **Add** under **Google Authenticator**.
1. On the **Add Google Authenticator** dialog box, click **Add**.
1. On the **Authenticators** page, select the **Enrollment** tab.
1. On the **Enrollment** tab, click **Edit** for the **Default Policy**.
1. Set **Google Authenticator** to **Optional** and click **Update Policy**.

### Configure your Okta org application to use Google Authenticator

1. In the Admin Console, go to **Applications** and **Applications**.
1. On the **Applications** page, click on the application you've previously created.
1. On the **General** tab ensure that **Interaction Code** and **Refresh Token** are selected.
1. On the **Sign-On** tab, scroll down to the **Sign-On Policy** section and click **Add Rule**.
1. On the **Add Rule** dialog, do the following:
   1. Enter a name for the new rule (for example "2FA Rule").
   1. Set **User must authenticate with** to **Password+Another Factor**.
   1. Select **Device Bound**.
   1. Confirm **Your org's authenticators that satisfy this requirement** is set to **Password AND Google Authenticator or ...**.
   1. Click **Save**.

## Install Google Authenticator

Install the Google Authenticator app on your mobile device either using either the Google Play Store (Android) or Apple App Store (iOS).

## Integrate SDK for authenticator enrollment

### Summary of steps

The following summarizes the Google Authenticator enrollment flow using a user sign-in use case.

<StackSnippet snippet="enrollmentintegrationsummary" />

<StackSnippet snippet="enrollmentintegrationsteps" />

## Integrate SDK for authenticator challenge

### Summary of steps

The following summarizes the Google Authenticator challenge flow using a user sign-in use case.

<StackSnippet snippet="challengeintegrationsummary" />

<StackSnippet snippet="challengeintegrationsteps" />

</div>
