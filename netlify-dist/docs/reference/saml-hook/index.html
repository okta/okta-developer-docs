<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SAML Assertion Inline Hook Reference | Okta Developer</title>
    <meta name="description" content="Secure, scalable, and highly available authentication and user management for any app.">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.2.5/polyfill.min.js"></script>
  <script src="https://www.atko.biz/sites/all/modules/okta_coveo_search_developer/js/lib/CoveoJsSearch.Lazy.min.js" defer="true"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/manifest.json">
  <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg">
  <meta name="msapplication-config" content="/favicon/browserconfig.xml">
  <link rel="stylesheet" href="https://developer.okta.com/sites/all/themes/developer/css/master.css">
  <link rel="stylesheet" href="https://www.atko.biz/sites/all/modules/okta_coveo_search_developer/css/okta_coveo_search_developer.css?q49ktf">
  <meta http-equiv="XA-UA-Compatible" content="IE=edge">
  <script>
      // TypeKit
        (function(d) {
          var config = {
            kitId: 'jff5neq',
            scriptTimeout: 3000,
            async: true
          },
          h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/bwf-loadingb/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
        })(document);

      var isProduction = window.location.hostname === 'developer.okta.com';
      if (isProduction) {

        // START Google Tag Manager
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-KXMLV58');
        // END Google Tag Manager

      }
    </script>
    
    <link rel="preload" href="/assets/css/0.styles.7dfa3a9b.css" as="style"><link rel="preload" href="/assets/js/app.3345455f.js" as="script"><link rel="preload" href="/assets/js/11.93e337fc.js" as="script"><link rel="preload" href="/assets/js/2.b902811a.js" as="script"><link rel="preload" href="/assets/js/4.2bcafdd9.js" as="script"><link rel="preload" href="/assets/js/10.7aec67f9.js" as="script"><link rel="preload" href="/assets/js/34.cd70f052.js" as="script"><link rel="preload" href="/assets/js/1208.e9ba7f06.js" as="script"><link rel="preload" href="/assets/js/5.e8cdb234.js" as="script"><link rel="preload" href="/assets/js/1.61fd62fc.js" as="script"><link rel="preload" href="/assets/js/31.e48d6b97.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.7dfa3a9b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="PageWrap Page"><div><header class="Header is-fixed"><div class="Wrap"><a href="https://developer.okta.com" class="Logo"><svg version="1.1" id="OktaLogo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 431.9 151.4" style="enable-background:new 0 0 431.9 151.4;" xml:space="preserve"><g><g><g><path d="M102.2,41.4c-21,0-38.1,17.1-38.1,38.1s17.1,38.1,38.1,38.1s38.1-17.1,38.1-38.1l0,0C140.3,58.5,123.2,41.4,102.2,41.4z M102.2,98.5c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19c0.1,10.5-8.4,19-18.9,19.1C102.3,98.6,102.2,98.6,102.2,98.5L102.2,98.5z"/><path d="M169.1,92.3c0-1.9,1.5-3.4,3.4-3.4c0.9,0,1.8,0.4,2.4,1c9.5,9.7,25.3,26.3,25.4,26.4c0.4,0.5,0.8,0.8,1.4,0.9l1.6,0.2h17.2c1.8,0,3.3-1.4,3.4-3.2c0-0.8-0.3-1.5-0.8-2.2l-28.6-29.2l-1.5-1.5c-3.2-3.9-2.9-5.4,0.8-9.3l22.6-25.1c1.1-1.4,0.8-3.5-0.6-4.6c-0.6-0.4-1.3-0.7-2-0.7h-17c-0.6,0.2-1.1,0.5-1.5,0.9L175,64.4c-1.3,1.4-3.4,1.5-4.8,0.2c-0.7-0.6-1.1-1.5-1.1-2.5V18.9c0-1.7-1.3-3-3-3c-0.1,0-0.2,0-0.3,0h-12.7c-2.2,0-3.3,1.5-3.3,2.8v95.8c0,2.2,1.8,2.8,3.3,2.8h12.7c1.7,0.1,3.2-1.2,3.3-2.9c0,0,0,0,0,0V92.3z"/><path d="M273,114l-1.4-12.8c-0.2-1.7-1.7-2.9-3.4-2.7c0,0,0,0-0.1,0l-2.9,0.2c-10.1,0-18.5-7.9-19-18c0-0.3,0-0.7,0-1V64.2c-0.1-2,1.5-3.6,3.5-3.7c0,0,0,0,0,0h17c1.7-0.1,3.1-1.5,3-3.2c0,0,0-0.1,0-0.1v-12c0-2.3-1.5-3.6-2.8-3.6h-17.1c-1.9,0.1-3.5-1.5-3.6-3.4c0,0,0,0,0,0V18.9c-0.1-1.7-1.5-3.1-3.2-3c0,0-0.1,0-0.1,0h-12.7c-1.6-0.1-3,1.1-3.1,2.7c0,0.1,0,0.1,0,0.2c0,0,0,61.7,0,62c0.5,21,17.9,37.6,38.9,37c1.4,0,2.9-0.2,4.3-0.3C272,117.2,273.2,115.7,273,114z"/></g><path d="M364.7,98c-10.8,0-12.4-3.8-12.4-18.3l0,0V44.8c0-1.8-1.4-3.2-3.2-3.2c0,0-0.1,0-0.1,0h-12.8c-1.8,0-3.2,1.4-3.3,3.2v1.6C314.6,36,291.3,42.5,281,60.8c-10.4,18.3-3.9,41.6,14.4,51.9c14,7.9,31.4,6.2,43.5-4.2c3.6,5.5,9.3,9.1,18.3,9.1c1.5,0,9.7,0.3,9.7-3.5v-13.6C367,99.2,366,98.1,364.7,98z M314.2,98.6c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19l0,0C333.2,90.1,324.7,98.6,314.2,98.6z"/></g><path d="M19.4,74c2.2-1.9,4.1-4.1,5.7-6.6c3.5-5.3,5.4-11.5,5.2-17.9V27c0-4.9,0.9-8.4,2.7-10.5c1.8-2.1,4.8-3,9.2-3h12.6c1.2,0,2.1-0.9,2.2-2.1l0,0V2.2C57,1,56,0,54.8,0c0,0,0,0,0,0H41.5c-7.8,0-12.9,2.1-18,7.6s-7.1,12.3-7.1,21.7v14.2c0,2.2-0.1,4-0.2,5.7v2.2c-0.5,3.2-1.8,6.2-3.6,8.9C9.4,64.7,5.1,70.9,0.9,74l0,0l-0.3,0.3l0,0l-0.2,0.3H0.2v0.3l0,0c-0.1,0.3-0.1,0.7,0,1l0,0v0.3h0.1l0.2,0.3l0,0l0.3,0.3l0,0c4.2,3.1,8.5,9.3,11.3,13.7c1.8,2.7,3.1,5.7,3.6,8.9v2.2c0.1,1.6,0.2,3.5,0.2,5.7v14.3c0,9.4,2.4,16.7,7.1,21.7s10.2,7.6,18,7.6h13.8c1.2,0,2.2-1,2.2-2.2V140l0,0c0-1.2-1-2.2-2.2-2.2H42.2c-4.4,0-7.5-1-9.2-3s-2.7-5.6-2.7-10.5v-22.4c0.2-6.4-1.7-12.6-5.2-17.9c-1.6-2.5-3.5-4.7-5.7-6.6l0,0c-0.9-0.7-1.1-2-0.4-2.9C19.2,74.3,19.3,74.2,19.4,74L19.4,74z"/><path d="M412.5,74c-2.2-1.9-4.1-4.1-5.7-6.6c-3.5-5.3-5.4-11.5-5.2-17.9V27c0-4.9-0.9-8.4-2.7-10.5s-4.8-3-9.2-3h-12.6c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0l0,0V2.2c0-1.2,1-2.2,2.2-2.2c0,0,0,0,0,0h13.4c7.8,0,12.9,2.1,18,7.6s7.1,12.3,7.1,21.7v14.2c0,2.2,0.1,4,0.2,5.7v2.2c0.5,3.2,1.8,6.2,3.6,8.9c2.8,4.5,7.1,10.7,11.3,13.7l0,0l0.3,0.3l0,0l0.2,0.3h0.1v0.3l0,0c0.1,0.3,0.1,0.7,0,1l0,0v0.3h-0.1l-0.2,0.3l0,0l-0.3,0.3l0,0c-4.2,3.1-8.5,9.3-11.3,13.7c-1.8,2.7-3.1,5.7-3.6,8.9v2.2c-0.1,1.6-0.2,3.5-0.2,5.7v14.3c0,9.4-2.4,16.7-7.1,21.7s-10.2,7.6-18,7.6h-13.4c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0V140l0,0c0-1.2,1-2.2,2.2-2.2l0,0h12.7c4.4,0,7.5-1,9.2-3s2.7-5.6,2.7-10.5v-22.4c-0.2-6.3,1.6-12.6,5.1-17.9c1.6-2.5,3.5-4.7,5.7-6.6l0,0c0.9-0.7,1.1-2,0.4-2.9C412.7,74.3,412.6,74.2,412.5,74L412.5,74z"/></g></svg></a> <nav class="Header-nav PrimaryNav"><ul class="menu"><li class="first expanded"><a href="/product/">Product</a> <ul class="menu"><li class="first"><a href="/product/">Overview</a> <!----></li><li><a href="/product/authentication/">Authentication</a> <!----></li><li><a href="/product/authorization/">Authorization</a> <!----></li><li><a href="/product/user-management/">User Management</a> <!----></li></ul></li><li><a href="/pricing/">Pricing</a> <!----></li><li><a href="/blog/">Blog</a> <!----></li><li class="expanded active"><a href="/docs/">Docs</a> <ul class="menu"><li class="first"><a href="/docs/">Get Started</a> <!----></li><li><a href="/docs/concepts/">Concepts</a> <!----></li><li><a href="/docs/guides/">Guides</a> <!----></li><li><a href="/docs/reference/">Reference</a> <!----></li></ul></li><li class="expanded"><a href="">Support</a> <ul class="menu"><li class="first"><a href="https://devforum.okta.com/">Okta Developer Forums</a> <!----></li><li><a href="mailto:developers@okta.com">developers@okta.com</a> <!----></li></ul></li></ul> <a href="#" class="PrimaryNav-toggle"><svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" class="MenuIcon"><path d="M1,16 L19,16" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line1"></path> <path d="M1,4 L19,4" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line2"></path> <path d="M1,10 L19,10" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line3"></path> <path d="M1,10 L19,10" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line4"></path></g></svg> <svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="CloseIcon"><g id="ALl-Boards" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Desktop" transform="translate(-915.000000, -235.000000)" fill="#FFFFFF"><g id="Search-bar-Active" transform="translate(30.000000, 26.000000)"><polygon id="Icon/Cross" points="901 210.6 899.4 209 893 215.4 886.6 209 885 210.6 891.4 217 885 223.4 886.6 225 893 218.6 899.4 225 901 223.4 894.6 217"></polygon></g></g></g></svg></a> <div class="PrimaryNav-cta"><a target="_blank" rel="noopener noreferrer" href="https://login.okta.com/" class="Button--redOutline">Login</a> <a href="https://developer.okta.com/signup/" class="Button--red">Sign up</a></div> <a data-search-toggle class="SearchIcon"></a></nav></div></header> <div data-search-bar class="SearchBar"><div class="Wrap"><div data-pipeline="developer-okta-com" class="SearchBox" style="display: flex;"><div class="CoveoOmnibox"></div> <div class="CoveoSearchButton">Search</div> <div class="CoveoAnalytics"></div></div></div></div></div> <!----> <section class="PageContent DynamicSidebar has-tableOfContents"><div class="Sidebar" data-v-705933f8><aside data-v-705933f8><h2 class="Sidebar-location Sidebar-toggle h6" data-v-705933f8>Navigation</h2> <div class="Sidebar-close Sidebar-toggle" data-v-705933f8></div> <div data-v-705933f8><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Concepts</h3> <ul class="Sidebar-nav" data-v-705933f8><li data-v-705933f8><a href="/docs/concepts/api-access-management/" data-v-705933f8>API Access Management</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/authentication/" data-v-705933f8>Authentication</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/auth-servers/" data-v-705933f8>Authorization Servers</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/event-hooks/" data-v-705933f8>Event Hooks</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/events-api-migration/" data-v-705933f8>Events API Migration</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/identity-providers/" data-v-705933f8>External Identity Providers</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/feature-lifecycle-management/" data-v-705933f8>Feature Lifecycle Management</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/inline-hooks/" data-v-705933f8>Inline Hooks</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/key-rotation/" data-v-705933f8>Key Rotation</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/auth-overview/" data-v-705933f8>OAuth 2.0 &amp; OIDC</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/okta-hosted-flows/" data-v-705933f8>Okta-Hosted Flows</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/okta-organizations/" data-v-705933f8>Okta Organizations</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/saml/" data-v-705933f8>SAML</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/scim/" data-v-705933f8>SCIM</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/social-login/" data-v-705933f8>Social Login</a> <!----></li></ul></div><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Guides</h3> <ul class="Sidebar-nav" data-v-705933f8><li data-v-705933f8><a href="/docs/guides/customize-tokens-returned-from-okta/" data-v-705933f8>Customize tokens returned from Okta</a> <!----></li><li data-v-705933f8><a href="/docs/guides/protect-your-api/" data-v-705933f8>Protect your API endpoints</a> <!----></li><li data-v-705933f8><a href="/docs/guides/request-user-consent/" data-v-705933f8>Request user consent during authentication</a> <!----></li><li data-v-705933f8><a href="/docs/guides/sign-into-web-app/" data-v-705933f8>Sign users in to your web application</a> <!----></li><li data-v-705933f8><a href="/docs/guides/sign-into-spa/" data-v-705933f8>Sign users in to your SPA</a> <!----></li><li data-v-705933f8><a href="/docs/guides/sign-users-out/" data-v-705933f8>Sign users out</a> <!----></li><li data-v-705933f8><a href="/docs/guides/" data-v-705933f8>More...</a> <!----></li></ul></div><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Reference</h3> <ul class="Sidebar-nav" data-v-705933f8><li data-v-705933f8><a href="/docs/reference/api-overview/" data-v-705933f8>API Overview</a> <!----></li><li data-v-705933f8><a href="/docs/reference/api/oidc/" data-v-705933f8>Sign in Your Users</a> <!----></li><li data-v-705933f8><a href="/docs/reference/api/roles/" data-v-705933f8>Manage Okta Resources</a> <!----></li><li data-v-705933f8><a href="/docs/reference/error-codes/" data-v-705933f8>Error Codes</a> <!----></li><li data-v-705933f8><a href="/docs/reference/import-hook/" data-v-705933f8>Import Hook</a> <!----></li><li class="is-active" data-v-705933f8><a href="/docs/reference/saml-hook/" data-v-705933f8>SAML Hook</a> <!----></li><li data-v-705933f8><a href="/docs/reference/registration-hook/" data-v-705933f8>Registration Hook</a> <!----></li><li data-v-705933f8><a href="/docs/reference/token-hook/" data-v-705933f8>Token Hook</a> <!----></li><li data-v-705933f8><a href="/docs/reference/okta-expression-language/" data-v-705933f8>Okta Expression Language</a> <!----></li><li data-v-705933f8><a href="/docs/reference/postman-collections/" data-v-705933f8>Postman Collections</a> <!----></li><li data-v-705933f8><a href="/docs/reference/rate-limits/" data-v-705933f8>Rate Limits</a> <!----></li><li data-v-705933f8><a href="/docs/reference/releases-at-okta/" data-v-705933f8>Release Life Cycle</a> <!----></li><li data-v-705933f8><a href="/docs/reference/scim/" data-v-705933f8>SCIM Protocol</a> <!----></li><li data-v-705933f8><a href="/docs/reference/webfinger/" data-v-705933f8>WebFinger</a> <!----></li></ul></div><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Release Notes</h3> <ul class="Sidebar-nav" data-v-705933f8><li data-v-705933f8><a href="/docs/release-notes/" data-v-705933f8>Okta API Products Release Notes</a> <!----></li></ul></div></div></aside></div> <div class="PageContent-main"><a id="edit-link" href="https://github.com/okta/okta-developer-docs/edit/master/packages/@okta/vuepress-site/docs/reference/saml-hook//index.md" target="_blank" rel="noopener noreferrer" data-proofer-ignore="">Edit Page</a> <div class="content__default"><h1>SAML Assertion Inline Hook Reference</h1> <p>This page provides reference documentation for:</p> <ul><li><p>JSON objects contained in the outbound request from Okta to your external service</p></li> <li><p>JSON objects you can include in your response</p></li></ul> <p>This information is specific to the SAML Assertion Inline Hook, one type of Inline Hook supported by Okta.</p> <h2 id="see-also">See Also <a href="#see-also" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>For a general introduction to Okta Inline Hooks, see <a href="/docs/concepts/inline-hooks/">Inline Hooks</a>.</p> <p>For information on the API for registering external service endpoints with Okta, see <a href="/docs/reference/api/inline-hooks/">Inline Hooks Management API</a>.</p> <p>For steps to enable this Inline Hook, see below, <a href="#enabling-a-saml-assertion-inline-hook">Enabling a SAML Assertion Inline Hook</a>.</p> <h2 id="about">About <a href="#about" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>This type of Inline Hook is triggered when Okta generates a SAML assertion in response to an authentication request. Before sending the SAML assertion to the app that will consume it, Okta calls out to your external service. Your external service can respond with commands to add attributes to the assertion or to modify its existing attributes.</p> <p>This functionality can be used to add data to assertions, which might be data that is sensitive, calculated at runtime, or complexly-structured and not appropriate for storing in Okta user profiles. Data added this way is never logged or stored by Okta. As an example, SAML assertions generated for a medical app could be augmented with confidential patient data provided by your external service and not stored in Okta.</p> <p>This Inline Hook works only when using custom SAML apps, not apps from the OIN.</p> <h2 id="objects-in-the-request-from-okta">Objects in the Request from Okta <a href="#objects-in-the-request-from-okta" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>The outbound call from Okta to your external service provides you with the contents of the SAML assertion that was generated, which you will be able to augment or modify by means of the commands you return. Also provided is contextual information about the authentication request.</p> <p>Because SAML is XML-based, but the call from Okta to your service uses a JSON payload, the contents of the SAML assertion are converted to a JSON representation for sending.</p> <h3 id="data-assertion-subject">data.assertion.subject <a href="#data-assertion-subject" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>Provides a JSON representation of the <code>&lt;saml:Subject&gt;</code> element of the SAML assertion. The following is an example of how the SAML XML is represented in JSON:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>  
   <span class="token property">&quot;subject&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;nameId&quot;</span><span class="token operator">:</span><span class="token string">&quot;administrator1@example.net&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;nameFormat&quot;</span><span class="token operator">:</span><span class="token string">&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;confirmation&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;method&quot;</span><span class="token operator">:</span><span class="token string">&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;recipient&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://www.example.com/saml/sso&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="data-assertion-authentication">data.assertion.authentication <a href="#data-assertion-authentication" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>Provides a JSON representation of the <code>&lt;saml:AuthnStatement&gt;</code> element of the SAML assertion.</p> <h3 id="data-assertion-conditions">data.assertion.conditions <a href="#data-assertion-conditions" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>Provides a JSON representation of the <code>&lt;saml:Conditions&gt;</code> element of the SAML assertion.</p> <h3 id="data-assertion-claims">data.assertion.claims <a href="#data-assertion-claims" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>Provides a JSON representation of the <code>&lt;saml:AttributeStatement&gt;</code> element contained in the generated SAML assertion, which will contain any optional SAML attribute statements that you have defined for the app using the Okta Admin Console's <strong>SAML Settings</strong>.</p> <p>The following is an example of how an XML <code>&lt;saml:AttributeStatement&gt;</code> element is represented in JSON in this object:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;claims&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;foobie&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;NameFormat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;attributeValues&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;xsi:type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xs:string&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;doobie&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="data-assertion-lifetime">data.assertion.lifetime <a href="#data-assertion-lifetime" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>Specifies the expiration time, in seconds, of the SAML assertion.</p> <h3 id="data-context">data.context <a href="#data-context" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>This object contains a number of sub-objects, each of which provides some type of contextual information. Unlike the <code>data.assertion.*</code> objects, you cannot affect the <code>data.context.*</code> objects by means of the commands you return.</p> <p>The following sub-objects are included:</p> <ul><li><code>data.context.request</code>: Details of the SAML request that triggered the generation of the SAML assertion.</li> <li><code>data.context.protocol</code>: Details of the assertion protocol being used.</li> <li><code>data.context.session</code>: Details of the user session.</li> <li><code>data.context.user</code>: Identifies the Okta user that the assertion was generated to authenticate, and provides details of their Okta user profile.</li></ul> <h2 id="objects-in-response-you-send">Objects in Response You Send <a href="#objects-in-response-you-send" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>For the SAML Assertion Inline Hook, the objects you can return in the JSON payload of your response are defined as follows:</p> <h3 id="commands">commands <a href="#commands" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>The <code>commands</code> object is where you can tell Okta to add additional claims to the assertion or to modify the existing assertion statements.</p> <p><code>commands</code> is an array, allowing you to send multiple commands. In each array element, there needs to be a <code>type</code> property and <code>value</code> property. The <code>type</code> property is where you specify which of the supported commands you wish to execute, and <code>value</code> is where you supply an operand for that command.</p> <p>In the case of the SAML Assertion Inline Hook, the <code>value</code> property is itself a nested object, in which you specify a particular operation, a path to act on, and a value.</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>Data Type</th></tr></thead> <tbody><tr><td>type</td> <td>One of the <a href="#supported-commands">supported commands</a>.</td> <td>String</td></tr> <tr><td>value</td> <td>Operand to pass to the command. It specifies a particular op to perform.</td> <td><a href="#value">value</a></td></tr></tbody></table> <h4 id="supported-commands">Supported Commands <a href="#supported-commands" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>The following command is currently supported for the SAML Assertion Inline Hook type:</p> <table><thead><tr><th>Command</th> <th>Description</th></tr></thead> <tbody><tr><td>com.okta.assertion.patch</td> <td>Modify a SAML assertion.</td></tr></tbody></table> <h4 id="value">value <a href="#value" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>The <code>value</code> object is where you specify the specific operation to perform. It is an array, allowing you to request more than one operation.</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>Data Type</th></tr></thead> <tbody><tr><td>op</td> <td>The name of one of the <a href="#list-of-supported-ops">supported ops</a>.</td> <td>String</td></tr> <tr><td>path</td> <td>Location, within the assertion, to apply the operation. See <a href="##specifying-location-within-the-assertion">Specifying Location within the Assertion</a> below.</td> <td>String</td></tr> <tr><td>value</td> <td>Value to set the claim to.</td> <td>Any JSON object</td></tr></tbody></table> <h4 id="list-of-supported-ops">List of Supported Ops <a href="#list-of-supported-ops" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <table><thead><tr><th>Op</th> <th>Description</th></tr></thead> <tbody><tr><td>add</td> <td>Add a new claim to the assertion.</td></tr> <tr><td>replace</td> <td>Modify an existing attribute statement.</td></tr></tbody></table> <h3 id="specifying-location-within-the-assertion">Specifying Location within the Assertion <a href="#specifying-location-within-the-assertion" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>You specify the location within the assertion at which to apply your operation using a slash-delimited path.</p> <p>When performing an <code>add</code> op to add a new attribute statement, this will always begin with <code>/claims/</code> and be followed by the name of the new attribute you are adding.</p> <p>When modifying an existing assertions statement, the path could begin with <code>/subject/</code>, <code>/authentication/</code>, <code>/conditions/</code>, or <code>/claims/</code>, depending on which part of the assertion you want to modify. You then drill down within the child elements using slash-delimited element names, e.g., <code>/claims/array/attributeValues/1/value</code>.</p> <h2 id="sample-listing-of-json-payload-of-request">Sample Listing of JSON Payload of Request <a href="#sample-listing-of-json-payload-of-request" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/app/raincloud59_saml20app_1/exkth8lMzFm0HZOTU0g3/sso/saml&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eventId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;XMFoHCM1S4Wi_SGWzL8T9A&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eventTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-03-28T19:15:23.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;context&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;reqqXypjzYJRSu2j1G1imUovA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/app/raincloud59_saml20app_1/exkth8lMzFm0HZOTU0g3/sso/saml&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ipAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SAML2.0&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;issuer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0oath92zlO60urQOP0g3&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SAML 2.0 App&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://www.okta.com/exkth8lMzFm0HZOTU0g3&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;session&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;102LN9Bnuc4S_ewfc9BYwageA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00uq8tMo3zV0OfJON0g3&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;administrator1@clouditude.net&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;createdAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-03-28T16:45:55.000Z&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-03-28T21:15:23.000Z&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ACTIVE&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastPasswordVerification&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-03-28T16:45:55.000Z&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;amr&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;PASSWORD&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;idp&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00oq6kcVwvrDY2YsS0g3&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;mfaActive&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00uq8tMo3zV0OfJON0g3&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-09-11T23:19:12.000Z&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;administrator1@clouditude.net&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Add-Mine&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;O'Cloudy Tud&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;groups&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/00uq8tMo3zV0OfJON0g3/groups&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00uq8tMo3zV0OfJON0g3/factors&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;assertion&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;subject&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;nameId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;administrator1@clouditude.net&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;nameFormat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;confirmation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;recipient&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://www.example.com:7070/saml/sso&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;authentication&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;sessionIndex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id1553800523546.312669168&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;authnContext&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;authnContextClassRef&quot;</span><span class="token operator">:</span> <span class="token string">&quot;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;audienceRestriction&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;urn:example:sp&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;claims&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;foobie&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;NameFormat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;attributeValues&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;xsi:type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xs:string&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;doobie&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;array&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;NameFormat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;attributeValues&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;xsi:type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xs:string&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Array 1&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;xsi:type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xs:string&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Array2&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;xsi:type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xs:string&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Array3&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;middle&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;NameFormat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;attributeValues&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;xsi:type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xs:string&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;middellllll&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstAndLast&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;NameFormat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;attributeValues&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;xsi:type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xs:string&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7d6a50c8-4d7e-4058-9c5b-2cc98cecd294&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lifetime&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">300</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eventTypeVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cloudEventVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eventType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;com.okta.saml.tokens.transform&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contentType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="sample-listing-of-json-payload-of-response">Sample Listing of JSON Payload of Response <a href="#sample-listing-of-json-payload-of-response" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;commands&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;com.okta.assertion.patch&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;op&quot;</span><span class="token operator">:</span> <span class="token string">&quot;replace&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/claims/array/attributeValues/1/value&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;replacementValue&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;op&quot;</span><span class="token operator">:</span> <span class="token string">&quot;replace&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/authentication/authnContext&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;authnContextClassRef&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Something:different?&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;op&quot;</span><span class="token operator">:</span> <span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/claims/foo&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;NameFormat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;attributeValues&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;xsi:type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xs:string&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;barer&quot;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;com.okta.assertion.patch&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;op&quot;</span><span class="token operator">:</span> <span class="token string">&quot;replace&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/authentication/sessionIndex&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;definitelyARealSession&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="enabling-a-saml-assertion-inline-hook">Enabling a SAML Assertion Inline Hook <a href="#enabling-a-saml-assertion-inline-hook" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>To activate the Inline Hook, you first need to register your external service endpoint with Okta using the <a href="/docs/reference/api/inline-hooks/">Inline Hooks Management API</a>.</p> <p>You then need to associate the registered Inline Hook with a SAML app by completing the following steps in Admin Console:</p> <ol><li><p>Go to <strong>Applications</strong> and select your SAML app.</p></li> <li><p>Click the <strong>General</strong> tab.</p></li> <li><p>In the SAML Settings section, click <strong>Edit</strong>.</p></li> <li><p>Click <strong>Show Advanced Settings</strong>.</p></li> <li><p>Click <strong>Next</strong> to get to the <strong>Configure SAML</strong> section.</p></li> <li><p>In the <strong>Assertion Inline Hook</strong> field, select your registered Inline Hook.</p></li></ol> <blockquote><p><strong>Note:</strong> Only one Inline Hook can be associated with each app.</p></blockquote></div></div> <div class="TableOfContents TableOfContents" style="bottom:0px;top:100px;" data-v-4ef83c5f><div class="TableOfContents-item is-level1" data-v-4ef83c5f>
    SAML Assertion Inline Hook Reference
  </div> <!----> <div data-v-4ef83c5f><div class="TableOfContents-indicator" style="height:30px;transform:translate(0px, 0px);" data-v-4ef83c5f></div> <a href="#see-also" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      See Also
    </a><a href="#about" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      About
    </a><a href="#objects-in-the-request-from-okta" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Objects in the Request from Okta
    </a><a href="#data-assertion-subject" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      data.assertion.subject
    </a><a href="#data-assertion-authentication" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      data.assertion.authentication
    </a><a href="#data-assertion-conditions" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      data.assertion.conditions
    </a><a href="#data-assertion-claims" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      data.assertion.claims
    </a><a href="#data-assertion-lifetime" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      data.assertion.lifetime
    </a><a href="#data-context" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      data.context
    </a><a href="#objects-in-response-you-send" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Objects in Response You Send
    </a><a href="#commands" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      commands
    </a><a href="#supported-commands" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Supported Commands
    </a><a href="#value" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      value
    </a><a href="#list-of-supported-ops" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      List of Supported Ops
    </a><a href="#specifying-location-within-the-assertion" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Specifying Location within the Assertion
    </a><a href="#sample-listing-of-json-payload-of-request" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Sample Listing of JSON Payload of Request
    </a><a href="#sample-listing-of-json-payload-of-response" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Sample Listing of JSON Payload of Response
    </a><a href="#enabling-a-saml-assertion-inline-hook" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Enabling a SAML Assertion Inline Hook
    </a> <div class="TableOfContents-footer" data-v-4ef83c5f><a href="#" data-v-4ef83c5f>Top of Page</a></div></div></div></section> <footer class="Footer"><div class="Wrap"><div class="Row"><div class="Column--3 Column--medium-6 Column--xSmall-12"><a href="https://www.okta.com/" target="_blank" rel="noopener noreferrer"><div class="Logo"><img src="https://developer.okta.com/sites/all/themes/developer/images/logo-footer.png" alt="Okta"></div> <p>Visit okta.com</p></a></div> <div class="Column--3 Column--medium-12 Column--xSmall-12"><h4>Social</h4> <ul class="Footer-links"><li class="first"><a href="http://github.com/oktadeveloper" target="_blank" class="Footer-links--github">GitHub</a> <!----></li><li><a href="http://twitter.com/OktaDev" target="_blank" class="Footer-links--twitter">Twitter</a> <!----></li><li><a href="https://devforum.okta.com/" target="_blank" class="Footer-links--forum">Forum</a> <!----></li><li><a href="http://feeds.feedburner.com/OktaBlog" target="_blank" class="Footer-links--rss">RSS Blog</a> <!----></li><li><a href="https://www.youtube.com/channel/UC5AMiWqFVFxF1q9Ya1FuZ_Q/featured" target="_blank" class="Footer-links--youtube">YouTube</a> <!----></li></ul></div><div class="Column--3 Column--medium-12 Column--xSmall-12"><h4>More Info</h4> <ul class="Footer-links"><li class="first"><a href="https://developer.okta.com/integrate-with-okta/">Integrate With Okta</a> <!----></li><li><a href="https://developer.okta.com/blog/">Blog</a> <!----></li><li><a href="https://developer.okta.com/docs/release-notes/">Release Notes</a> <!----></li><li><a href="https://developer.okta.com/3rd_party_notices/">3rd Party Notices</a> <!----></li><li><a href="https://toolkit.okta.com/">Community Toolkit</a> <!----></li></ul></div><div class="Column--3 Column--medium-12 Column--xSmall-12"><h4>Contact & Legal</h4> <ul class="Footer-links"><li class="first"><a href="https://developer.okta.com/contact/">Contact Our Team</a> <!----></li><li><a href="https://developer.okta.com/contact-sales-enterprise/">Contact Sales</a> <!----></li><li><a href="mailto:developers@okta.com">Contact Support</a> <!----></li><li><a href="https://developer.okta.com/terms/">Terms &amp; Conditions</a> <!----></li><li><a href="https://developer.okta.com/privacy/">Privacy Policy</a> <!----></li></ul></div></div></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3345455f.js" defer></script><script src="/assets/js/11.93e337fc.js" defer></script><script src="/assets/js/2.b902811a.js" defer></script><script src="/assets/js/4.2bcafdd9.js" defer></script><script src="/assets/js/10.7aec67f9.js" defer></script><script src="/assets/js/34.cd70f052.js" defer></script><script src="/assets/js/1208.e9ba7f06.js" defer></script><script src="/assets/js/5.e8cdb234.js" defer></script><script src="/assets/js/1.61fd62fc.js" defer></script><script src="/assets/js/31.e48d6b97.js" defer></script>
  </body>
</html>
