<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Authentication | Okta Developer</title>
    <meta name="description" content="Secure, scalable, and highly available authentication and user management for any app.">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.2.5/polyfill.min.js"></script>
  <script src="https://static.cloud.coveo.com/searchui/v2.7219/js/CoveoJsSearch.Lazy.min.js" defer="true"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/manifest.json">
  <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg">
  <meta name="msapplication-config" content="/favicon/browserconfig.xml">
  <link rel="stylesheet" href="https://developer.okta.com/sites/all/themes/developer/css/master.css">
  <link rel="stylesheet" href="https://coveo-oktaweb.pantheonsite.io/sites/all/modules/okta_coveo_search_developer/css/okta_coveo_search_developer.css?q49ktf">
  <meta http-equiv="XA-UA-Compatible" content="IE=edge">
  <script>
      // TypeKit
        (function(d) {
          var config = {
            kitId: 'jff5neq',
            scriptTimeout: 3000,
            async: true
          },
          h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/bwf-loadingb/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
        })(document);

      var isProduction = window.location.hostname === 'developer.okta.com';
      if (isProduction) {

        // START Google Tag Manager
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-KXMLV58');
        // END Google Tag Manager

      }
    </script>
    
    <link rel="preload" href="/assets/css/0.styles.15a2bd63.css" as="style"><link rel="preload" href="/assets/js/app.1df7935f.js" as="script"><link rel="preload" href="/assets/js/11.71506886.js" as="script"><link rel="preload" href="/assets/js/2.8712a879.js" as="script"><link rel="preload" href="/assets/js/4.57ec015f.js" as="script"><link rel="preload" href="/assets/js/10.75e07b2c.js" as="script"><link rel="preload" href="/assets/js/34.6da36575.js" as="script"><link rel="preload" href="/assets/js/1175.9dca2ef2.js" as="script"><link rel="preload" href="/assets/js/37.e0b90512.js" as="script"><link rel="preload" href="/assets/js/36.17e5c6ae.js" as="script"><link rel="preload" href="/assets/js/43.dd7a44df.js" as="script"><link rel="preload" href="/assets/js/5.93479991.js" as="script"><link rel="preload" href="/assets/js/1.952b7ece.js" as="script"><link rel="preload" href="/assets/js/31.3153d314.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.15a2bd63.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="PageWrap Page"><div><header class="Header is-fixed"><div class="Wrap"><a href="https://developer.okta.com" class="Logo"><svg version="1.1" id="OktaLogo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 431.9 151.4" style="enable-background:new 0 0 431.9 151.4;" xml:space="preserve"><g><g><g><path d="M102.2,41.4c-21,0-38.1,17.1-38.1,38.1s17.1,38.1,38.1,38.1s38.1-17.1,38.1-38.1l0,0C140.3,58.5,123.2,41.4,102.2,41.4z M102.2,98.5c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19c0.1,10.5-8.4,19-18.9,19.1C102.3,98.6,102.2,98.6,102.2,98.5L102.2,98.5z"/><path d="M169.1,92.3c0-1.9,1.5-3.4,3.4-3.4c0.9,0,1.8,0.4,2.4,1c9.5,9.7,25.3,26.3,25.4,26.4c0.4,0.5,0.8,0.8,1.4,0.9l1.6,0.2h17.2c1.8,0,3.3-1.4,3.4-3.2c0-0.8-0.3-1.5-0.8-2.2l-28.6-29.2l-1.5-1.5c-3.2-3.9-2.9-5.4,0.8-9.3l22.6-25.1c1.1-1.4,0.8-3.5-0.6-4.6c-0.6-0.4-1.3-0.7-2-0.7h-17c-0.6,0.2-1.1,0.5-1.5,0.9L175,64.4c-1.3,1.4-3.4,1.5-4.8,0.2c-0.7-0.6-1.1-1.5-1.1-2.5V18.9c0-1.7-1.3-3-3-3c-0.1,0-0.2,0-0.3,0h-12.7c-2.2,0-3.3,1.5-3.3,2.8v95.8c0,2.2,1.8,2.8,3.3,2.8h12.7c1.7,0.1,3.2-1.2,3.3-2.9c0,0,0,0,0,0V92.3z"/><path d="M273,114l-1.4-12.8c-0.2-1.7-1.7-2.9-3.4-2.7c0,0,0,0-0.1,0l-2.9,0.2c-10.1,0-18.5-7.9-19-18c0-0.3,0-0.7,0-1V64.2c-0.1-2,1.5-3.6,3.5-3.7c0,0,0,0,0,0h17c1.7-0.1,3.1-1.5,3-3.2c0,0,0-0.1,0-0.1v-12c0-2.3-1.5-3.6-2.8-3.6h-17.1c-1.9,0.1-3.5-1.5-3.6-3.4c0,0,0,0,0,0V18.9c-0.1-1.7-1.5-3.1-3.2-3c0,0-0.1,0-0.1,0h-12.7c-1.6-0.1-3,1.1-3.1,2.7c0,0.1,0,0.1,0,0.2c0,0,0,61.7,0,62c0.5,21,17.9,37.6,38.9,37c1.4,0,2.9-0.2,4.3-0.3C272,117.2,273.2,115.7,273,114z"/></g><path d="M364.7,98c-10.8,0-12.4-3.8-12.4-18.3l0,0V44.8c0-1.8-1.4-3.2-3.2-3.2c0,0-0.1,0-0.1,0h-12.8c-1.8,0-3.2,1.4-3.3,3.2v1.6C314.6,36,291.3,42.5,281,60.8c-10.4,18.3-3.9,41.6,14.4,51.9c14,7.9,31.4,6.2,43.5-4.2c3.6,5.5,9.3,9.1,18.3,9.1c1.5,0,9.7,0.3,9.7-3.5v-13.6C367,99.2,366,98.1,364.7,98z M314.2,98.6c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19l0,0C333.2,90.1,324.7,98.6,314.2,98.6z"/></g><path d="M19.4,74c2.2-1.9,4.1-4.1,5.7-6.6c3.5-5.3,5.4-11.5,5.2-17.9V27c0-4.9,0.9-8.4,2.7-10.5c1.8-2.1,4.8-3,9.2-3h12.6c1.2,0,2.1-0.9,2.2-2.1l0,0V2.2C57,1,56,0,54.8,0c0,0,0,0,0,0H41.5c-7.8,0-12.9,2.1-18,7.6s-7.1,12.3-7.1,21.7v14.2c0,2.2-0.1,4-0.2,5.7v2.2c-0.5,3.2-1.8,6.2-3.6,8.9C9.4,64.7,5.1,70.9,0.9,74l0,0l-0.3,0.3l0,0l-0.2,0.3H0.2v0.3l0,0c-0.1,0.3-0.1,0.7,0,1l0,0v0.3h0.1l0.2,0.3l0,0l0.3,0.3l0,0c4.2,3.1,8.5,9.3,11.3,13.7c1.8,2.7,3.1,5.7,3.6,8.9v2.2c0.1,1.6,0.2,3.5,0.2,5.7v14.3c0,9.4,2.4,16.7,7.1,21.7s10.2,7.6,18,7.6h13.8c1.2,0,2.2-1,2.2-2.2V140l0,0c0-1.2-1-2.2-2.2-2.2H42.2c-4.4,0-7.5-1-9.2-3s-2.7-5.6-2.7-10.5v-22.4c0.2-6.4-1.7-12.6-5.2-17.9c-1.6-2.5-3.5-4.7-5.7-6.6l0,0c-0.9-0.7-1.1-2-0.4-2.9C19.2,74.3,19.3,74.2,19.4,74L19.4,74z"/><path d="M412.5,74c-2.2-1.9-4.1-4.1-5.7-6.6c-3.5-5.3-5.4-11.5-5.2-17.9V27c0-4.9-0.9-8.4-2.7-10.5s-4.8-3-9.2-3h-12.6c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0l0,0V2.2c0-1.2,1-2.2,2.2-2.2c0,0,0,0,0,0h13.4c7.8,0,12.9,2.1,18,7.6s7.1,12.3,7.1,21.7v14.2c0,2.2,0.1,4,0.2,5.7v2.2c0.5,3.2,1.8,6.2,3.6,8.9c2.8,4.5,7.1,10.7,11.3,13.7l0,0l0.3,0.3l0,0l0.2,0.3h0.1v0.3l0,0c0.1,0.3,0.1,0.7,0,1l0,0v0.3h-0.1l-0.2,0.3l0,0l-0.3,0.3l0,0c-4.2,3.1-8.5,9.3-11.3,13.7c-1.8,2.7-3.1,5.7-3.6,8.9v2.2c-0.1,1.6-0.2,3.5-0.2,5.7v14.3c0,9.4-2.4,16.7-7.1,21.7s-10.2,7.6-18,7.6h-13.4c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0V140l0,0c0-1.2,1-2.2,2.2-2.2l0,0h12.7c4.4,0,7.5-1,9.2-3s2.7-5.6,2.7-10.5v-22.4c-0.2-6.3,1.6-12.6,5.1-17.9c1.6-2.5,3.5-4.7,5.7-6.6l0,0c0.9-0.7,1.1-2,0.4-2.9C412.7,74.3,412.6,74.2,412.5,74L412.5,74z"/></g></svg></a> <nav class="Header-nav PrimaryNav"><ul class="menu"><li class="first expanded"><a href="/product/">Product</a> <ul class="menu"><li class="first"><a href="/product/">Overview</a> <!----></li><li><a href="/product/authentication/">Authentication</a> <!----></li><li><a href="/product/authorization/">Authorization</a> <!----></li><li><a href="/product/user-management/">User Management</a> <!----></li></ul></li><li><a href="/pricing/">Pricing</a> <!----></li><li><a href="/blog/">Blog</a> <!----></li><li class="expanded active"><a href="/docs/">Docs</a> <ul class="menu"><li class="first"><a href="/docs/">Get Started</a> <!----></li><li><a href="/docs/concepts/">Concepts</a> <!----></li><li><a href="/docs/guides/">Guides</a> <!----></li><li><a href="/docs/reference/">Reference</a> <!----></li></ul></li><li class="expanded"><a href="">Support</a> <ul class="menu"><li class="first"><a href="https://devforum.okta.com/">Okta Developer Forums</a> <!----></li><li><a href="mailto:developers@okta.com">developers@okta.com</a> <!----></li></ul></li></ul> <a href="#" class="PrimaryNav-toggle"><svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" class="MenuIcon"><path d="M1,16 L19,16" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line1"></path> <path d="M1,4 L19,4" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line2"></path> <path d="M1,10 L19,10" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line3"></path> <path d="M1,10 L19,10" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line4"></path></g></svg> <svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="CloseIcon"><g id="ALl-Boards" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Desktop" transform="translate(-915.000000, -235.000000)" fill="#FFFFFF"><g id="Search-bar-Active" transform="translate(30.000000, 26.000000)"><polygon id="Icon/Cross" points="901 210.6 899.4 209 893 215.4 886.6 209 885 210.6 891.4 217 885 223.4 886.6 225 893 218.6 899.4 225 901 223.4 894.6 217"></polygon></g></g></g></svg></a> <div class="PrimaryNav-cta"><a target="_blank" rel="noopener noreferrer" href="https://login.okta.com/" class="Button--redOutline">Login</a> <a href="https://developer.okta.com/signup/" class="Button--red">Sign up</a></div> <a data-search-toggle class="SearchIcon"></a></nav></div></header> <div data-search-bar class="SearchBar"><div class="Wrap"><div data-pipeline="developer-okta-com" class="SearchBox" style="display: flex;"><div class="CoveoOmnibox"></div> <div class="CoveoSearchButton">Search</div> <div class="CoveoAnalytics"></div></div></div></div></div> <!----> <section class="PageContent DynamicSidebar has-tableOfContents"><div class="Sidebar" data-v-705933f8><aside data-v-705933f8><h2 class="Sidebar-location Sidebar-toggle h6" data-v-705933f8>Navigation</h2> <div class="Sidebar-close Sidebar-toggle" data-v-705933f8></div> <div data-v-705933f8><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Concepts</h3> <ul class="Sidebar-nav" data-v-705933f8><li data-v-705933f8><a href="/docs/concepts/api-access-management/" data-v-705933f8>API Access Management</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/authentication/" data-v-705933f8>Authentication</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/auth-servers/" data-v-705933f8>Authorization Servers</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/event-hooks/" data-v-705933f8>Event Hooks</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/events-api-migration/" data-v-705933f8>Events API Migration</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/identity-providers/" data-v-705933f8>External Identity Providers</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/feature-lifecycle-management/" data-v-705933f8>Feature Lifecycle Management</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/inline-hooks/" data-v-705933f8>Inline Hooks</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/key-rotation/" data-v-705933f8>Key Rotation</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/auth-overview/" data-v-705933f8>OAuth 2.0 &amp; OIDC</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/okta-hosted-flows/" data-v-705933f8>Okta-Hosted Flows</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/okta-organizations/" data-v-705933f8>Okta Organizations</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/saml/" data-v-705933f8>SAML</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/scim/" data-v-705933f8>SCIM</a> <!----></li><li data-v-705933f8><a href="/docs/concepts/social-login/" data-v-705933f8>Social Login</a> <!----></li></ul></div><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Guides</h3> <ul class="Sidebar-nav" data-v-705933f8><li data-v-705933f8><a href="/docs/guides/customize-tokens-returned-from-okta/" data-v-705933f8>Customize tokens returned from Okta</a> <!----></li><li data-v-705933f8><a href="/docs/guides/protect-your-api/" data-v-705933f8>Protect your API endpoints</a> <!----></li><li data-v-705933f8><a href="/docs/guides/request-user-consent/" data-v-705933f8>Request user consent during authentication</a> <!----></li><li data-v-705933f8><a href="/docs/guides/sign-into-web-app/" data-v-705933f8>Sign users in to your web application</a> <!----></li><li data-v-705933f8><a href="/docs/guides/sign-into-spa/" data-v-705933f8>Sign users in to your SPA</a> <!----></li><li data-v-705933f8><a href="/docs/guides/sign-users-out/" data-v-705933f8>Sign users out</a> <!----></li><li data-v-705933f8><a href="/docs/guides/" data-v-705933f8>More...</a> <!----></li></ul></div><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Reference</h3> <ul class="Sidebar-nav" data-v-705933f8><li data-v-705933f8><a href="/docs/reference/api-overview/" data-v-705933f8>API Overview</a> <!----></li><li data-v-705933f8><a href="/docs/reference/api/oidc/" data-v-705933f8>Sign in Your Users</a> <ul id="Sidebar_References" data-v-705933f8><li data-v-705933f8><a href="/docs/reference/api/oidc/" data-v-705933f8>OpenID Connect &amp; OAuth 2.0 API</a></li><li class="is-active" data-v-705933f8><a href="/docs/reference/api/authn/" data-v-705933f8>Authentication</a></li></ul></li><li data-v-705933f8><a href="/docs/reference/api/roles/" data-v-705933f8>Manage Okta Resources</a> <!----></li><li data-v-705933f8><a href="/docs/reference/error-codes/" data-v-705933f8>Error Codes</a> <!----></li><li data-v-705933f8><a href="/docs/reference/import-hook/" data-v-705933f8>Import Hook</a> <!----></li><li data-v-705933f8><a href="/docs/reference/saml-hook/" data-v-705933f8>SAML Hook</a> <!----></li><li data-v-705933f8><a href="/docs/reference/registration-hook/" data-v-705933f8>Registration Hook</a> <!----></li><li data-v-705933f8><a href="/docs/reference/token-hook/" data-v-705933f8>Token Hook</a> <!----></li><li data-v-705933f8><a href="/docs/reference/okta-expression-language/" data-v-705933f8>Okta Expression Language</a> <!----></li><li data-v-705933f8><a href="/docs/reference/postman-collections/" data-v-705933f8>Postman Collections</a> <!----></li><li data-v-705933f8><a href="/docs/reference/rate-limits/" data-v-705933f8>Rate Limits</a> <!----></li><li data-v-705933f8><a href="/docs/reference/releases-at-okta/" data-v-705933f8>Release Life Cycle</a> <!----></li><li data-v-705933f8><a href="/docs/reference/scim/" data-v-705933f8>SCIM Protocol</a> <!----></li><li data-v-705933f8><a href="/docs/reference/webfinger/" data-v-705933f8>WebFinger</a> <!----></li></ul></div><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Release Notes</h3> <ul class="Sidebar-nav" data-v-705933f8><li data-v-705933f8><a href="/docs/release-notes/" data-v-705933f8>Okta API Products Release Notes</a> <!----></li></ul></div></div></aside></div> <div class="PageContent-main"><a id="edit-link" href="https://github.com/okta/okta-developer-docs/edit/master/packages/@okta/vuepress-site/docs/reference/api/authn//index.md" target="_blank" rel="noopener noreferrer" data-proofer-ignore="">Edit Page</a> <div class="content__default"><h1>Authentication API</h1> <p>The Okta Authentication API provides operations to authenticate users, perform multi-factor enrollment and verification, recover forgotten passwords, and unlock accounts. It can be used as a standalone API to provide the identity layer on top of your existing application, or it can be integrated with the Okta <a href="/docs/reference/api/sessions/">Sessions API</a> to obtain an Okta <a href="/docs/guides/session-cookie/">session cookie</a> and access apps within Okta.</p> <p>The API is targeted for developers who want to build their own end-to-end login experience to replace the built-in Okta login experience and addresses the following key scenarios:</p> <ul><li><strong>Primary authentication</strong> allows you to verify username and password credentials for a user.</li> <li><strong>Multifactor authentication</strong> (MFA) strengthens the security of password-based authentication by requiring additional verification of another factor such as a temporary one-time password or an SMS passcode. The Authentication API supports user enrollment with MFA factors enabled by the administrator, as well as MFA challenges based on your <strong>Okta Sign-On Policy</strong>.</li> <li><strong>Recovery</strong> allows users to securely reset their password if they've forgotten it, or unlock their account if it has been locked out due to excessive failed login attempts. This functionality is subject to the security policy set by the administrator.</li></ul> <h2 id="application-types">Application Types <a href="#application-types" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>The behavior of the Okta Authentication API varies depending on the type of your application and your org's security policies such as the <strong>Okta Sign-On Policy</strong>, <strong>MFA Enrollment Policy</strong>, or <strong>Password Policy</strong>.</p> <blockquote><p>Policy evaluation is conditional on the <a href="/docs/reference/api-overview/#client-request-context">client request context</a> such as IP address.</p></blockquote> <h3 id="public-application">Public Application <a href="#public-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>A public application is an application that anonymously starts an authentication or recovery transaction without an API token, such as the <a href="/code/javascript/okta_sign-in_widget/">Okta Sign-In Widget</a>.  Public applications are aggressively rate-limited to prevent abuse and require primary authentication to be successfully completed before releasing any metadata about a user.</p> <h3 id="trusted-application">Trusted Application <a href="#trusted-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>Trusted applications are backend applications that act as authentication broker or login portal for your Okta organization and may start an authentication or recovery transaction with an administrator API token.  Trusted apps may implement their own recovery flows and primary authentication process and may receive additional metadata about the user before primary authentication has successfully completed.</p> <blockquote><p>Trusted web applications may need to override the <a href="/docs/reference/api-overview/#client-request-context">client request context</a> to forward the originating client context for the user.</p></blockquote> <h2 id="getting-started-with-authentication">Getting Started with Authentication <a href="#getting-started-with-authentication" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <ol><li><p>Make sure you need the API. Check out the <a href="/code/javascript/okta_sign-in_widget/">Okta Sign-In Widget</a> which is built on the Authentication API. The Sign-In Widget is easier to use and supports basic use cases.</p></li> <li><p>For more advanced use cases, learn <a href="/code/rest/">the Okta API basics</a>.</p></li> <li><p>Explore the Authentication API:</p> <p><a href="https://app.getpostman.com/run-collection/f9684487e584101f25a3" target="_blank" rel="noopener noreferrer"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ol> <h2 id="authentication-operations">Authentication Operations <a href="#authentication-operations" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <h3 id="primary-authentication">Primary Authentication <a href="#primary-authentication" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn</span></span></p> <p>Every authentication transaction starts with primary authentication which validates a user's primary password credential. <strong>Password Policy</strong>, <strong>MFA Policy</strong>,  and <strong>Sign-On Policy</strong> are evaluated during primary authentication to determine if the user's password is expired, a factor should be enrolled, or additional verification is required. The <a href="#transaction-state">transaction state</a> of the response depends on the user's status, group memberships and assigned policies.</p> <p>The requests and responses vary depending on the application type, and whether a password expiration warning is sent:</p> <ul><li><a href="#primary-authentication-with-public-application">Primary Authentication with Public Application</a>—<a href="#request-example-for-primary-authentication-with-public-application">Request Example</a></li> <li><a href="#primary-authentication-with-trusted-application">Primary Authentication with Trusted Application</a>—<a href="#request-example-for-trusted-application">Request Example</a></li> <li><a href="#primary-authentication-with-activation-token">Primary Authentication with Activation Token</a>—<a href="#request-example-for-activation-token">Request Example</a></li> <li><a href="#primary-authentication-with-device-fingerprinting">Primary Authentication with Device Fingerprinting</a>—<a href="#request-example-for-device-fingerprinting">Request Example</a></li> <li><a href="#primary-authentication-with-password-expiration-warning">Primary Authentication with Password Expiration Warning</a>—<a href="#request-example-for-password-expiration-warning">Request Example</a></li></ul> <blockquote><p>You must first enable MFA factors and assign a valid <strong>Sign-On Policy</strong> to a user to enroll and/or verify a MFA factor during authentication.</p></blockquote> <h4 id="request-parameters-for-primary-authentication">Request Parameters for Primary Authentication <a href="#request-parameters-for-primary-authentication" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>As part of the authentication call either the username and password or the token parameter must be provided.</p> <table><thead><tr><th>Parameter</th> <th style="text-align:left;">Description</th> <th style="text-align:left;">Param Type</th> <th style="text-align:left;">DataType</th> <th style="text-align:left;">Required</th> <th style="text-align:left;">MaxLength</th></tr></thead> <tbody><tr><td>username</td> <td style="text-align:left;">User's non-qualified short-name (e.g. dade.murphy) or unique fully-qualified login (e.g dade.murphy@example.com)</td> <td style="text-align:left;">Body</td> <td style="text-align:left;">String</td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;"></td></tr> <tr><td>password</td> <td style="text-align:left;">User's password credential</td> <td style="text-align:left;">Body</td> <td style="text-align:left;">String</td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;"></td></tr> <tr><td>audience</td> <td style="text-align:left;">App ID of the target app the user is signing into</td> <td style="text-align:left;">Body</td> <td style="text-align:left;">String</td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;"></td></tr> <tr><td>options</td> <td style="text-align:left;">Opt-in features for the authentication transaction</td> <td style="text-align:left;">Body</td> <td style="text-align:left;"><a href="#options-object">Options Object</a></td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;"></td></tr> <tr><td>context</td> <td style="text-align:left;">Provides additional context for the authentication transaction</td> <td style="text-align:left;">Body</td> <td style="text-align:left;"><a href="#context-object">Context Object</a></td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;"></td></tr> <tr><td>token</td> <td style="text-align:left;">Token received as part of activation user request</td> <td style="text-align:left;">Body</td> <td style="text-align:left;">String</td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;"></td></tr></tbody></table> <h5 id="options-object">Options Object <a href="#options-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>The authentication transaction <a href="#transaction-state">state machine</a> can be modified via the following opt-in features:</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>multiOptionalFactorEnroll</td> <td>Transitions transaction back to <code>MFA_ENROLL</code> state after successful factor enrollment when additional optional factors are available for enrollment</td> <td>Boolean</td> <td>TRUE</td> <td>FALSE</td> <td>FALSE</td></tr> <tr><td>warnBeforePasswordExpired</td> <td>Transitions transaction to <code>PASSWORD_WARN</code> state before <code>SUCCESS</code> if the user's password is about to expire and within their password policy warn period</td> <td>Boolean</td> <td>TRUE</td> <td>FALSE</td> <td>FALSE</td></tr></tbody></table> <h5 id="context-object">Context Object <a href="#context-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>The context object allows <a href="#trusted-application">trusted web applications</a> such as an external portal to pass additional context for the authentication or recovery transaction.</p> <blockquote><p>Overriding context such as <code>deviceToken</code> is a highly privileged operation limited to trusted web applications and requires making authentication or recovery requests with a valid <em>administrator API token</em>. If an API token is not provided, the <code>deviceToken</code> will be ignored.</p></blockquote> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th> <th>MinLength</th> <th>MaxLength</th></tr></thead> <tbody><tr><td>deviceToken</td> <td>A globally unique ID identifying the user's client device or user agent</td> <td>String</td> <td>TRUE</td> <td>FALSE</td> <td>FALSE</td> <td></td> <td>32</td></tr></tbody></table> <blockquote><p>You must always pass the same <code>deviceToken</code> for a user's device with every authentication request for <strong>per-device</strong> or <strong>per-session</strong> Sign-On Policy factor challenges.  If the <code>deviceToken</code> is absent or does not match the previous <code>deviceToken</code>, the user will be challenged every-time instead of <strong>per-device</strong> or <strong>per-session</strong>.</p></blockquote> <p>It is recommended that you generate a UUID or GUID for each client and persist the <code>deviceToken</code> as a persistent cookie or HTML5 localStorage item scoped to your web application's origin.</p> <h4 id="response-parameters">Response Parameters <a href="#response-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <p><code>401 Unauthorized</code> status code is returned for requests with invalid credentials, locked out accounts or access denied by sign-on policy.</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">401 Unauthorized</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000004&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Authentication failed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000004&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaeuHRrvMnuRga5UzpKIOhKpQ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p><code>429 Too Many Requests</code> status code may be returned when the rate-limit is exceeded.</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">429 Too Many Requests</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json
<span class="token header-name keyword">X-Rate-Limit-Limit:</span> 1
<span class="token header-name keyword">X-Rate-Limit-Remaining:</span> 0
<span class="token header-name keyword">X-Rate-Limit-Reset:</span> 1447534590<span class="token application/json">

<span class="token punctuation">{</span>
    <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000047&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;API call exceeded rate limit due to too many requests.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000047&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaeWaNHfOyQSES34-a2Dw6Phw&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h4 id="primary-authentication-with-public-application">Primary Authentication with Public Application <a href="#primary-authentication-with-public-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Authenticates a user with username/password credentials via a <a href="#public-application">public application</a></p> <h5 id="request-example-for-primary-authentication-with-public-application">Request Example for Primary Authentication with Public Application <a href="#request-example-for-primary-authentication-with-public-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
  &quot;password&quot;: &quot;correcthorsebatterystaple&quot;,
  &quot;options&quot;: {
    &quot;multiOptionalFactorEnroll&quot;: false,
    &quot;warnBeforePasswordExpired&quot;: false
  }
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn&quot;</span>
</code></pre></div><h5 id="response-example-for-primary-authentication-with-public-application-success">Response Example for Primary Authentication with Public Application (Success) <a href="#response-example-for-primary-authentication-with-public-application-success" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Users with a valid password not assigned to a <strong>Sign-On Policy</strong> with additional verification requirements will successfully complete the authentication transaction.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00Fpzf4en68pCXTsMjcX8JPMctzN2Wiw4LDOBL_9pe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-for-primary-authentication-with-public-application-invalid-credentials">Response Example for Primary Authentication with Public Application (Invalid Credentials) <a href="#response-example-for-primary-authentication-with-public-application-invalid-credentials" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><code>401 Unauthorized</code> status code is returned for requests with invalid credentials or when access is denied based on sign-on policy.</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">401 Unauthorized</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000004&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Authentication failed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000004&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaeuHRrvMnuRga5UzpKIOhKpQ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="response-example-for-primary-authentication-with-public-application-locked-out">Response Example for Primary Authentication with Public Application (Locked Out) <a href="#response-example-for-primary-authentication-with-public-application-locked-out" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Primary authentication requests for a user with <code>LOCKED_OUT</code> status is conditional on the user's password policy.  Password policies define whether to hide or show  lockout failures which disclose a valid user identifier to the caller.</p> <h5 id="response-example-for-primary-authentication-with-public-application-and-hide-lockout-failures-default">Response Example for Primary Authentication with Public Application and Hide Lockout Failures (Default) <a href="#response-example-for-primary-authentication-with-public-application-and-hide-lockout-failures-default" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>If the user's password policy is configured to <strong>hide lockout failures</strong>, a <code>401 Unauthorized</code> error is returned preventing information disclosure of a valid user identifier.</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">401 Unauthorized</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000004&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Authentication failed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000004&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaeuHRrvMnuRga5UzpKIOhKpQ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="response-example-for-primary-authentication-with-public-application-and-show-lockout-failures">Response Example for Primary Authentication with Public Application and Show Lockout Failures <a href="#response-example-for-primary-authentication-with-public-application-and-show-lockout-failures" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>If the user's password policy is configure to <strong>show lockout failures</strong>, the authentication transaction completes with <code>LOCKED_OUT</code> status.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LOCKED_OUT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unlock&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/unlock&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-for-primary-authentication-with-public-application-and-expired-password">Response Example for Primary Authentication with Public Application and Expired Password <a href="#response-example-for-primary-authentication-with-public-application-and-expired-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>User must <a href="#change-password">change their expired password</a> to complete the authentication transaction.</p> <blockquote><p>Users will be challenged for MFA (<code>MFA_REQUIRED</code>) before <code>PASSWORD_EXPIRED</code> if they have an active factor enrollment</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD_EXPIRED&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;policy&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;complexity&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;minLength&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minLowerCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minUpperCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minNumber&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minSymbol&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;changePassword&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/credentials/change_password&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-for-primary-authentication-with-public-application-factor-challenge">Response Example for Primary Authentication with Public Application (Factor Challenge) <a href="#response-example-for-primary-authentication-with-public-application-factor-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>User is assigned to a <strong>Sign-On Policy</strong> that requires additional verification and must <a href="#verify-factor">select and verify</a> a previously enrolled <a href="#factor-object">factor</a> by <code>id</code> to complete the authentication transaction.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_REQUIRED&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rsalhpMQVYKHZKXZJQEW&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RSA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;verify&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/rsalhpMQVYKHZKXZJQEW/verify&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ostfm3hPNYSOIOIVTQWY&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token:software:totp&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;verify&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/ostfm3hPNYSOIOIVTQWY/verify&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms193zUBEROPBNZKPPE&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;phoneNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+1 XXX-XXX-1337&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;verify&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/sms193zUBEROPBNZKPPE/verify&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;clf193zUBEROPBNZKPPE&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;call&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
           <span class="token property">&quot;phoneNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+1 XXX-XXX-1337&quot;</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
           <span class="token property">&quot;verify&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
             <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/clf193zUBEROPBNZKPPE/verify&quot;</span><span class="token punctuation">,</span>
             <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
               <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                 <span class="token string">&quot;POST&quot;</span>
                <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opf3hkfocI4JTLAju0g4&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;deviceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SmartPhone_IPhone&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Gibson&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IOS&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9.0&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;verify&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opf3hkfocI4JTLAju0g4/verify&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-for-primary-authentication-with-public-application-factor-enroll">Response Example for Primary Authentication with Public Application (Factor Enroll) <a href="#response-example-for-primary-authentication-with-public-application-factor-enroll" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>User is assigned to a <strong>MFA Policy</strong> that requires enrollment during sign-on and must <a href="#enroll-factor">select a factor to enroll</a> to complete the authentication transaction.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RSA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RSA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token:software:totp&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;call&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
               <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="primary-authentication-with-trusted-application">Primary Authentication with Trusted Application <a href="#primary-authentication-with-trusted-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Authenticates a user via a <a href="#trusted-application">trusted application</a> or proxy that overrides <a href="/docs/reference/api-overview/#client-request-context">client request context</a>.</p> <p>Note:</p> <ul><li>Specifying your own <code>deviceToken</code> is a highly privileged operation limited to trusted web applications and requires making authentication requests with a valid <em>API token</em>. If an API token is not provided, the <code>deviceToken</code> will be ignored.</li> <li>The <strong>public IP address</strong> of your <a href="#trusted-application">trusted application</a> must be <a href="/docs/reference/api-overview/#ip-address">whitelisted as a gateway IP address</a> to forward the user agent's original IP address with the <code>X-Forwarded-For</code> HTTP header</li></ul> <h5 id="request-example-for-trusted-application">Request Example for Trusted Application <a href="#request-example-for-trusted-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Authorization: SSWS <span class="token variable">${api_token}</span>&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.86 Safari/537.36&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;X-Forwarded-For: 23.235.46.133&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
  &quot;password&quot;: &quot;correcthorsebatterystaple&quot;,
  &quot;options&quot;: {
    &quot;multiOptionalFactorEnroll&quot;: false,
    &quot;warnBeforePasswordExpired&quot;: false
  },
  &quot;context&quot;: {
    &quot;deviceToken&quot;: &quot;26q43Ak9Eh04p7H6Nnx0m69JqYOrfVBY&quot;
  }
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn&quot;</span>
</code></pre></div><h5 id="response-example-for-trusted-application">Response Example for Trusted Application <a href="#response-example-for-trusted-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00Fpzf4en68pCXTsMjcX8JPMctzN2Wiw4LDOBL_9pe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="primary-authentication-with-activation-token">Primary Authentication with Activation Token <a href="#primary-authentication-with-activation-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Authenticates a user via a <a href="#trusted-application">trusted application</a> or proxy that overrides the <a href="/docs/reference/api-overview/#client-request-context">client request context</a>.</p> <p>Note:</p> <ul><li>Specifying your own <code>deviceToken</code> is a highly privileged operation limited to trusted web applications and requires making authentication requests with a valid <em>API token</em>. If an API token is not provided, the <code>deviceToken</code> will be ignored.</li> <li>The <strong>public IP address</strong> of your <a href="#trusted-application">trusted application</a> must be <a href="/docs/reference/api-overview/#ip-address">whitelisted as a gateway IP address</a> to forward the user agent's original IP address with the <code>X-Forwarded-For</code> HTTP header</li></ul> <h5 id="request-example-for-activation-token">Request Example for Activation Token <a href="#request-example-for-activation-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Authorization: SSWS <span class="token variable">${api_token}</span>&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.86 Safari/537.36&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;X-Forwarded-For: 23.235.46.133&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;token&quot;: &quot;o7AFoTGE9xjQiHQK6dAa&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn&quot;</span>
</code></pre></div><h5 id="response-example-for-activation-token-success-user-with-password-no-mfa">Response Example for Activation Token (Success - User with Password, no MFA) <a href="#response-example-for-activation-token-success-user-with-password-no-mfa" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-03-29T21:42:30.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20111DuMTdPoBlMOqX5R_OAV3ku2bTWxP6wUIRT_jqkU6XTvOsJLmDq&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-03-29T21:37:25.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-for-activation-token-success-user-with-password-and-configured-mfa">Response Example for Activation Token (Success - User with Password and Configured MFA) <a href="#response-example-for-activation-token-success-user-with-password-and-configured-mfa" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00bMktAiPaI0Jo97bpiKxEw7drTgtukJKs33abrSpb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-03-29T21:49:09.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-03-29T21:37:25.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;question&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;questions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00u1nehnZ6qp4Qy8G0g4/factors/questions&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;GET&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token:software:totp&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token:software:totp&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GOOGLE&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GOOGLE&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token:hardware&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;YUBICO&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;YUBICO&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-for-activation-token-success-user-without-password">Response Example for Activation Token (Success - User Without Password) <a href="#response-example-for-activation-token-success-user-without-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>In the case where the user was created without credentials the response will trigger the workflow to <a href="#change-password">set the user's password</a>. After the password is configured, depending on the MFA setting, the workflow continues with MFA enrollment or a successful authentication completes.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;005Oj4_rx1yAYP2MFNobMXlM2wJ3QEyzgifBd_T6Go&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-03-29T21:35:47.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD_RESET&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ACCOUNT_ACTIVATION&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;policy&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;passwordExpireDays&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;complexity&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;minLength&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minLowerCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minUpperCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minNumber&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minSymbol&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;resetPassword&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/credentials/reset_password&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-for-activation-token-failure-invalid-or-expired-token">Response Example for Activation Token (Failure - Invalid or Expired Token) <a href="#response-example-for-activation-token-failure-invalid-or-expired-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">401 Unauthorized</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000004&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Authentication failed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000004&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oae2fYYJmkuTg-NyozqBkb3sw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h4 id="primary-authentication-with-device-fingerprinting">Primary Authentication with Device Fingerprinting <a href="#primary-authentication-with-device-fingerprinting" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Include the <code>X-Device-Fingerprint</code> header to supply a device fingerprint. The device fingerprint is used in the following ways</p> <ul><li>If the new or unknown-device email notification is enabled, an email is sent to the user if the device fingerprint sent in the header is not associated with previous successful logins.
For more information about this feature, see the <a href="https://help.okta.com/en/prod/Content/Topics/Security/Security_General.htm?" target="_blank" rel="noopener noreferrer">General Security documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>If you have the security behavior detection feature enabled and you have a new device behavior configured in a policy rule, a new device is detected if the device fingerprint sent
in the header is not associated with previous successful logins. For more information about this feature, see <a href="https://help.okta.com/en/prod/Content/Topics/Security/proc-security-behavior-detection.htm?" target="_blank" rel="noopener noreferrer">EA documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>Specifying your own device fingerprint is a highly privileged operation limited to trusted web applications and requires making authentication requests with a valid API token.
You should send the device fingerprint only if the trusted app has a computed fingerprint for the end user's client.</p> <p>Note:</p> <ul><li>Device fingerprint is different from the device token. The time and device based MFA in Okta SignOn policy rules depends on the device token only and not on the device fingerprint. To read more about the device token, see <a href="#context-object">Context Object</a>. The time and device based MFA would work only if you send the device token passed in the <a href="/docs/reference/api-overview/#client-request-context">client request context</a></li> <li>To use device fingerprinting for the new or unknown-device email notification feature, include the <code>User-Agent</code> header in the request. For more information, see the <a href="https://help.okta.com/en/prod/Content/Topics/Security/Security_General.htm?" target="_blank" rel="noopener noreferrer">General Security documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h5 id="request-example-for-device-fingerprinting">Request Example for Device Fingerprinting <a href="#request-example-for-device-fingerprinting" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">'Accept: application/json'</span> <span class="token punctuation">\</span>
-H <span class="token string">'Authorization: SSWS <span class="token variable">${api_token}</span>'</span> <span class="token punctuation">\</span>
-H <span class="token string">'Cache-Control: no-cache'</span> <span class="token punctuation">\</span>
-H <span class="token string">'Content-Type: application/json'</span> <span class="token punctuation">\</span>
-H <span class="token string">'X-Fowarded-For: 23.235.46.133'</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.86 Safari/537.36&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">'X-Device-Fingerprint: <span class="token variable">${device_fingerprint}</span>'</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;<span class="token variable">${username}</span>&quot;,
  &quot;password&quot; : &quot;<span class="token variable">${password}</span>&quot;,
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn&quot;</span>
</code></pre></div><h5 id="response-example-for-device-fingerprinting">Response Example for Device Fingerprinting <a href="#response-example-for-device-fingerprinting" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-04-26T17:14:17.000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20111Il76Eaub0eKNkLGwMUDg5D7dBSN9d_FO-0o7eHKQMyqV7VoqzZ&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ue5f54sbR7dFr9i0h7&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-04-26T17:06:07.000Z&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;saml.jackson@stark.com&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Saml&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Jackson&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="primary-authentication-with-password-expiration-warning">Primary Authentication with Password Expiration Warning <a href="#primary-authentication-with-password-expiration-warning" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Authenticates a user with a password that is about to expire.  The user should <a href="#change-password">change their password</a> to complete the authentication transaction but may skip.</p> <p>Note:</p> <ul><li>The <code>warnBeforePasswordExpired</code> option must be explicitly specified as <code>true</code> to allow the authentication transaction to transition to <code>PASSWORD_WARN</code> status.</li> <li>Non-expired passwords successfully complete the authentication transaction if this option is omitted or is specified as <code>false</code>.</li></ul> <h5 id="request-example-for-password-expiration-warning">Request Example for Password Expiration Warning <a href="#request-example-for-password-expiration-warning" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
  &quot;password&quot;: &quot;correcthorsebatterystaple&quot;,
  &quot;options&quot;: {
    &quot;multiOptionalFactorEnroll&quot;: false,
    &quot;warnBeforePasswordExpired&quot;: true
  }
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn&quot;</span>
</code></pre></div><h5 id="response-example-for-password-expiration-warning">Response Example for Password Expiration Warning <a href="#response-example-for-password-expiration-warning" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD_WARN&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;policy&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;passwordExpireDays&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;complexity&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;minLength&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minLowerCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minUpperCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minNumber&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minSymbol&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;changePassword&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/credentials/change_password&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;skip&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;skip&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/skip&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="sp-initiated-step-up-authentication">SP-initiated Step-up Authentication <a href="#sp-initiated-step-up-authentication" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <a href="/docs/reference/releases-at-okta/"><!----> <span class="api-label api-label-ea"><i class="fa fa-flag"></i> Early Access </span> <!----></a> <p>Note:</p> <ul><li>This endpoint is currently supported only for SAML-based apps.</li> <li>You must first enable custom login page for the application before using this API.</li></ul> <p>Every step-up transaction starts with user accessing an application.
If step-up authentication is required, Okta redirects the user to the custom login page with state token as a request parameter.</p> <p>For example, if the custom login page is set as <strong>https://login.example.com</strong>
then Okta will redirect to **https://login.example.com?stateToken=**00BClWr4T-mnIqPV8dHkOQlwEIXxB4LLSfBVt7BxsM.
To determine the next step, check the <a href="#get-transaction-state">state of the transaction</a>.</p> <ul><li><a href="#step-up-authentication-without-okta-session">Step-up Authentication without Okta session</a></li> <li><a href="#step-up-authentication-with-okta-session">Step-up Authentication with Okta session</a></li></ul> <h4 id="step-up-authentication-without-okta-session">Step-up Authentication Without Okta Session <a href="#step-up-authentication-without-okta-session" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <h5 id="request-example-for-step-up-authentication-without-okta-session-get-transaction-state">Request Example for Step-up Authentication Without Okta Session (Get Transaction State) <a href="#request-example-for-step-up-authentication-without-okta-session-get-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
   &quot;stateToken&quot;:&quot;00BClWr4T-mnIqPV8dHkOQlwEIXxB4LLSfBVt7BxsM&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn&quot;</span>
</code></pre></div><h5 id="response-example-for-step-up-authentication-without-okta-session">Response Example for Step-up Authentication Without Okta Session <a href="#response-example-for-step-up-authentication-without-okta-session" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00BClWr4T-mnIqPV8dHkOQlwEIXxB4LLSfBVt7BxsM&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;SESSION_STEP_UP&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-05-30T22:51:37.000Z&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;UNAUTHENTICATED&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;APP&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;salesforce&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;logo&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;medium&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/assets/img/logos/salesforce_logo.dbd7e0b4de118a1dae1c39d60a3c30e5.png&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;authentication&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span><span class="token string">&quot;SAML2.0&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;issuer&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0oa2x5jOopNCpswjo0g4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span><span class="token string">&quot;exk2x5ixHmk9MBnqz0g4&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;next&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;authenticate&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="request-example-for-step-up-authentication-without-okta-session-perform-primary-authentication">Request Example  for Step-up Authentication Without Okta Session (Perform Primary Authentication) <a href="#request-example-for-step-up-authentication-without-okta-session-perform-primary-authentication" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Primary authentication has to be completed by using the value of <strong>stateToken</strong> request parameter passed to custom login page.</p> <blockquote><p>Okta Sign-On Policy and the related App Sign-On Policy will be evaluated after successful primary authentication.</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
   &quot;stateToken&quot;:&quot;00BClWr4T-mnIqPV8dHkOQlwEIXxB4LLSfBVt7BxsM&quot;,
   &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
   &quot;password&quot;: &quot;correcthorsebatterystaple&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn&quot;</span>
</code></pre></div><h5 id="response-example-for-step-up-authentication-without-okta-session-when-mfa-isn-t-required">Response Example for Step-up Authentication Without Okta Session When MFA Isn't Required <a href="#response-example-for-step-up-authentication-without-okta-session-when-mfa-isn-t-required" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <blockquote><p>Sign in to the app by following the next link relation.</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00quAZYqYjXg9DZhS5UzE1wrJuQ6KKb_kzOeH7OGB5&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;SESSION_STEP_UP&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-05-30T23:19:40.000Z&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-03-29T21:37:25.000Z&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;APP&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;salesforce&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;logo&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;medium&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/assets/img/logos/salesforce_logo.dbd7e0b4de118a1dae1c39d60a3c30e5.png&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;authentication&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span><span class="token string">&quot;SAML2.0&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;issuer&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0oa2x5jOopNCpswjo0g4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span><span class="token string">&quot;exk2x5ixHmk9MBnqz0g4&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;next&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;original&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/login/step-up/redirect?stateToken=00quAZYqYjXg9DZhS5UzE1wrJuQ6KKb_kzOeH7OGB5&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;GET&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="step-up-authentication-with-okta-session">Step-up authentication with Okta Session <a href="#step-up-authentication-with-okta-session" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <h5 id="request-example-to-get-transaction-state-for-step-up-authentication-with-okta-session">Request Example to Get Transaction State for Step-up authentication with Okta Session <a href="#request-example-to-get-transaction-state-for-step-up-authentication-with-okta-session" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
   &quot;stateToken&quot;:&quot;00BClWr4T-mnIqPV8dHkOQlwEIXxB4LLSfBVt7BxsM&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn&quot;</span>
</code></pre></div><h5 id="response-example-for-factor-enroll-for-step-up-authentication-with-okta-session">Response Example for Factor Enroll for Step-up authentication with Okta Session <a href="#response-example-for-factor-enroll-for-step-up-authentication-with-okta-session" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>User is assigned to an MFA Policy that requires enrollment during sign-on and must <a href="#enroll-factor">select a factor to enroll</a> to complete the authentication transaction.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00zEfSRIpELrl87ndYiHNkvOEbyEPrBmTYuf9dsGLl&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;SESSION_STEP_UP&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-05-30T22:58:09.000Z&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;MFA_ENROLL&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-03-29T21:37:25.000Z&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
         <span class="token punctuation">{</span>
            <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                  <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
                  <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                     <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                        <span class="token string">&quot;POST&quot;</span>
                     <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
               <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;APP&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;salesforce&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;logo&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;medium&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/assets/img/logos/salesforce_logo.dbd7e0b4de118a1dae1c39d60a3c30e5.png&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;authentication&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span><span class="token string">&quot;SAML2.0&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;issuer&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0oa2x5jOopNCpswjo0g4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span><span class="token string">&quot;exk2x5ixHmk9MBnqz0g4&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-for-factor-challenge-for-step-up-authentication-with-okta-session">Response Example for Factor Challenge for Step-up authentication with Okta Session <a href="#response-example-for-factor-challenge-for-step-up-authentication-with-okta-session" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>User is assigned to a Sign-On Policy or App Sign-On Policy that requires additional verification and must <a href="#verify-factor">select and verify</a> a previously enrolled <a href="#factor-object">factor</a> by <code>id</code> to complete the authentication transaction.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00POAgFjELRueYUC1p7GFAmrm32EQa2HXw0_YssJ5J&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;SESSION_STEP_UP&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-05-30T23:07:00.000Z&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;MFA_REQUIRED&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-03-29T21:37:25.000Z&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
         <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;opf1cla0gggOBWxuC1d8&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span><span class="token string">&quot;abcd@okta.com&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;deviceType&quot;</span><span class="token operator">:</span><span class="token string">&quot;SmartPhone_Android&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;keys&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                  <span class="token punctuation">{</span>
                     <span class="token property">&quot;kty&quot;</span><span class="token operator">:</span><span class="token string">&quot;PKIX&quot;</span><span class="token punctuation">,</span>
                     <span class="token property">&quot;use&quot;</span><span class="token operator">:</span><span class="token string">&quot;sig&quot;</span><span class="token punctuation">,</span>
                     <span class="token property">&quot;kid&quot;</span><span class="token operator">:</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
                     <span class="token property">&quot;x5c&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                        <span class="token string">&quot;Mdkkdfjkdjf&quot;</span>
                     <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
               <span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;SM-N9005&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span><span class="token string">&quot;ANDROID&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token string">&quot;21&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;verify&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                  <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opf1cla0yyvOBWxuC1d8/verify&quot;</span><span class="token punctuation">,</span>
                  <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                     <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                        <span class="token string">&quot;POST&quot;</span>
                     <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
               <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;smsph8F1esz8LlSjo0g3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;phoneNumber&quot;</span><span class="token operator">:</span><span class="token string">&quot;+1 XXX-XXX-3161&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;verify&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                  <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/smsph8F1esz8LlSjo0g3/verify&quot;</span><span class="token punctuation">,</span>
                  <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                     <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                        <span class="token string">&quot;POST&quot;</span>
                     <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
               <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;policy&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;allowRememberDevice&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
         <span class="token property">&quot;rememberDeviceLifetimeInMinutes&quot;</span><span class="token operator">:</span><span class="token number">1440</span><span class="token punctuation">,</span>
         <span class="token property">&quot;rememberDeviceByDefault&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token property">&quot;factorsPolicyInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
             <span class="token property">&quot;opf1cla0gggOBWxuC1d8&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                 <span class="token property">&quot;autoPushEnabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
             <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;APP&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;salesforce&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;logo&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;medium&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/assets/img/logos/salesforce_logo.dbd7e0b4de118a1dae1c39d60a3c30e5.png&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;authentication&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span><span class="token string">&quot;SAML2.0&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;issuer&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0oa2x5jOopNCpswjo0g4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span><span class="token string">&quot;exk2x5ixHmk9MBnqz0g4&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-after-authentication-and-mfa-are-complete-for-step-up-authentication-with-okta-session">Response Example After Authentication and MFA are Complete for Step-up authentication with Okta Session <a href="#response-example-after-authentication-and-mfa-are-complete-for-step-up-authentication-with-okta-session" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <blockquote><p>Sign in to the app by following the next link relation.</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00quAZYqYjXg9DZhS5UzE1wrJuQ6KKb_kzOeH7OGB5&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;SESSION_STEP_UP&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-05-30T23:19:40.000Z&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-03-29T21:37:25.000Z&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;APP&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;salesforce&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;logo&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;medium&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/assets/img/logos/salesforce_logo.dbd7e0b4de118a1dae1c39d60a3c30e5.png&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;authentication&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span><span class="token string">&quot;SAML2.0&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;issuer&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0oa2x5jOopNCpswjo0g4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span><span class="token string">&quot;exk2x5ixHmk9MBnqz0g4&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;next&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;original&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/login/step-up/redirect?stateToken=00quAZYqYjXg9DZhS5UzE1wrJuQ6KKb_kzOeH7OGB5&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;GET&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="idp-initiated-step-up-authentication">IDP-initiated Step-up Authentication <a href="#idp-initiated-step-up-authentication" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn</span></span></p> <a href="/docs/reference/releases-at-okta/"><!----> <span class="api-label api-label-ea"><i class="fa fa-flag"></i> Early Access </span> <!----></a> <p>Authenticates a user for signing into the specified application.</p> <p>Note:</p> <ul><li>Only WS-Federation, SAML based apps are supported.</li> <li>Pass the application instance ID of the app as <a href="#request-parameters-for-primary-authentication">&quot;audience&quot;</a> along with the user credentials.</li></ul> <blockquote><p>Okta Sign-on Policy and the related App Sign-on Policy will be evaluated after successful primary authentication.</p></blockquote> <h5 id="request-example-for-idp-initiated-step-up-authentication">Request Example for IDP initiated Step-up Authentication <a href="#request-example-for-idp-initiated-step-up-authentication" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
  &quot;password&quot;: &quot;correcthorsebatterystaple&quot;,
  &quot;audience&quot;: &quot;0oa6gva7owNAhDam50h7&quot;,
  &quot;options&quot;: {
    &quot;multiOptionalFactorEnroll&quot;: false,
    &quot;warnBeforePasswordExpired&quot;: true
  }
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn&quot;</span>
</code></pre></div><h5 id="response-example-when-mfa-isn-t-required">Response Example When MFA Isn't Required <a href="#response-example-when-mfa-isn-t-required" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00quAZYqYjXg9DZhS5UzE1wrJuQ6KKb_kzOeH7OGB5&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;SESSION_STEP_UP&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-05-30T23:19:40.000Z&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-03-29T21:37:25.000Z&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;APP&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;salesforce&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;logo&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;medium&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/assets/img/logos/salesforce_logo.dbd7e0b4de118a1dae1c39d60a3c30e5.png&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;authentication&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span><span class="token string">&quot;SAML2.0&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;issuer&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0oa2x5jOopNCpswjo0g4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span><span class="token string">&quot;exk2x5ixHmk9MBnqz0g4&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;next&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;original&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/login/step-up/redirect?stateToken=00quAZYqYjXg9DZhS5UzE1wrJuQ6KKb_kzOeH7OGB5&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;GET&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>Sign in to the app by following the <code>next</code> link relation.</p></blockquote> <h5 id="response-example-for-factor-enroll">Response Example for Factor Enroll <a href="#response-example-for-factor-enroll" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>User is assigned to an MFA Policy that requires enrollment during sign-on and must <a href="#enroll-factor">select a factor to enroll</a> to complete the authentication transaction.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00zEfSRIpELrl87ndYiHNkvOEbyEPrBmTYuf9dsGLl&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;SESSION_STEP_UP&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-05-30T22:58:09.000Z&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;MFA_ENROLL&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-03-29T21:37:25.000Z&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
         <span class="token punctuation">{</span>
            <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                  <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
                  <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                     <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                        <span class="token string">&quot;POST&quot;</span>
                     <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
               <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;APP&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;salesforce&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;logo&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;medium&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/assets/img/logos/salesforce_logo.dbd7e0b4de118a1dae1c39d60a3c30e5.png&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;authentication&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span><span class="token string">&quot;SAML2.0&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;issuer&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0oa2x5jOopNCpswjo0g4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span><span class="token string">&quot;exk2x5ixHmk9MBnqz0g4&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-for-factor-challenge">Response Example for Factor Challenge <a href="#response-example-for-factor-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>User is assigned to a Sign-on Policy or App Sign-on Policy that requires additional verification and must <a href="#verify-factor">select and verify</a> a previously enrolled <a href="#factor-object">factor</a> by <code>id</code> to complete the authentication transaction.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00POAgFjELRueYUC1p7GFAmrm32EQa2HXw0_YssJ5J&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;SESSION_STEP_UP&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-05-30T23:07:00.000Z&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;MFA_REQUIRED&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017-03-29T21:37:25.000Z&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
         <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;opf1cla0gggOBWxuC1d8&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span><span class="token string">&quot;abcd@okta.com&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;deviceType&quot;</span><span class="token operator">:</span><span class="token string">&quot;SmartPhone_Android&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;keys&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                  <span class="token punctuation">{</span>
                     <span class="token property">&quot;kty&quot;</span><span class="token operator">:</span><span class="token string">&quot;PKIX&quot;</span><span class="token punctuation">,</span>
                     <span class="token property">&quot;use&quot;</span><span class="token operator">:</span><span class="token string">&quot;sig&quot;</span><span class="token punctuation">,</span>
                     <span class="token property">&quot;kid&quot;</span><span class="token operator">:</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
                     <span class="token property">&quot;x5c&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                        <span class="token string">&quot;Mdkkdfjkdjf&quot;</span>
                     <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
               <span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;SM-N9005&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span><span class="token string">&quot;ANDROID&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token string">&quot;21&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;verify&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                  <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opf1cla0yyvOBWxuC1d8/verify&quot;</span><span class="token punctuation">,</span>
                  <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                     <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                        <span class="token string">&quot;POST&quot;</span>
                     <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
               <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;smsph8F1esz8LlSjo0g3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;phoneNumber&quot;</span><span class="token operator">:</span><span class="token string">&quot;+1 XXX-XXX-3161&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;verify&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                  <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/smsph8F1esz8LlSjo0g3/verify&quot;</span><span class="token punctuation">,</span>
                  <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                     <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                        <span class="token string">&quot;POST&quot;</span>
                     <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
               <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;policy&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;allowRememberDevice&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
         <span class="token property">&quot;rememberDeviceLifetimeInMinutes&quot;</span><span class="token operator">:</span><span class="token number">1440</span><span class="token punctuation">,</span>
         <span class="token property">&quot;rememberDeviceByDefault&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token property">&quot;factorsPolicyInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
             <span class="token property">&quot;opf1cla0gggOBWxuC1d8&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                 <span class="token property">&quot;autoPushEnabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
             <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;APP&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;salesforce&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;logo&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;medium&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/assets/img/logos/salesforce_logo.dbd7e0b4de118a1dae1c39d60a3c30e5.png&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;authentication&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span><span class="token string">&quot;SAML2.0&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;issuer&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0oa2x5jOopNCpswjo0g4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span><span class="token string">&quot;exk2x5ixHmk9MBnqz0g4&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-for-invalid-or-unknown-application">Response Example for Invalid or Unknown Application <a href="#response-example-for-invalid-or-unknown-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">400 Bad Request</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
    <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Api validation failed: authRequest&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oae-W6QeEcJQKarRZv8JcmtrA&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid or unknown audience '0oa6gva7owNAhDam50h7'.&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="response-example-for-unsupported-application">Response Example for Unsupported Application <a href="#response-example-for-unsupported-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">400 Bad Request</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
    <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Api validation failed: authRequest&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaelApNWe8WR4uiK7EROTqp-Q&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Sign-in not allowed for app '0oapt2yIp38ySYiMP0g3'.&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h3 id="change-password">Change Password <a href="#change-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/credentials/change_password</span></span></p> <p>This operation changes a user's password by providing the existing password and the new password for authentication transactions with either the <code>PASSWORD_EXPIRED</code> or <code>PASSWORD_WARN</code> state.</p> <ul><li>A user <em>must</em> change their expired password for an authentication transaction with <code>PASSWORD_EXPIRED</code> status to successfully complete the transaction.</li> <li>A user <em>may</em> opt-out of changing their password (skip) when the transaction has a <code>PASSWORD_WARN</code> status.</li></ul> <h4 id="request-parameters-for-change-password">Request Parameters for Change Password <a href="#request-parameters-for-change-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>oldPassword</td> <td>User's current password that is expired or about to expire</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>newPassword</td> <td>New password for user</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h4 id="response-parameters-for-change-password">Response Parameters for Change Password <a href="#response-parameters-for-change-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <p>If the <code>oldPassword</code> is invalid you will receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000014&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Update of credentials failed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000014&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaeYx8fd_-VQdONMI5OYcqoqw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oldPassword: The credentials provided were incorrect.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>If the <code>newPassword</code> does not meet password policy requirements, you will receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000014&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The password does meet the complexity requirements of the current password policy.&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000014&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaeuNNAquYEQkWFnUVG86Abbw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Passwords must have at least 8 characters, a lowercase letter, an uppercase letter, a number, no parts of your username&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="request-example-for-change-password">Request Example for Change Password <a href="#request-example-for-change-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;oldPassword&quot;: &quot;correcthorsebatterystaple&quot;,
  &quot;newPassword&quot;: &quot;Ch-ch-ch-ch-Changes!&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/credentials/change_password&quot;</span>
</code></pre></div><h5 id="response-example-for-change-password">Response Example for Change Password <a href="#response-example-for-change-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00Fpzf4en68pCXTsMjcX8JPMctzN2Wiw4LDOBL_9pe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="multifactor-authentication-operations">Multifactor Authentication Operations <a href="#multifactor-authentication-operations" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>You can enroll, activate, manage, and verify factors inside the authentication context with <code>/api/v1/authn/factors</code>.</p> <blockquote><p>You can enroll, manage, and verify factors outside the authentication context with <a href="/docs/reference/api/factors/#factor-verification-operations"><code>/api/v1/users/:uid/factors/</code></a>.</p></blockquote> <h3 id="enroll-factor">Enroll Factor <a href="#enroll-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/factors</span></span></p> <span class="api-label api-label-cors api-uri-template-cors"><i class="fa fa-cloud-download"></i>
  CORS
</span> <p>Enrolls a user with a <a href="/docs/reference/api/factors/#supported-factors-for-providers">factor</a> assigned by their <strong>MFA Policy</strong>.</p> <ul><li><a href="#enroll-okta-security-question-factor">Enroll Okta Security Question Factor</a></li> <li><a href="#enroll-okta-sms-factor">Enroll Okta SMS Factor</a></li> <li><a href="#enroll-okta-call-factor">Enroll Okta Call Factor</a></li> <li><a href="#enroll-okta-verify-totp-factor">Enroll Okta Verify TOTP Factor</a></li> <li><a href="#enroll-okta-verify-push-factor">Enroll Okta Verify Push Factor</a></li> <li><a href="#enroll-google-authenticator-factor">Enroll Google Authenticator Factor</a></li> <li><a href="#enroll-rsa-securid-factor">Enroll RSA SecurID Factor</a></li> <li><a href="#enroll-symantec-vip-factor">Enroll Symantec VIP Factor</a></li> <li><a href="#enroll-yubikey-factor">Enroll YubiKey Factor</a></li> <li><a href="#enroll-duo-factor">Enroll Duo Factor</a></li> <li><a href="#enroll-u2f-factor">Enroll U2F Factor</a></li> <li><a href="#enroll-webauthn-factor">Enroll WebAuthn Factor</a></li> <li><a href="#enroll-custom-hotp-factor">Enroll Custom HOTP Factor</a></li></ul> <blockquote><p>This operation is only available for users that have not previously enrolled a factor and have transitioned to the <code>MFA_ENROLL</code> <a href="#transaction-state">state</a>.</p></blockquote> <h4 id="request-parameters-for-enroll-factor">Request Parameters for Enroll Factor <a href="#request-parameters-for-enroll-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>factorType</td> <td>type of factor</td> <td>Body</td> <td><a href="/docs/reference/api/factors/#factor-type">Factor Type</a></td> <td>TRUE</td></tr> <tr><td>provider</td> <td>factor provider</td> <td>Body</td> <td><a href="/docs/reference/api/factors/#provider-type">Provider Type</a></td> <td>TRUE</td></tr> <tr><td>profile</td> <td>profile of a <a href="/docs/reference/api/factors/#supported-factors-for-providers">supported factor</a></td> <td>Body</td> <td><a href="/docs/reference/api/factors/#factor-profile-object">Factor Profile Object</a></td> <td>TRUE</td></tr></tbody></table> <h4 id="response-parameters-for-enroll-factor">Response Parameters for Enroll Factor <a href="#response-parameters-for-enroll-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <blockquote><p>Some <a href="/docs/reference/api/factors/#factor-type">factor types</a> require <a href="#activate-factor">activation</a> to complete the enrollment process.  The <a href="#transaction-state">authentication transaction</a> will transition to <code>MFA_ENROLL_ACTIVATE</code> if a factor requires activation.</p></blockquote> <h4 id="enroll-okta-security-question-factor">Enroll Okta Security Question Factor <a href="#enroll-okta-security-question-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Enrolls a user with the Okta <code>question</code> factor and <a href="/docs/reference/api/factors/#question-profile">question profile</a>.</p> <blockquote><p>Security Question factor does not require activation and is <code>ACTIVE</code> after enrollment</p></blockquote> <h5 id="request-example-for-enroll-okta-security-question-factor">Request Example for Enroll Okta Security Question Factor <a href="#request-example-for-enroll-okta-security-question-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;factorType&quot;: &quot;question&quot;,
  &quot;provider&quot;: &quot;OKTA&quot;,
  &quot;profile&quot;: {
    &quot;question&quot;: &quot;disliked_food&quot;,
    &quot;answer&quot;: &quot;mayonnaise&quot;
  }
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors&quot;</span>
</code></pre></div><h5 id="response-example-for-enroll-okta-security-question-factor">Response Example for Enroll Okta Security Question Factor <a href="#response-example-for-enroll-okta-security-question-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00OhZsSfoCtbJTrU2XkwntfEl-jCj6ck6qcU_kA049&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="enroll-okta-sms-factor">Enroll Okta SMS Factor <a href="#enroll-okta-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Enrolls a user with the Okta <code>sms</code> factor and an <a href="/docs/reference/api/factors/#sms-profile">SMS profile</a>.  A text message with an OTP is sent to the device during enrollment and must be <a href="#activate-sms-factor">activated</a> by following the <code>next</code> link relation to complete the enrollment process.</p> <h5 id="request-example-for-enroll-okta-sms-factor">Request Example for Enroll Okta SMS Factor <a href="#request-example-for-enroll-okta-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;factorType&quot;: &quot;sms&quot;,
  &quot;provider&quot;: &quot;OKTA&quot;,
  &quot;profile&quot;: {
    &quot;phoneNumber&quot;: &quot;+1-555-415-1337&quot;
  }
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors&quot;</span>
</code></pre></div><h5 id="response-example-for-enroll-okta-sms-factor">Response Example for Enroll Okta SMS Factor <a href="#response-example-for-enroll-okta-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mbl198rKSEWOSKRIVIFT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;phoneNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+1 XXX-XXX-1337&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/mbl198rKSEWOSKRIVIFT/lifecycle/activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resend&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/mbl198rKSEWOSKRIVIFT/lifecycle/resend&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;POST&quot;</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="resend-sms-as-part-of-enrollment">Resend SMS as Part of Enrollment <a href="#resend-sms-as-part-of-enrollment" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Use the <code>resend</code> link to send another OTP if user doesn't receive the original activation SMS OTP.</p> <h6 id="request-example-for-resend-sms">Request Example for Resend SMS <a href="#request-example-for-resend-sms" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;factorType&quot;: &quot;sms&quot;,
  &quot;provider&quot;: &quot;OKTA&quot;,
  &quot;profile&quot;: {
    &quot;phoneNumber&quot;: &quot;+1-555-415-1337&quot;
  }
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/mbl198rKSEWOSKRIVIFT/lifecycle/resend&quot;</span>
</code></pre></div><h4 id="enroll-okta-call-factor">Enroll Okta Call Factor <a href="#enroll-okta-call-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Enrolls a user with the Okta <code>call</code> factor and a <a href="/docs/reference/api/factors/#call-profile">Call profile</a>.  A voice call with an OTP is sent to the device during enrollment and must be <a href="#activate-call-factor">activated</a> by following the <code>next</code> link relation to complete the enrollment process.</p> <h5 id="request-example-for-enroll-okta-call-factor">Request Example for Enroll Okta Call Factor <a href="#request-example-for-enroll-okta-call-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;factorType&quot;: &quot;call&quot;,
  &quot;provider&quot;: &quot;OKTA&quot;,
  &quot;profile&quot;: {
    &quot;phoneNumber&quot;: &quot;+1-555-415-1337&quot;
  }
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors&quot;</span>
</code></pre></div><h5 id="response-example-for-enroll-okta-call-factor">Response Example for Enroll Okta Call Factor <a href="#response-example-for-enroll-okta-call-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;clf198rKSEWOSKRIVIFT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;call&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;phoneNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+1 XXX-XXX-1337&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/clf198rKSEWOSKRIVIFT/lifecycle/activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resend&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;call&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/clf198rKSEWOSKRIVIFT/lifecycle/resend&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;POST&quot;</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="resend-voice-call-as-part-of-enrollment">Resend Voice Call as Part of Enrollment <a href="#resend-voice-call-as-part-of-enrollment" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Use the <code>resend</code> link to send another OTP if user doesn't receive the original activation Voice Call OTP.</p> <h6 id="request-example-for-resend-voice-call">Request Example for Resend Voice Call <a href="#request-example-for-resend-voice-call" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;factorType&quot;: &quot;call&quot;,
  &quot;provider&quot;: &quot;OKTA&quot;,
  &quot;profile&quot;: {
    &quot;phoneNumber&quot;: &quot;+1-555-415-1337&quot;
  }
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/clf198rKSEWOSKRIVIFT/lifecycle/resend&quot;</span>
</code></pre></div><h4 id="enroll-okta-verify-totp-factor">Enroll Okta Verify TOTP Factor <a href="#enroll-okta-verify-totp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Enrolls a user with the Okta <code>token:software:totp</code> factor.  The factor must be <a href="#activate-totp-factor">activated</a> after enrollment by following the <code>next</code> link relation to complete the enrollment process.</p> <blockquote><p>This API implements <a href="https://tools.ietf.org/html/rfc6238" target="_blank" rel="noopener noreferrer">the TOTP standard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which is used by apps like Okta Verify and Google Authenticator.</p></blockquote> <h5 id="request-example-for-enroll-okta-verify-totp-factor">Request Example for Enroll Okta Verify TOTP Factor <a href="#request-example-for-enroll-okta-verify-totp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;factorType&quot;: &quot;token:software:totp&quot;,
  &quot;provider&quot;: &quot;OKTA&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors&quot;</span>
</code></pre></div><h5 id="response-example-for-enroll-okta-verify-totp-factor">Response Example for Enroll Okta Verify TOTP Factor <a href="#response-example-for-enroll-okta-verify-totp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ostf2xjtDKWFPZIKYDZV&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token:software:totp&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;timeStep&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
          <span class="token property">&quot;sharedSecret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KBMTM32UJZSXQ2DW&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;encoding&quot;</span><span class="token operator">:</span> <span class="token string">&quot;base32&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;keyLength&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
          <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;qrcode&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00ub0oNGTSWTBKOLGLNR/factors/ostf2xjtDKWFPZIKYDZV/qr/00Mb0zqhJQohwCDkB2wOifajAsAosEAXvDwuCmsAZs&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/ostf2xjtDKWFPZIKYDZV/lifecycle/activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="enroll-okta-verify-push-factor">Enroll Okta Verify Push Factor <a href="#enroll-okta-verify-push-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Enrolls a user with the Okta verify <code>push</code> factor. The factor must be <a href="#activate-push-factor">activated on the device</a> by scanning the QR code or visiting the activation link sent via email or sms.</p> <p>Use the published activation links to embed the QR code or distribute an activation <code>email</code> or <code>sms</code>.</p> <blockquote><p>This API implements <a href="https://tools.ietf.org/html/rfc6238" target="_blank" rel="noopener noreferrer">the TOTP standard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which is used by apps like Okta Verify and Google Authenticator.</p></blockquote> <h5 id="request-example-for-enroll-okta-verify-push-factor">Request Example for Enroll Okta Verify Push Factor <a href="#request-example-for-enroll-okta-verify-push-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;factorType&quot;: &quot;push&quot;,
  &quot;provider&quot;: &quot;OKTA&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors&quot;</span>
</code></pre></div><h5 id="response-example-for-enroll-okta-verify-push-factor">Response Example for Enroll Okta Verify Push Factor <a href="#response-example-for-enroll-okta-verify-push-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opfh52xcuft3J4uZc0g3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;qrcode&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00ub0oNGTSWTBKOLGLNR/factors/opfh52xcuft3J4uZc0g3/qr/00fukNElRS_Tz6k-CFhg3pH4KO2dj2guhmaapXWbc4&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;send&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00ub0oNGTSWTBKOLGLNR/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/email&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;POST&quot;</span>
                  <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00ub0oNGTSWTBKOLGLNR/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/sms&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;POST&quot;</span>
                  <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;poll&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/poll&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="enroll-google-authenticator-factor">Enroll Google Authenticator Factor <a href="#enroll-google-authenticator-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Enrolls a user with the Google <code>token:software:totp</code> factor.  The factor must be <a href="#activate-totp-factor">activated</a> after enrollment by following the <code>next</code> link relation to complete the enrollment process.</p> <h5 id="request-example-for-enroll-google-authenticator-factor">Request Example for Enroll Google Authenticator Factor <a href="#request-example-for-enroll-google-authenticator-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;factorType&quot;: &quot;token:software:totp&quot;,
  &quot;provider&quot;: &quot;GOOGLE&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors&quot;</span>
</code></pre></div><h5 id="response-example-for-enroll-google-authenticator-factor">Response Example for Enroll Google Authenticator Factor <a href="#response-example-for-enroll-google-authenticator-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ostf2xjtDKWFPZIKYDZV&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token:software:totp&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GOOGLE&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;timeStep&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
          <span class="token property">&quot;sharedSecret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KYCRM33UJZSXQ2DW&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;encoding&quot;</span><span class="token operator">:</span> <span class="token string">&quot;base32&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;keyLength&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
          <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;qrcode&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00ub0oNGTSWTBKOLGLNR/factors/uftm3iHSGFQXHCUSDAND/qr/00Mb0zqhJQohwCDkB2wOifajAsAosEAXvDwuCmsAZs&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/uftm3iHSGFQXHCUSDAND/lifecycle/activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="enroll-rsa-securid-factor">Enroll RSA SecurID Factor <a href="#enroll-rsa-securid-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Enrolls a user with a RSA SecurID factor and a <a href="/docs/reference/api/factors/#token-profile">token profile</a>.  RSA tokens must be verified with the <a href="/docs/reference/api/factors/#factor-verification-object">current pin+passcode</a> as part of the enrollment request.</p> <h5 id="request-example-for-enroll-rsa-securid-factor">Request Example for Enroll RSA SecurID Factor <a href="#request-example-for-enroll-rsa-securid-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Authorization: SSWS <span class="token variable">${api_token}</span>&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;factorType&quot;: &quot;token&quot;,
  &quot;provider&quot;: &quot;RSA&quot;,
  &quot;profile&quot;: {
    &quot;credentialId&quot;: &quot;dade.murphy@example.com&quot;
  },
  &quot;passCode&quot;: &quot;5275875498&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/users/00u15s1KDETTQMQYABRL/factors&quot;</span>
</code></pre></div><h5 id="response-example-for-enroll-rsa-securid-factor">Response Example for Enroll RSA SecurID Factor <a href="#response-example-for-enroll-rsa-securid-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00OhZsSfoCtbJTrU2XkwntfEl-jCj6ck6qcU_kA049&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="enroll-symantec-vip-factor">Enroll Symantec VIP Factor <a href="#enroll-symantec-vip-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Enrolls a user with a Symantec VIP factor and a <a href="/docs/reference/api/factors/#token-profile">token profile</a>.  Symantec tokens must be verified with the <a href="/docs/reference/api/factors/#factor-verification-object">current and next passcodes</a> as part of the enrollment request.</p> <h5 id="request-example-for-enroll-symantec-vip-factor">Request Example for Enroll Symantec VIP Factor <a href="#request-example-for-enroll-symantec-vip-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Authorization: SSWS <span class="token variable">${api_token}</span>&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;factorType&quot;: &quot;token&quot;,
  &quot;provider&quot;: &quot;SYMANTEC&quot;,
  &quot;profile&quot;: {
    &quot;credentialId&quot;: &quot;VSMT14393584&quot;
  },
  &quot;passCode&quot;: &quot;875498&quot;,
  &quot;nextPassCode&quot;: &quot;678195&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/users/00u15s1KDETTQMQYABRL/factors&quot;</span>
</code></pre></div><h5 id="response-example-for-enroll-symantec-vip-factor">Response Example for Enroll Symantec VIP Factor <a href="#response-example-for-enroll-symantec-vip-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00OhZsSfoCtbJTrU2XkwntfEl-jCj6ck6qcU_kA049&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="enroll-yubikey-factor">Enroll YubiKey Factor <a href="#enroll-yubikey-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Enrolls a user with a Yubico factor (YubiKey).  YubiKeys must be verified with the <a href="/docs/reference/api/factors/#factor-verification-object">current passcode</a> as part of the enrollment request.</p> <h5 id="request-example-for-enroll-yubikey-factor">Request Example for Enroll YubiKey Factor <a href="#request-example-for-enroll-yubikey-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Authorization: SSWS <span class="token variable">${api_token}</span>&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;factorType&quot;: &quot;token:hardware&quot;,
  &quot;provider&quot;: &quot;YUBICO&quot;,
  &quot;passCode&quot;: &quot;cccccceukngdfgkukfctkcvfidnetljjiknckkcjulji&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/users/00u15s1KDETTQMQYABRL/factors&quot;</span>
</code></pre></div><h5 id="response-example-for-enroll-yubikey-factor">Response Example for Enroll YubiKey Factor <a href="#response-example-for-enroll-yubikey-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00OhZsSfoCtbJTrU2XkwntfEl-jCj6ck6qcU_kA049&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="enroll-duo-factor">Enroll Duo Factor <a href="#enroll-duo-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>The enrollment process starts with an enrollment request to Okta, then continues with the Duo widget that is embedded in the page. The page needs to create an iframe with the name <code>duo_iframe</code> (described <a href="https://duo.com/docs/duoweb#3.-show-the-iframe" target="_blank" rel="noopener noreferrer">in Duo documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) to host the widget. The script address is received in the response object in _embedded.factor._embedded._links.script object. The information to initialize the Duo object is taken from _embedded.factor._embedded.activation object as it is shown in the <a href="#full-page-example-for-duo-enrollment">full example</a>. In order to maintain the link between Duo and Okta the stateToken must be passed back when Duo calls the callback. This is done by populating the hidden element in the &quot;duo_form&quot; as it is described <a href="https://duo.com/docs/duoweb/#passing-additional-post-arguments-with-the-signed-response" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. After Duo enrollment and verification is done, the Duo script makes a call back to Okta. To complete the authentication process, make a call using <a href="#activation-poll-request-example">the poll link</a> to get session token and verify successful state.</p> <h5 id="request-example-for-enroll-duo-factor">Request Example for Enroll Duo Factor <a href="#request-example-for-enroll-duo-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;factorType&quot;: &quot;web&quot;,
  &quot;provider&quot;: &quot;DUO&quot;,
  &quot;stateToken&quot;: &quot;$(stateToken}&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors&quot;</span>
</code></pre></div><h5 id="response-example-for-enroll-duo-factor">Response Example for Enroll Duo Factor <a href="#response-example-for-enroll-duo-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00BlN4kOtm7wNxuM8nuXsOK1PFXBkvvTH-buJUrgWX&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T13:14:52.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span><span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00uku2SnbUX49SAGb0g3&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T13:07:51.000Z&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
              <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;first.last@gexample.com&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Last&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;dsflnpo99zpfMyaij0g3&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;DUO&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;DUO&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
              <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span><span class="token string">&quot;first.last@gexample.com&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
              <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                  <span class="token property">&quot;host&quot;</span><span class="token operator">:</span><span class="token string">&quot;api-your-host.duosecurity.com&quot;</span><span class="token punctuation">,</span>
                  <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token string">&quot;TX|...your-signature&quot;</span><span class="token punctuation">,</span>
                  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span><span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
                  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                      <span class="token property">&quot;complete&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                          <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/dsflnpo99zpfMyaij0g3/lifecycle/duoCallback&quot;</span><span class="token punctuation">,</span>
                          <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                                  <span class="token string">&quot;POST&quot;</span>
                             <span class="token punctuation">]</span>
                          <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token property">&quot;script&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                          <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/js/sections/duo/Duo-Web-v2.js&quot;</span><span class="token punctuation">,</span>
                          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;text/javascript; charset=utf-8&quot;</span>
                      <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;next&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;poll&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/dsflnpo99zpfMyaij0g3/lifecycle/activate/poll&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                   <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                  <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                  <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="full-page-example-for-duo-enrollment">Full Page Example for Duo enrollment <a href="#full-page-example-for-duo-enrollment" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>In this example we will put all the elements together in html page.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--
            The Duo SDK will automatically bind to this iFrame and populate it for us.
            See https://www.duosecurity.com/docs/duoweb for more info.
         --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>duo_iframe<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>620<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>330<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--
            The Duo SDK will automatically bind to this form and submit it for us.
            See https://www.duosecurity.com/docs/duoweb for more info.
         --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>duo_form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- The state token is required here (in order to bind anonymous request back into Auth API) --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stateToken<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>00BlN4kOtm7wNxuM8nuXsOK1PFXBkvvTH-buJUrgWX<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://${yourOktaDomain}/js/sections/duo/Duo-Web-v2.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- The host, sig_request, and post_action values will be given via the Auth API --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
            Duo<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token string">'host'</span><span class="token punctuation">:</span> <span class="token string">'api-your-host.duosecurity.com'</span><span class="token punctuation">,</span>
                <span class="token string">'sig_request'</span><span class="token punctuation">:</span> <span class="token string">'TX|...your-signature'</span><span class="token punctuation">,</span>
                <span class="token string">'post_action'</span><span class="token punctuation">:</span> <span class="token string">'https://${yourOktaDomain}/api/v1/authn/factors/dsflnpo99zpfMyaij0g3/lifecycle/duoCallback'</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="activation-poll-request-example">Activation Poll Request Example <a href="#activation-poll-request-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>The poll is to verify successful authentication and to obtain session token.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;$(stateToken}&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/<span class="token variable">${factorId}</span>/lifecycle/activate/poll&quot;</span>
</code></pre></div><h5 id="activation-poll-response-example">Activation Poll Response Example <a href="#activation-poll-response-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T13:37:42.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;20111zMXPaEe_lEw7pg2Ub810HDkpBwzSVBEPBRpA87LH5sW3Jj35_x&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ukv3jVTgRjDctlX0g3&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T13:29:58.000Z&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;first.last@example.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Last&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="enroll-u2f-factor">Enroll U2F Factor <a href="#enroll-u2f-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Enrolls a user with a U2F factor.  The enrollment process starts with getting an <code>appId</code> and <code>nonce</code> from Okta and using those to get registration information from the U2F key using the U2F javascript API.</p> <p>Note:</p> <p>The <code>appId</code> property in Okta U2F enroll/verify API response is the <a href="https://www.ietf.org/rfc/rfc6454.txt" target="_blank" rel="noopener noreferrer">origin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> of
the web page that triggers the API request (assuming the origin has been configured to be trusted by Okta). According to
<a href="https://fidoalliance.org/specs/fido-u2f-v1.2-ps-20170411/fido-appid-and-facets-v1.2-ps-20170411.html#h2_the-appid-and-facetid-assertions" target="_blank" rel="noopener noreferrer">FIDO
spec<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
enroll and verify U2F device with <code>appId</code>s in different DNS zone is not allowed. For
example, if a user enrolled a U2F device via Okta Sign-in widget that is hosted at <code>https://login.company.com</code>, while the user can verify the U2F factor from <code>https://login.company.com</code>, the user would not be able to verify it from Okta portal <code>https://company.okta.com</code>, U2F device would return error code 4 - <code>DEVICE_INELIGIBLE</code>.</p> <h5 id="enroll-u2f-request-example">Enroll U2F Request Example <a href="#enroll-u2f-request-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;factorType&quot;: &quot;u2f&quot;,
  &quot;provider&quot;: &quot;FIDO&quot;,
  &quot;stateToken&quot;: &quot;$(stateToken}&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors&quot;</span>
</code></pre></div><h5 id="enroll-u2f-response-example">Enroll U2F Response Example <a href="#enroll-u2f-response-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00s7Yewe3Z4aujPLpR4qW4y1hMKzAbyXK5LSKJRW2G&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2016-12-05T19:40:53.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ukv3jVTgRjDctlX0g3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-10-28T23:27:57.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;first.last@gmail.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Last&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fuf8y1y14jaygfX5K0h7&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;u2f&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;U2F_V2&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;appId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;nonce&quot;</span><span class="token operator">:</span> <span class="token string">&quot;s-NaltFnye-xNsJeAhnN&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;timeoutSeconds&quot;</span><span class="token operator">:</span> <span class="token number">20</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/fuf8y1y14jaygfX5K0h7/lifecycle/activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="enroll-webauthn-factor">Enroll WebAuthn Factor <a href="#enroll-webauthn-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <blockquote><p><strong>Note:</strong> The WebAuthN factor is available for those using the <a href="/docs/guides/custom-hosted-signin/">Okta-hosted custom sign-in page</a>. If you are using a self-hosted, customized sign-in-widget, you must first upgrade to widget version 3.4.0 and enable the <a href="https://github.com/okta/okta-signin-widget#configuration" target="_blank" rel="noopener noreferrer">configuration option<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></blockquote> <p>Enrolls a user with a WebAuthn factor. The enrollment process starts with getting the WebAuthn credential creation options, which are used to help select an appropriate authenticator using the WebAuthn API.
This authenticator then generates an enrollment attestation that may be used to register the authenticator for the user.</p> <h5 id="enroll-webauthn-request-parameters">Enroll WebAuthn Request Parameters <a href="#enroll-webauthn-request-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="enroll-webauthn-response-parameters">Enroll WebAuthn Response Parameters <a href="#enroll-webauthn-response-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>In the <a href="#embedded-resources">embedded resources</a> object, the <code>factor._embedded.activation</code> object contains properties used to guide the client in creating a new WebAuthn credential for use with Okta.</p> <p>For more information about these credential creation options, see the <a href="https://www.w3.org/TR/webauthn/#dictionary-makecredentialoptions" target="_blank" rel="noopener noreferrer">WebAuthn spec for PublicKeyCredentialCreationOptions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <blockquote><p><strong>Note:</strong> Additionally, the activation object contains a <code>u2fParams</code> object with an <code>appid</code> property. This deprecated legacy property was used to support backwards compatibility with U2F and is no longer in use.</p></blockquote> <h5 id="enroll-webauthn-request-example">Enroll WebAuthn Request Example <a href="#enroll-webauthn-request-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;factorType&quot;: &quot;webauthn&quot;,
  &quot;provider&quot;: &quot;FIDO&quot;,
  &quot;stateToken&quot;: &quot;$(stateToken}&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors&quot;</span>
</code></pre></div><h6 id="enroll-webauthn-response-example">Enroll WebAuthn Response Example <a href="#enroll-webauthn-response-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00IzlXt68vyoh3r6rtv9JWXLwSuVkM6_AP65f-Actj&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2016-12-05T19:40:53.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ukv3jVTgRjDctlX0g3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-10-28T23:27:57.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;first.last@gmail.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Last&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fwfbaopNw5CCGJTu20g4&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webauthn&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;attestation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;direct&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;authenticatorSelection&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;userVerification&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preferred&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;requireResidentKey&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;challenge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cdsZ1V10E0BGE9GcG3IK&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;excludeCredentials&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;pubKeyCredParams&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;public-key&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;alg&quot;</span><span class="token operator">:</span> <span class="token number">-7</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;public-key&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;alg&quot;</span><span class="token operator">:</span> <span class="token number">-257</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;rp&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Rain-Cloud59&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;u2fParams&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;appid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}.com&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;displayName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;First Last&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;first.last@gmail.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ukv3jVTgRjDctlX0g3&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/fwfbaopNw5CCGJTu20g4/lifecycle/activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="enroll-custom-hotp-factor">Enroll Custom HOTP Factor <a href="#enroll-custom-hotp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Enrollment via the Authentication API is currently not supported for Custom HOTP Factor.  Please refer to the Factors API documentation <a href="/docs/reference/api/factors/#enroll-custom-hotp-factor">here</a> if you would like to enroll users for this type of factor.</p> <h3 id="activate-factor">Activate Factor <a href="#activate-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/factors/<strong>${factorId}</strong>/lifecycle/activate</span></span></p> <span class="api-label api-label-cors api-uri-template-cors"><i class="fa fa-cloud-download"></i>
  CORS
</span> <p>The <code>sms</code>,<code>call</code> and <code>token:software:totp</code> <a href="/docs/reference/api/factors/#factor-type">factor types</a> require activation to complete the enrollment process.</p> <ul><li><a href="#activate-totp-factor">Activate TOTP Factor</a></li> <li><a href="#activate-sms-factor">Activate SMS Factor</a></li> <li><a href="#activate-call-factor">Activate Call Factor</a></li> <li><a href="#activate-push-factor">Activate Push Factor</a></li> <li><a href="#activate-u2f-factor">Activate U2F Factor</a></li> <li><a href="#activate-webauthn-factor">Activate WebAuthn Factor</a></li></ul> <h4 id="activate-totp-factor">Activate TOTP Factor <a href="#activate-totp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Activates a <code>token:software:totp</code> factor by verifying the OTP.</p> <blockquote><p>This API implements <a href="https://tools.ietf.org/html/rfc6238" target="_blank" rel="noopener noreferrer">the TOTP standard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which is used by apps like Okta Verify and Google Authenticator.</p></blockquote> <h5 id="request-parameters-for-activate-totp-factor">Request Parameters for Activate TOTP Factor <a href="#request-parameters-for-activate-totp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor returned from enrollment</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a>  for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>passCode</td> <td>OTP generated by device</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="response-parameters-for-activate-totp-factor">Response Parameters for Activate TOTP Factor <a href="#response-parameters-for-activate-totp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <p>If the passcode is invalid, you receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid Passcode/Answer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaei_IfXcpnTHit_YEKGInpFw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your passcode doesn't match our records. Please try again.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="activate-totp-request-example">Activate TOTP Request Example <a href="#activate-totp-request-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;passCode&quot;: &quot;123456&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/ostf1fmaMGJLMNGNLIVG/lifecycle/activate&quot;</span>
</code></pre></div><h5 id="activate-totp-response-example">Activate TOTP Response Example <a href="#activate-totp-response-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00Fpzf4en68pCXTsMjcX8JPMctzN2Wiw4LDOBL_9pe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="activate-sms-factor">Activate SMS Factor <a href="#activate-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Activates a <code>sms</code> factor by verifying the OTP.  The request and response is identical to <a href="#activate-totp-factor">activating a TOTP factor</a></p> <h5 id="activate-sms-factor-request-parameters">Activate SMS Factor Request Parameters <a href="#activate-sms-factor-request-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor returned from enrollment</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>passCode</td> <td>OTP sent to mobile device</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="activate-sms-factor-response-parameters">Activate SMS Factor Response Parameters <a href="#activate-sms-factor-response-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <p>If the passcode is invalid, you receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid Passcode/Answer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaei_IfXcpnTHit_YEKGInpFw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your passcode doesn't match our records. Please try again.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="activate-sms-factor-request-example">Activate SMS Factor Request Example <a href="#activate-sms-factor-request-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;passCode&quot;: &quot;123456&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/sms1o51EADOTFXHHBXBP/lifecycle/activate&quot;</span>
</code></pre></div><h5 id="activate-sms-factor-response-example">Activate SMS Factor Response Example <a href="#activate-sms-factor-response-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00Fpzf4en68pCXTsMjcX8JPMctzN2Wiw4LDOBL_9pe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="activate-call-factor">Activate Call Factor <a href="#activate-call-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Activates a <code>call</code> factor by verifying the OTP.  The request and response is identical to <a href="#activate-totp-factor">activating a TOTP factor</a></p> <h5 id="activate-call-factor-request-parameters">Activate Call Factor Request Parameters <a href="#activate-call-factor-request-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor returned from enrollment</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>passCode</td> <td>Passcode received via the voice call</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="activate-call-factor-response-parameters">Activate Call Factor Response Parameters <a href="#activate-call-factor-response-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <p>If the passcode is invalid, you receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid Passcode/Answer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaei_IfXcpnTHit_YEKGInpFw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your passcode doesn't match our records. Please try again.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="activate-call-factor-request-example">Activate Call Factor Request Example <a href="#activate-call-factor-request-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;passCode&quot;: &quot;12345&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/clf1o51EADOTFXHHBXBP/lifecycle/activate&quot;</span>
</code></pre></div><h5 id="activate-call-factor-response-example">Activate Call Factor Response Example <a href="#activate-call-factor-response-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00Fpzf4en68pCXTsMjcX8JPMctzN2Wiw4LDOBL_9pe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="activate-push-factor">Activate Push Factor <a href="#activate-push-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Activation of <code>push</code> factors are asynchronous and must be polled for completion when the <code>factorResult</code> returns a <code>WAITING</code> status.</p> <p>Activations have a short lifetime (minutes) and will <code>TIMEOUT</code> if they are not completed before the <code>expireAt</code> timestamp.  Use the published <code>activate</code> link to restart the activation process if the activation is expired.</p> <h5 id="activate-push-factor-request-parameters">Activate Push Factor Request Parameters <a href="#activate-push-factor-request-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor returned from enrollment</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="activate-push-factor-response-parameters">Activate Push Factor Response Parameters <a href="#activate-push-factor-response-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <h5 id="activate-push-factor-request-example">Activate Push Factor Request Example <a href="#activate-push-factor-request-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate&quot;</span>
</code></pre></div><h5 id="activate-push-factor-response-example-waiting">Activate Push Factor Response Example (Waiting) <a href="#activate-push-factor-response-example-waiting" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <blockquote><p>Follow the the published <code>next</code> link to keep polling for activation completion</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opfh52xcuft3J4uZc0g3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;qrcode&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00ub0oNGTSWTBKOLGLNR/factors/opfh52xcuft3J4uZc0g3/qr/00fukNElRS_Tz6k-CFhg3pH4KO2dj2guhmaapXWbc4&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;send&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00ub0oNGTSWTBKOLGLNR/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/email&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;POST&quot;</span>
                  <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00ub0oNGTSWTBKOLGLNR/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/sms&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;POST&quot;</span>
                  <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;poll&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/poll&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="activate-push-factor-response-example-success">Activate Push Factor Response Example (Success) <a href="#activate-push-factor-response-example-success" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00Fpzf4en68pCXTsMjcX8JPMctzN2Wiw4LDOBL_9pe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="activate-push-factor-response-example-timeout">Activate Push Factor Response Example (Timeout) <a href="#activate-push-factor-response-example-timeout" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <blockquote><p>Follow the the published <code>activate</code> link to restart the activation process.</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TIMEOUT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opfh52xcuft3J4uZc0g3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TIMEOUT&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;activate&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00u4vi0VX6U816Kl90g4/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token string">&quot;POST&quot;</span>
                <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;send&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/email&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;POST&quot;</span>
                  <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/sms&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;POST&quot;</span>
                  <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="poll-for-push-factor-activation">Poll for Push Factor Activation <a href="#poll-for-push-factor-activation" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>After the push notification is sent to user's device we need to know when the user completes the activation. This is done by polling the &quot;poll&quot; link.</p> <h6 id="poll-for-push-request-example">Poll for Push Request Example <a href="#poll-for-push-request-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/poll&quot;</span>
</code></pre></div><h6 id="poll-for-push-response-example">Poll for Push Response Example <a href="#poll-for-push-response-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-12-22T21:36:47.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span><span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2016-12-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;opfh52xcuft3J4uZc0g3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-12-22T21:41:47.000Z&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span><span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;send&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/email&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                  <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/sms&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                  <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;qrcode&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
              <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/opfh52xcuft3J4uZc0g3/factors/opfn169oIx3k63Klh0g3/qr/20111huUFWDFTAeq_lFQKfKFS_rLABkE_pKgGl5PBUeLvJVmaIrWq5u&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;poll&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/poll&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="send-activation-links">Send Activation Links <a href="#send-activation-links" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Sends an activation email or SMS when when the user is unable to scan the QR code provided as part of an Okta Verify transaction.
If for any reason the user can't scan the QR code, they can use the link provided in email or SMS to complete the transaction.</p> <blockquote><p>The user must click the link from the same device as the one where the Okta Verify app is installed.</p></blockquote> <h6 id="send-activation-links-request-example-email">Send Activation Links Request Example (Email) <a href="#send-activation-links-request-example-email" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/email&quot;</span>
</code></pre></div><h6 id="send-activation-links-request-example-sms">Send Activation Links Request Example (SMS) <a href="#send-activation-links-request-example-sms" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;profile&quot;: {
    &quot;phoneNumber&quot;: &quot;+1-555-415-1337&quot;
  }
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/sms&quot;</span>
</code></pre></div><h6 id="send-activation-links-response-example">Send Activation Links Response Example <a href="#send-activation-links-response-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL_ACTIVATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opfh52xcuft3J4uZc0g3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;qrcode&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00ub0oNGTSWTBKOLGLNR/factors/opfh52xcuft3J4uZc0g3/qr/00fukNElRS_Tz6k-CFhg3pH4KO2dj2guhmaapXWbc4&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;image/png&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;send&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00ub0oNGTSWTBKOLGLNR/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/email&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;POST&quot;</span>
                  <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00ub0oNGTSWTBKOLGLNR/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/sms&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;POST&quot;</span>
                  <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;poll&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/lifecycle/activate/poll&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="activate-u2f-factor">Activate U2F Factor <a href="#activate-u2f-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Activation gets the registration information from the U2F token using the API and passes it to Okta.</p> <h5 id="get-registration-information-from-u2f-token-by-calling-the-u2f-javascript-library-method">Get registration information from U2F token by calling the U2F Javascript library method <a href="#get-registration-information-from-u2f-token-by-calling-the-u2f-javascript-library-method" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- Get the u2f-api.js from https://github.com/google/u2f-ref-code/tree/master/u2f-gae-demo/war/js --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/u2f-api.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// Use the appId from the activation object</span>
  <span class="token keyword">var</span> appId <span class="token operator">=</span> activation<span class="token punctuation">.</span>appId<span class="token punctuation">;</span>

  <span class="token comment">// Use the version and nonce from the activation object</span>
  <span class="token keyword">var</span> registerRequests <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      version<span class="token punctuation">:</span> activation<span class="token punctuation">.</span>version<span class="token punctuation">,</span>
      challenge<span class="token punctuation">:</span> activation<span class="token punctuation">.</span>nonce
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  u2f<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>appId<span class="token punctuation">,</span> registerRequests<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>errorCode <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>errorCode <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Error from U2F platform</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// Get the registrationData from the callback result</span>
      <span class="token keyword">var</span> registrationData <span class="token operator">=</span> data<span class="token punctuation">.</span>registrationData<span class="token punctuation">;</span>

      <span class="token comment">// Get the clientData from the callback result</span>
      <span class="token keyword">var</span> clientData <span class="token operator">=</span> data<span class="token punctuation">.</span>clientData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Activate a <code>u2f</code> factor by verifying the registration data and client data.</p> <h5 id="activate-u2f-request-parameters">Activate U2F Request Parameters <a href="#activate-u2f-request-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor returned from enrollment</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>registrationData</td> <td>base64-encoded registration data from U2F javascript call</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>clientData</td> <td>base64-encoded client data from U2F javascript call</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="activate-u2f-response-parameters">Activate U2F Response Parameters <a href="#activate-u2f-response-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <p>If the registration nonce is invalid or if registration data is invalid, you receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid Passcode/Answer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaei_IfXcpnTHit_YEKGInpFw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your passcode doesn't match our records. Please try again.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="activate-u2f-request-example">Activate U2F Request Example <a href="#activate-u2f-request-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;registrationData&quot;: &quot;BQTl3Iu9V4caCvcI44pmYwIehICWyboL_J2Wl5FA6ZGNx9qT11Df-rHJIy9iP6MSJ_qAaKqdq8O0XVqBG46p6qbpQLIb471thYthrQiW9955tNdORCEhvZX9iYNI1peNlETOr7Qx_PgIZ6Ein6aB3wH9JCTGgsdd4JX3cYixbj1v9W8wggJEMIIBLqADAgECAgRVYr6gMAsGCSqGSIb3DQEBCzAuMSwwKgYDVQQDEyNZdWJpY28gVTJGIFJvb3QgQ0EgU2VyaWFsIDQ1NzIwMDYzMTAgFw0xNDA4MDEwMDAwMDBaGA8yMDUwMDkwNDAwMDAwMFowKjEoMCYGA1UEAwwfWXViaWNvIFUyRiBFRSBTZXJpYWwgMTQzMjUzNDY4ODBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABEszH3c9gUS5mVy-RYVRfhdYOqR2I2lcvoWsSCyAGfLJuUZ64EWw5m8TGy6jJDyR_aYC4xjz_F2NKnq65yvRQwmjOzA5MCIGCSsGAQQBgsQKAgQVMS4zLjYuMS40LjEuNDE0ODIuMS41MBMGCysGAQQBguUcAgEBBAQDAgUgMAsGCSqGSIb3DQEBCwOCAQEArBbZs262s6m3bXWUs09Z9Pc-28n96yk162tFHKv0HSXT5xYU10cmBMpypXjjI-23YARoXwXn0bm-BdtulED6xc_JMqbK-uhSmXcu2wJ4ICA81BQdPutvaizpnjlXgDJjq6uNbsSAp98IStLLp7fW13yUw-vAsWb5YFfK9f46Yx6iakM3YqNvvs9M9EUJYl_VrxBJqnyLx2iaZlnpr13o8NcsKIJRdMUOBqt_ageQg3ttsyq_3LyoNcu7CQ7x8NmeCGm_6eVnZMQjDmwFdymwEN4OxfnM5MkcKCYhjqgIGruWkVHsFnJa8qjZXneVvKoiepuUQyDEJ2GcqvhU2YKY1zBGAiEAxWDh5F7vr0AoEsi3N-uR6KR3ADXlZnQgzROUTVhff8ICIQCiUUG1FkQ9e8PW1dhRk6tjHjL22KZ9JqBrTfpytC5jaQ==&quot;,
  &quot;clientData&quot;: &quot;eyAiY2hhbGxlbmdlIjogImFYLS1wMTlibldWcUlnY25HU0hLIiwgIm9yaWdpbiI6ICJodHRwczpcL1wvc25hZ2FuZGxhLm9rdGFwcmV2aWV3LmNvbSIsICJ0eXAiOiAibmF2aWdhdG9yLmlkLmZpbmlzaEVucm9sbG1lbnQiIH0=&quot;,
  &quot;stateToken&quot;: &quot;00MBkDX0vBddsuU1VnDsa7-qqIOi7g51YLNQEen1hi&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/fuf1o51EADOTFXHHBXBP/lifecycle/activate&quot;</span>
</code></pre></div><h5 id="activate-u2f-response-example">Activate U2F Response Example <a href="#activate-u2f-response-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00Fpzf4en68pCXTsMjcX8JPMctzN2Wiw4LDOBL_9pe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="activate-webauthn-factor">Activate WebAuthn Factor <a href="#activate-webauthn-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Activation gets the registration information from the WebAuthn assertion using the API and passes it to Okta.</p> <h5 id="get-registration-information-from-webauthn-assertion-by-calling-the-webauthn-javascript-library">Get registration information from WebAuthn assertion by calling the WebAuthn Javascript library <a href="#get-registration-information-from-webauthn-assertion-by-calling-the-webauthn-javascript-library" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- Using CryptoUtil.js from https://github.com/okta/okta-signin-widget/blob/master/src/util/CryptoUtil.js --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// Convert activation object's challenge and user id from string to binary</span>
activation<span class="token punctuation">.</span>challenge <span class="token operator">=</span> CryptoUtil<span class="token punctuation">.</span><span class="token function">strToBin</span><span class="token punctuation">(</span>activation<span class="token punctuation">.</span>challenge<span class="token punctuation">)</span><span class="token punctuation">;</span>
activation<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id <span class="token operator">=</span> CryptoUtil<span class="token punctuation">.</span><span class="token function">strToBin</span><span class="token punctuation">(</span>activation<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// navigator.credentials is a global object on WebAuthn-supported clients, used to access WebAuthn API</span>
navigator<span class="token punctuation">.</span>credentials<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  publicKey<span class="token punctuation">:</span> activation
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newCredential</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Get attestation and clientData from callback result, convert from binary to string</span>
    <span class="token keyword">var</span> attestation <span class="token operator">=</span> CryptoUtil<span class="token punctuation">.</span><span class="token function">binToStr</span><span class="token punctuation">(</span>newCredential<span class="token punctuation">.</span>response<span class="token punctuation">.</span>attestationObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> clientData <span class="token operator">=</span> CryptoUtil<span class="token punctuation">.</span><span class="token function">binToStr</span><span class="token punctuation">(</span>newCredential<span class="token punctuation">.</span>response<span class="token punctuation">.</span>clientDataJSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Error from WebAuthn platform</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Activate a <code>webauthn</code> factor by verifying the attestation and client data.</p> <h5 id="activate-webauthn-request-parameters">Activate WebAuthn Request Parameters <a href="#activate-webauthn-request-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor returned from enrollment</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>attestation</td> <td>base64-encoded attestation from the WebAuthn javascript call</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>clientData</td> <td>base64-encoded client data from the WebAuthn javascript call</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="activate-webauthn-response-parameters">Activate WebAuthn Response Parameters <a href="#activate-webauthn-response-parameters" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <p>If the attestation nonce is invalid, or if the attestation or client data are invalid, you receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid Passcode/Answer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaei_IfXcpnTHit_YDKGInpFw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your passcode doesn't match our records. Please try again.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="activate-webauthn-request-example">Activate WebAuthn Request Example <a href="#activate-webauthn-request-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;attestation: &quot;o2NmbXRmcGFja2VkZ2F0dFN0bXSiY2FsZyZjc2lnWEgwRgIhAMvf2+dzXlHZN1um38Y8aFzrKvX0k5dt/hnDu9lahbR4AiEAuwtMg3IoaElWMp00QrP/+3Po/6LwXfmYQVfsnsQ+da1oYXV0aERhdGFYxkgb9OHGifjS2dG03qLRqvXrDIRyfGAuc+GzF1z20/eVRV2wvl6tzgACNbzGCmSLCyXx8FUDAEIBvWNHOcE3QDUkDP/HB1kRbrIOoZ1dR874ZaGbMuvaSVHVWN2kfNiO4D+HlAzUEFaqlNi5FPqKw+mF8f0XwdpEBlClAQIDJiABIVgg0a6oo3W0JdYPu6+eBrbr0WyB3uJLI3ODVgDfQnpgafgiWCB4fFo/5iiVrFhB8pNH2tbBtKewyAHuDkRolcCnVaCcmQ==&quot;,
  &quot;clientData&quot;: &quot;eyJjaGFsbGVuZ2UiOiJVSk5wYW9sVWt0dF9vcEZPNXJMYyIsIm9yaWdpbiI6Imh0dHBzOi8vcmFpbi5va3RhMS5jb20iLCJ0eXBlIjoid2ViYXV0aG4uY3JlYXRlIn0=&quot;,
  &quot;stateToken&quot;: &quot;00eacMXqkf2pG8K3sBbWqTJNStZpEi9-1Bfwl_mfQT&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/fwfbaopNw5CCGJTu20g4/lifecycle/activate&quot;</span>
</code></pre></div><h5 id="activate-webauthn-response-example">Activate WebAuthn Response Example <a href="#activate-webauthn-response-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00Fpzf4en68pCXTsMjcX8JPMctzN2Wiw4LDOBL_9pe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="verify-factor">Verify Factor <a href="#verify-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>Verifies an enrolled factor for an authentication transaction with the <code>MFA_REQUIRED</code> or <code>MFA_CHALLENGE</code> <a href="#transaction-state">state</a></p> <ul><li><a href="#verify-security-question-factor">Verify Security Question Factor</a></li> <li><a href="#verify-sms-factor">Verify SMS Factor</a></li> <li><a href="#verify-call-factor">Verify Call Factor</a></li> <li><a href="#verify-totp-factor">Verify TOTP Factor</a></li> <li><a href="#verify-push-factor">Verify Push Factor</a></li> <li><a href="#verify-duo-factor">Verify Duo Factor</a></li> <li><a href="#verify-u2f-factor">Verify U2F Factor</a></li> <li><a href="#verify-webauthn-factor">Verify WebAuthn Factor</a></li></ul> <blockquote><p>If the sign-on (or app sign-on) <a href="#remember-device-policy-object">policy</a> allows remembering the device, then the end user should be prompted to choose whether the current device should be remembered. This helps reduce the number of times the user is prompted for MFA on the current device. The user's choice should be passed to Okta using the request parameter <code>rememberDevice</code> to the verify endpoint. The default value of <code>rememberDevice</code> parameter is <code>false</code>.</p></blockquote> <h4 id="verify-security-question-factor">Verify Security Question Factor <a href="#verify-security-question-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/factors/<strong>${factorId}</strong>/verify</span></span></p> <span class="api-label api-label-cors api-uri-template-cors"><i class="fa fa-cloud-download"></i>
  CORS
</span> <p>Verifies an answer to a <code>question</code> factor.</p> <h5 id="request-parameters-for-verify-security-question-factor">Request Parameters for Verify Security Question Factor <a href="#request-parameters-for-verify-security-question-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>answer</td> <td>answer to security question</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>rememberDevice</td> <td>user's decision to remember the device</td> <td>URL</td> <td>Boolean</td> <td>FALSE</td></tr></tbody></table> <h5 id="response-parameters-for-verify-security-question-factor">Response Parameters for Verify Security Question Factor <a href="#response-parameters-for-verify-security-question-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <p>If the <code>answer</code> is invalid you will receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid Passcode/Answer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaei_IfXcpnTHit_YEKGInpFw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your answer doesn't match our records. Please try again.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="request-example-for-verify-security-question-factor">Request Example for Verify Security Question Factor <a href="#request-example-for-verify-security-question-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;answer&quot;: &quot;mayonnaise&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/ufs1pe3ISGKGPYKXRBKK/verify&quot;</span>
</code></pre></div><h5 id="response-example-for-verify-security-question-factor">Response Example for Verify Security Question Factor <a href="#response-example-for-verify-security-question-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ZD3Z7ixppspFljXV2t_Z6GfrYzqG7cDJ8reWo2hy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="verify-sms-factor">Verify SMS Factor <a href="#verify-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/factors/<strong>${factorId}</strong>/verify</span></span></p> <span class="api-label api-label-cors api-uri-template-cors"><i class="fa fa-cloud-download"></i>
  CORS
</span> <h5 id="request-parameters-for-verify-sms-factor">Request Parameters for Verify SMS Factor <a href="#request-parameters-for-verify-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>passCode</td> <td>OTP sent to device</td> <td>Body</td> <td>String</td> <td>FALSE</td></tr> <tr><td>rememberDevice</td> <td>user's decision to remember the device</td> <td>URL</td> <td>Boolean</td> <td>FALSE</td></tr></tbody></table> <blockquote><p><strong>Note:</strong> If you omit <code>passCode</code> in the request, a new OTP is sent to the device, otherwise the request attempts to verify the <code>passCode</code></p></blockquote> <h5 id="response-parameters-for-verify-sms-factor">Response Parameters for Verify SMS Factor <a href="#response-parameters-for-verify-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <p>If the <code>passCode</code> is invalid, you receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid Passcode/Answer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaei_IfXcpnTHit_YEKGInpFw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your answer doesn't match our records. Please try again.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="send-sms-challenge-otp">Send SMS Challenge (OTP) <a href="#send-sms-challenge-otp" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Omit <code>passCode</code> in the request to send an OTP to the device.</p> <h6 id="request-example-for-send-sms-challenge-otp">Request Example for Send SMS Challenge (OTP) <a href="#request-example-for-send-sms-challenge-otp" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/sms193zUBEROPBNZKPPE/verify&quot;</span>
</code></pre></div><h6 id="response-example-for-send-sms-challenge-otp">Response Example for Send SMS Challenge (OTP) <a href="#response-example-for-send-sms-challenge-otp" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms193zUBEROPBNZKPPE&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;phoneNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+1 XXX-XXX-1337&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/sms193zUBEROPBNZKPPE/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resend&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/sms193zUBEROPBNZKPPE/verify/resend&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;POST&quot;</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="verify-sms-challenge-otp">Verify SMS Challenge (OTP) <a href="#verify-sms-challenge-otp" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Specify <code>passCode</code> in the request to verify the factor.</p> <h6 id="request-example-for-verify-sms-challenge-otp">Request Example for Verify SMS Challenge (OTP) <a href="#request-example-for-verify-sms-challenge-otp" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;passCode&quot;: &quot;657866&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/sms193zUBEROPBNZKPPE/verify&quot;</span>
</code></pre></div><h6 id="response-example-for-verify-sms-challenge-otp">Response Example for Verify SMS Challenge (OTP) <a href="#response-example-for-verify-sms-challenge-otp" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00t6IUQiVbWpMLgtmwSjMFzqykb5QcaBNtveiWlGeM&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="verify-call-factor">Verify Call Factor <a href="#verify-call-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/factors/<strong>${factorId}</strong>/verify</span></span></p> <span class="api-label api-label-cors api-uri-template-cors"><i class="fa fa-cloud-download"></i>
  CORS
</span> <h5 id="request-parameters-for-verify-call-factor">Request Parameters for Verify Call Factor <a href="#request-parameters-for-verify-call-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>passCode</td> <td>OTP sent to device</td> <td>Body</td> <td>String</td> <td>FALSE</td></tr> <tr><td>rememberDevice</td> <td>user's decision to remember the device</td> <td>URL</td> <td>Boolean</td> <td>FALSE</td></tr></tbody></table> <blockquote><p><strong>Note:</strong> If you omit <code>passCode</code> in the request, a new OTP is sent to the device, otherwise the request attempts to verify the <code>passCode</code></p></blockquote> <h5 id="response-parameters-for-verify-call-factor">Response Parameters for Verify Call Factor <a href="#response-parameters-for-verify-call-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <p>If the <code>passCode</code> is invalid, you receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid Passcode/Answer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaei_IfXcpnTHit_YEKGInpFw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your answer doesn't match our records. Please try again.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="send-voice-call-challenge-otp">Send Voice Call Challenge (OTP) <a href="#send-voice-call-challenge-otp" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Omit <code>passCode</code> in the request to send an OTP to the device.</p> <h6 id="request-example-for-send-voice-call-challenge-otp">Request Example for Send Voice Call Challenge (OTP) <a href="#request-example-for-send-voice-call-challenge-otp" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/clf193zUBEROPBNZKPPE/verify&quot;</span>
</code></pre></div><h6 id="response-example-for-send-voice-call-challenge-otp">Response Example for Send Voice Call Challenge (OTP) <a href="#response-example-for-send-voice-call-challenge-otp" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;clf193zUBEROPBNZKPPE&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;call&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;phoneNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+1 XXX-XXX-1337&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/clf193zUBEROPBNZKPPE/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="verify-call-challenge-otp">Verify Call Challenge (OTP) <a href="#verify-call-challenge-otp" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Specify <code>passCode</code> in the request to verify the factor.</p> <h6 id="request-example-for-verify-call-challenge">Request Example for Verify Call Challenge <a href="#request-example-for-verify-call-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;passCode&quot;: &quot;65786&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/clf193zUBEROPBNZKPPE/verify&quot;</span>
</code></pre></div><h6 id="response-example-for-verify-call-challenge">Response Example for Verify Call Challenge <a href="#response-example-for-verify-call-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00t6IUQiVbWpMLgtmwSjMFzqykb5QcaBNtveiWlGeM&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="verify-totp-factor">Verify TOTP Factor <a href="#verify-totp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/factors/<strong>${factorId}</strong>/verify</span></span></p> <span class="api-label api-label-cors api-uri-template-cors"><i class="fa fa-cloud-download"></i>
  CORS
</span> <p>Verifies an OTP for a <code>token:software:totp</code> or <code>token:hotp</code> factor.</p> <blockquote><p><strong>Note:</strong> This API implements <a href="https://tools.ietf.org/html/rfc6238" target="_blank" rel="noopener noreferrer">the TOTP standard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which is used by apps like Okta Verify and Google Authenticator.</p></blockquote> <h5 id="request-parameters-for-verify-totp-factor">Request Parameters for Verify TOTP Factor <a href="#request-parameters-for-verify-totp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>passCode</td> <td>OTP sent to device</td> <td>Body</td> <td>String</td> <td>FALSE</td></tr> <tr><td>rememberDevice</td> <td>user's decision to remember the device</td> <td>URL</td> <td>Boolean</td> <td>FALSE</td></tr></tbody></table> <h5 id="response-parameters-for-verify-totp-factor">Response Parameters for Verify TOTP Factor <a href="#response-parameters-for-verify-totp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#authentication-transaction-model">Authentication Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication transaction.</p> <p>If the passcode is invalid, you receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid Passcode/Answer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaei_IfXcpnTHit_YEKGInpFw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your passcode doesn't match our records. Please try again.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="request-example-for-verify-totp-factor">Request Example for Verify TOTP Factor <a href="#request-example-for-verify-totp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;,
  &quot;passCode&quot;: &quot;657866&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/ostfm3hPNYSOIOIVTQWY/verify&quot;</span>
</code></pre></div><h6 id="response-example-for-verify-totp-factor">Response Example for Verify TOTP Factor <a href="#response-example-for-verify-totp-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00t6IUQiVbWpMLgtmwSjMFzqykb5QcaBNtveiWlGeM&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="verify-push-factor">Verify Push Factor <a href="#verify-push-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/factors/<strong>${factorId}</strong>/verify</span></span></p> <span class="api-label api-label-cors api-uri-template-cors"><i class="fa fa-cloud-download"></i>
  CORS
</span> <p>Sends an asynchronous push notification (challenge) to the device for the user to approve or reject.  The <code>factorResult</code> for the transaction has a result of <code>WAITING</code>, <code>SUCCESS</code>, <code>REJECTED</code>, or <code>TIMEOUT</code>.</p> <h5 id="request-parameters-for-verify-push-factor">Request Parameters for Verify Push Factor <a href="#request-parameters-for-verify-push-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>rememberDevice</td> <td>user's decision to remember the device</td> <td>URL</td> <td>Boolean</td> <td>FALSE</td></tr> <tr><td>autoPush</td> <td>user's decision to send a push to the device automatically</td> <td>URL</td> <td>Boolean</td> <td>FALSE</td></tr></tbody></table> <p><strong>Okta Verify Push Details Pertaining to Auto-Push</strong></p> <ul><li>You don't need to pass the <code>autoPush</code> flag to Okta unless you have a custom sign-in flow that doesn't use the Okta Sign-In Widget, but want Okta to keep track of this preference.  The custom sign-in flow must still handle the logic to actually send the Auto-Push, since this param only deals with the Auto-Push setting.</li> <li>If you pass the <code>autoPush</code> query param when verifying an Okta Verify Push factor, Okta saves this value as the user's preference to have the push notification sent automatically if the verification is successful (the user taps <strong>Approve</strong> on their phone).</li> <li>If there is already a saved Auto-Push preference, the successful verify call overrides the current preference if it is different from the value of <code>autoPush</code>.</li> <li>This saved Auto-Push preference is always returned in the <code>/api/v1/authn/</code> response's <code>autoPushEnabled</code> field if the user is enrolled for the Okta Verify Push factor <a href="#response-example-for-factor-challenge-for-step-up-authentication-with-okta-session">example here</a>.  If the user's Auto-Push preference hasn't explicitly been set before, <code>autoPushEnabled</code> has a value of false.</li> <li>The Auto-Push preference is stored in a cookie value and users that clear their cookies remove that preference.</li> <li>Please note, the <code>autoPush</code> flag has no effect when trying to verify a factor other than Okta Verify Push (factorId prefix = &quot;opf&quot;).</li></ul> <h5 id="request-example-for-verify-push-factor">Request Example for Verify Push Factor <a href="#request-example-for-verify-push-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/ufs1pe3ISGKGPYKXRBKK/verify&quot;</span>
</code></pre></div><h5 id="response-example-waiting">Response Example (Waiting) <a href="#response-example-waiting" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <blockquote><p>Keep polling authentication transactions with <code>WAITING</code> result until the challenge completes or expires.</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opfh52xcuft3J4uZc0g3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;deviceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SmartPhone_IPhone&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Gibson&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IOS&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9.0&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;poll&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resend&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/verify/resend&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;POST&quot;</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-approved">Response Example (Approved) <a href="#response-example-approved" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00Fpzf4en68pCXTsMjcX8JPMctzN2Wiw4LDOBL_9xx&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-rejected">Response Example (Rejected) <a href="#response-example-rejected" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span> <span class="token string">&quot;REJECTED&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opfh52xcuft3J4uZc0g3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;deviceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SmartPhone_IPhone&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Gibson&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IOS&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9.0&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resend&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/verify/resend&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;POST&quot;</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-timeout">Response Example (Timeout) <a href="#response-example-timeout" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TIMEOUT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opfh52xcuft3J4uZc0g3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;deviceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SmartPhone_IPhone&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Gibson&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IOS&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9.0&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resend&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/verify/resend&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;POST&quot;</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="resend-push-notification">Resend Push Notification <a href="#resend-push-notification" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Use the <code>resend</code> link to send another push notification if the user didn't receive the previous one due to timeout or error.</p> <h6 id="request-example-for-resend-push-notification">Request Example for Resend Push Notification <a href="#request-example-for-resend-push-notification" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/opfh52xcuft3J4uZc0g3/verify/resend&quot;</span>
</code></pre></div><h4 id="verify-duo-factor">Verify Duo Factor <a href="#verify-duo-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Verification of the Duo factor is implemented as an integration with Duo widget. The process is very similar to the  <a href="#full-page-example-for-duo-enrollment">enrollment</a> where the widget is embedded in an iframe - &quot;duo_iframe&quot;. Verification starts with request to the Okta API, then continues with a Duo widget that handles the actual verification. We need to pass the state token as hidden object in &quot;duo_form&quot;. The authentication completes with call to <a href="#verification-poll-request-example">poll link</a> to verify the state and obtain session token.</p> <h5 id="request-example-for-verify-duo-factor">Request Example for Verify Duo Factor <a href="#request-example-for-verify-duo-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;<span class="token variable">${stateToken}</span>&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/<span class="token variable">${factorId}</span>/verify&quot;</span>
</code></pre></div><h5 id="response-example-for-verify-duo-factor">Response Example for Verify Duo Factor <a href="#response-example-for-verify-duo-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00CzoxFVe4R2nv0hTxm32r1kayfrrOkuxcE2rfINwZ&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T14:13:58.000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;MFA_CHALLENGE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span><span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ukv3jVTgRjDctlX0g3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T13:29:58.000Z&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;first.last@gexample.com&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Last&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;dsflnpo99zpfMyaij0g3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;DUO&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;DUO&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span><span class="token string">&quot;first.last@example.com&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;verification&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                    <span class="token property">&quot;host&quot;</span><span class="token operator">:</span><span class="token string">&quot;api-your-host.duosecurity.com&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token string">&quot;TX|...your-signature&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span><span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                        <span class="token property">&quot;complete&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/dsflnpo99zpfMyaij0g3/lifecycle/duoCallback&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                                <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                                    <span class="token string">&quot;POST&quot;</span>
                                <span class="token punctuation">]</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;script&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/js/sections/duo/Duo-Web-v2.js&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;text/javascript; charset=utf-8&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;policy&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allowRememberDevice&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;rememberDeviceLifetimeInMinutes&quot;</span><span class="token operator">:</span><span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token property">&quot;rememberDeviceByDefault&quot;</span><span class="token operator">:</span><span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;next&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;poll&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/dsflnpo99zpfMyaij0g3/verify&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                    <span class="token string">&quot;POST&quot;</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                    <span class="token string">&quot;POST&quot;</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                    <span class="token string">&quot;POST&quot;</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="sample-for-duo-iframe">Sample for Duo iFrame <a href="#sample-for-duo-iframe" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-html extra-class"><pre class="language-html"><code>...
<span class="token comment">&lt;!--
    The Duo SDK will automatically bind to this iFrame and populate it for us.
    See https://www.duosecurity.com/docs/duoweb for more info.
 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>duo_iframe<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>620<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>330<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--
    The Duo SDK will automatically bind to this form and submit it for us.
    See https://www.duosecurity.com/docs/duoweb for more info.
 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>duo_form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- The state token is required here (in order to bind anonymous request back into Auth API) --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stateToken<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>00CzoxFVe4R2nv0hTxm32r1kayfrrOkuxcE2rfINwZ<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://${yourOktaDomain}/js/sections/duo/Duo-Web-v2.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- The host, sig_request, and post_action values will be given via the Auth API --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    Duo<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string">'host'</span><span class="token punctuation">:</span> <span class="token string">'api-your-host.duosecurity.com'</span><span class="token punctuation">,</span>
        <span class="token string">'sig_request'</span><span class="token punctuation">:</span> <span class="token string">'TX|...your-signature'</span><span class="token punctuation">,</span>
        <span class="token string">'post_action'</span><span class="token punctuation">:</span> <span class="token string">'https://${yourOktaDomain}/api/v1/authn/factors/dsflnpo99zpfMyaij0g3/lifecycle/duoCallback'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
...

</code></pre></div><h5 id="verification-poll-request-example">Verification Poll Request Example <a href="#verification-poll-request-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;<span class="token variable">${stateToken}</span>&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/<span class="token variable">${factorId}</span>/verify&quot;</span>
</code></pre></div><h5 id="verification-poll-response-example">Verification Poll Response Example <a href="#verification-poll-response-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T14:14:44.000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;201111XUk7La2gw5r5PV1IhU4WSd0fV6mvNYdlJoeqjuyej7S83x3Hr&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ukv3jVTgRjDctlX0g3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T13:29:58.000Z&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;first.last@example.com&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Last&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="verify-u2f-factor">Verify U2F Factor <a href="#verify-u2f-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/factors/<strong>${factorId}</strong>/verify</span></span></p> <span class="api-label api-label-cors api-uri-template-cors"><i class="fa fa-cloud-download"></i>
  CORS
</span> <p>Note:</p> <p>The <code>appId</code> property in Okta U2F enroll/verify API response is the <a href="https://www.ietf.org/rfc/rfc6454.txt" target="_blank" rel="noopener noreferrer">origin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> of
the web page that triggers the API request (assuming the origin has been configured to be trusted by Okta). According to
<a href="https://fidoalliance.org/specs/fido-u2f-v1.2-ps-20170411/fido-appid-and-facets-v1.2-ps-20170411.html#h2_the-appid-and-facetid-assertions" target="_blank" rel="noopener noreferrer">FIDO
spec<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
enroll and verify U2F device with <code>appId</code>s in different DNS zone is not allowed. For
example, if a user enrolled a U2F device via Okta Sign-in widget that is hosted at <code>https://login.company.com</code>, while the user can verify the U2F factor from <code>https://login.company.com</code>, the user would not be able to verify it from Okta portal <code>https://company.okta.com</code>, U2F device would return error code 4 - <code>DEVICE_INELIGIBLE</code>.</p> <h5 id="start-verification-to-get-challenge-nonce">Start Verification to Get Challenge Nonce <a href="#start-verification-to-get-challenge-nonce" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Verification of the U2F factor starts with getting the challenge nonce and U2F token details and then using the client-side
JavaScript API to get the signed assertion from the U2F token.</p> <h5 id="request-example-for-verify-u2f-factor">Request Example for Verify U2F Factor <a href="#request-example-for-verify-u2f-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;<span class="token variable">${stateToken}</span>&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/<span class="token variable">${factorId}</span>/verify&quot;</span>
</code></pre></div><h5 id="response-example-for-verify-u2f-factor">Response Example for Verify U2F Factor <a href="#response-example-for-verify-u2f-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00wCfuPA3qX3azDawSdPGFIhHuzbZX72Gv4bu_ew9d&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-12-06T01:32:39.000Z&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;MFA_CHALLENGE&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00u21eb3qyRDNNIKTGCW&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2015-10-28T23:27:57.000Z&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;first.last@gmail.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Last&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;fuf8y2l4n5mfH0UWe0h7&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;u2f&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span><span class="token string">&quot;shvjvW2Fi2GtCJb33nm0105EISG9lf2Jg0jWl42URM6vtDH8-AhnoSKfpoHfAf0kJMaCx13glfdxiLFuPW_1bw&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;appId&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token string">&quot;U2F_V2&quot;</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;challenge&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;nonce&quot;</span><span class="token operator">:</span><span class="token string">&quot;tT1MI7XGzMu48Ivnz3vB&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;timeoutSeconds&quot;</span><span class="token operator">:</span><span class="token number">20</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;policy&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;allowRememberDevice&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
         <span class="token property">&quot;rememberDeviceLifetimeInMinutes&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token property">&quot;rememberDeviceByDefault&quot;</span><span class="token operator">:</span><span class="token boolean">false</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;next&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/fuf8y2l4n5mfH0UWe0h7/verify&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="get-the-signed-assertion-from-the-u2f-token">Get the Signed Assertion from the U2F Token <a href="#get-the-signed-assertion-from-the-u2f-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- Get the u2f-api.js from https://github.com/google/u2f-ref-code/tree/master/u2f-gae-demo/war/js --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/u2f-api.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// Use the nonce from the challenge object</span>
  <span class="token keyword">var</span> challengeNonce <span class="token operator">=</span> factor<span class="token punctuation">.</span>_embedded<span class="token punctuation">.</span>challenge<span class="token punctuation">.</span>nonce<span class="token punctuation">;</span>

  <span class="token comment">// Use the appId from factor profile object</span>
  <span class="token keyword">var</span> appId <span class="token operator">=</span> factor<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>appId<span class="token punctuation">;</span>

  <span class="token comment">// Use the version and credentialId from factor profile object</span>
  <span class="token keyword">var</span> registeredKeys <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      version<span class="token punctuation">:</span> factor<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>version<span class="token punctuation">,</span>
      keyHandle<span class="token punctuation">:</span> factor<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>credentialId
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// Call the U2F javascript API to get signed assertion from the U2F token</span>
  u2f<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>appId<span class="token punctuation">,</span> factorData<span class="token punctuation">.</span>challenge<span class="token punctuation">.</span>nonce<span class="token punctuation">,</span> registeredKeys<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>errorCode <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>errorCode <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Error from U2F platform</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// Get the client data from callback result</span>
      <span class="token keyword">var</span> clientData <span class="token operator">=</span> data<span class="token punctuation">.</span>clientData<span class="token punctuation">;</span>

      <span class="token comment">// Get the signature data from callback result</span>
      <span class="token keyword">var</span> signatureData <span class="token operator">=</span> data<span class="token punctuation">.</span>signatureData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="post-the-signed-assertion-to-okta-to-complete-verification">Post the signed assertion to Okta to complete verification <a href="#post-the-signed-assertion-to-okta-to-complete-verification" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <h5 id="request-parameters-for-verify-u2f-factor">Request Parameters for Verify U2F Factor <a href="#request-parameters-for-verify-u2f-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor</td> <td>URL</td> <td>String</td> <td>TRUE</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>clientData</td> <td>base64-encoded client data from the U2F token</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>signatureData</td> <td>base64-encoded signature data from the U2F token</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>rememberDevice</td> <td>user's decision to remember the device</td> <td>URL</td> <td>Boolean</td> <td>FALSE</td></tr></tbody></table> <h5 id="request-example-for-signed-assertion">Request Example for Signed Assertion <a href="#request-example-for-signed-assertion" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;<span class="token variable">${stateToken}</span>&quot;,
  &quot;clientData&quot;:&quot;eyAiY2hhbGxlbmdlIjogIlJ6ZDhQbEJEWUEyQ0VsbXVGcHlMIiwgIm9yaWdpbiI6ICJodHRwczpcL1wvc25hZ2FuZGxhLm9rdGFwcmV2aWV3LmNvbSIsICJ0eXAiOiAibmF2aWdhdG9yLmlkLmdldEFzc2VydGlvbiIgfQ==&quot;,
  &quot;signatureData&quot;:&quot;AQAAAAEwRQIgRDEdmXr_jh1bEHtoUs1l7mMd-eUDO0eKqXKkrK5hUi0CIQDaVX030GgxVPr4RX3c4XgugildmHwDLwKRL0aMS3Sbpw==&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/<span class="token variable">${factorId}</span>/verify&quot;</span>
</code></pre></div><h5 id="response-of-u2f-verification-example">Response of U2F Verification Example <a href="#response-of-u2f-verification-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T14:14:44.000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;201111XUk7La2gw5r5PV1IhU4WSd0fV6mvNYdlJoeqjuyej7S83x3Hr&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ukv3jVTgRjDctlX0g3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T13:29:58.000Z&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;first.last@example.com&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Last&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="verify-webauthn-factor">Verify WebAuthn Factor <a href="#verify-webauthn-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/factors/<strong>${factorIdOrFactorType}</strong>/verify</span></span></p> <span class="api-label api-label-cors api-uri-template-cors"><i class="fa fa-cloud-download"></i>
  CORS
</span> <p>Verifies a user with a WebAuthn factor. The verification process starts with getting the WebAuthn credential request options, which are used to help select an appropriate authenticator using the WebAuthn API.
This authenticator then generates an assertion that may be used to verify the user.</p> <blockquote><p><strong>Note:</strong> a <code>factorId</code> or <code>factorType</code> may be specified for WebAuthn's verify endpoint, as the WebAuthn factor type supports multiple factor instances.
When a <code>factorId</code> is used, the verification procedure is no different from any other factors, with verification for a specific factor instance.
When &quot;webauthn&quot; (the <code>factorType</code> name for WebAuthn) is used, verification would be acceptable with any WebAuthn factor instance enrolled for the user.</p></blockquote> <h5 id="start-verification-to-get-challenge-nonce-2">Start Verification to Get Challenge Nonce <a href="#start-verification-to-get-challenge-nonce-2" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Verification of the WebAuthn factor starts with getting the WebAuthn credential request details (including the challenge nonce) then using the client-side
JavaScript API to get the signed assertion from the WebAuthn authenticator.</p> <p>For more information about these credential request options, see the <a href="https://www.w3.org/TR/webauthn/#dictionary-makecredentialoptions" target="_blank" rel="noopener noreferrer">WebAuthn spec for PublicKeyCredentialRequestOptions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h5 id="request-example-for-verify-webauthn-factor">Request Example for Verify WebAuthn Factor <a href="#request-example-for-verify-webauthn-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;<span class="token variable">${stateToken}</span>&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/<span class="token variable">${factorIdOrFactorType}</span>/verify&quot;</span>
</code></pre></div><h5 id="response-example-for-verify-webauthn-factor-by-factorid">Response Example for Verify WebAuthn Factor by <code>factorId</code> <a href="#response-example-for-verify-webauthn-factor-by-factorid" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00lbJNfhlFVRVAR37O3PRzNFkx-v5kgMYHJPTtMDS2&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2019-10-24T00:21:05.000Z&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;MFA_CHALLENGE&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span><span class="token string">&quot;CHALLENGE&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;challengeType&quot;</span><span class="token operator">:</span><span class="token string">&quot;FACTOR&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00u21eb3qyRDNNIKTGCW&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2015-10-28T23:27:57.000Z&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;first.last@gmail.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Last&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;fwfbaopNw5CCGJTu20g4&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;webauthn&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span><span class="token string">&quot;AZBXkiL5GrhfSvLeS4MHSvTVC_1ZLPcwI4SKKqKF1sd9TL_UFoQliUKu00to6slexSOZ9oh1h54BbTXPA343qHBF&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;authenticatorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;MacBook Touch ID&quot;</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;challenge&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token property">&quot;challenge&quot;</span><span class="token operator">:</span><span class="token string">&quot;K0UNqWlz2TCCDd5qEkBf&quot;</span><span class="token punctuation">,</span>
               <span class="token property">&quot;extensions&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;policy&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;allowRememberDevice&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token property">&quot;rememberDeviceLifetimeInMinutes&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token property">&quot;rememberDeviceByDefault&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token property">&quot;factorsPolicyInfo&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>

         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;next&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/fwfbaopNw5CCGJTu20g4/verify&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="response-example-for-verify-webauthn-factor-by-factortype">Response Example for Verify WebAuthn Factor by <code>factorType</code> <a href="#response-example-for-verify-webauthn-factor-by-factortype" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;00lbJNfhlFVRVAR37O3PRzNFkx-v5kgMYHJPTtMDS2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2019-10-24T00:21:05.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;MFA_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span><span class="token string">&quot;CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;challengeType&quot;</span><span class="token operator">:</span><span class="token string">&quot;FACTOR_TYPE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;webauthn&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00u21eb3qyRDNNIKTGCW&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2015-10-28T23:27:57.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;first.last@gmail.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Last&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;challenge&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;challenge&quot;</span><span class="token operator">:</span><span class="token string">&quot;K0UNqWlz2TCCDd5qEkBf&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;extensions&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>

      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;fwfbaopNw5CCGJTu20g4&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;webauthn&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span><span class="token string">&quot;AZBXkiL5GrhfSvLeS4MHSvTVC_1ZLPcwI4SKKqKF1sd9TL_UFoQliUKu00to6slexSOZ9oh1h54BbTXPA343qHBF&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;authenticatorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;MacBook Touch ID&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;fwfbadoFkIGXCH8ky0g4&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span><span class="token string">&quot;webauthn&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span><span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;FIDO&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span><span class="token string">&quot;5V1tI15ifCWhZSLvv9szL4HjRk-vpBYYg86n4LZlVg5bAg2_UnP-vjc4ix60Uh9ehLluB7KsMzmEU7y_TuRaJA&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;authenticatorName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Yubikey 5&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;policy&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;allowRememberDevice&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rememberDeviceLifetimeInMinutes&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rememberDeviceByDefault&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorsPolicyInfo&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>

      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/webauthn/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="get-the-signed-assertion-from-the-webauthn-authenticator">Get the Signed Assertion from the WebAuthn Authenticator <a href="#get-the-signed-assertion-from-the-webauthn-authenticator" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- Using CryptoUtil.js from https://github.com/okta/okta-signin-widget/blob/master/src/util/CryptoUtil.js --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// For factorId verification, convert activation object's challenge nonce from string to binary</span>
  factor<span class="token punctuation">.</span>_embedded<span class="token punctuation">.</span>challenge<span class="token punctuation">.</span>challenge <span class="token operator">=</span> CryptoUtil<span class="token punctuation">.</span><span class="token function">strToBin</span><span class="token punctuation">(</span>factor<span class="token punctuation">.</span>_embedded<span class="token punctuation">.</span>challenge<span class="token punctuation">.</span>challenge<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// For factorType verification, the challenge nonce would be stored in challenge.challenge instead</span>

  <span class="token comment">// Call the WebAuthn javascript API to get signed assertion from the WebAuthn authenticator</span>
  navigator<span class="token punctuation">.</span>credentials<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    publicKey<span class="token punctuation">:</span> factor<span class="token punctuation">.</span>_embedded<span class="token punctuation">.</span>challenge
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">assertion</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Get the client data, authenticator data, and signature data from callback result, convert from binary to string</span>
      <span class="token keyword">var</span> clientData <span class="token operator">=</span> CryptoUtil<span class="token punctuation">.</span><span class="token function">binToStr</span><span class="token punctuation">(</span>assertion<span class="token punctuation">.</span>response<span class="token punctuation">.</span>clientDataJSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> authenticatorData <span class="token operator">=</span> CryptoUtil<span class="token punctuation">.</span><span class="token function">binToStr</span><span class="token punctuation">(</span>assertion<span class="token punctuation">.</span>response<span class="token punctuation">.</span>authenticatorData<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> signatureData <span class="token operator">=</span> CryptoUtil<span class="token punctuation">.</span><span class="token function">binToStr</span><span class="token punctuation">(</span>assertion<span class="token punctuation">.</span>response<span class="token punctuation">.</span>signature<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Error from WebAuthn platform</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="post-the-signed-assertion-to-okta-to-complete-verification-2">Post the signed assertion to Okta to complete verification <a href="#post-the-signed-assertion-to-okta-to-complete-verification-2" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <h5 id="request-parameters-for-verify-webauthn-factor">Request Parameters for Verify WebAuthn Factor <a href="#request-parameters-for-verify-webauthn-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>factorId</td> <td><code>id</code> of factor</td> <td>URL</td> <td>String</td> <td>TRUE (<code>factorId</code> OR <code>factorType</code> required)</td></tr> <tr><td>factorType</td> <td><code>factorType</code> of factor; for WebAuthn, it is <code>webauthn</code></td> <td>URL</td> <td>String</td> <td>TRUE (<code>factorId</code> OR <code>factorType</code> required)</td></tr> <tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>clientData</td> <td>base64-encoded client data from the WebAuthn authenticator</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>authenticatorData</td> <td>base64-encoded authenticator data from the WebAuthn authenticator</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>signatureData</td> <td>base64-encoded signature data from the WebAuthn authenticator</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>rememberDevice</td> <td>user's decision to remember the device</td> <td>URL</td> <td>Boolean</td> <td>FALSE</td></tr></tbody></table> <h5 id="request-example-for-signed-assertion-2">Request Example for Signed Assertion <a href="#request-example-for-signed-assertion-2" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;clientData&quot;: &quot;eyJjaGFsbGVuZ2UiOiJoOVhzT2JrWmRnNU9vTTdyUS0zMSIsIm9yaWdpbiI6Imh0dHBzOi8vcmFpbi5va3RhMS5jb20iLCJ0eXBlIjoid2ViYXV0aG4uZ2V0In0=&quot;,
  &quot;authenticatorData&quot;: &quot;SBv04caJ+NLZ0bTeotGq9esMhHJ8YC5z4bMXXPbT95UFXbDsOg==&quot;,
  &quot;signatureData&quot;: &quot;MEQCICeN9Y3Jw9y1vS1ADghTW5gUKy1JFZpESHXyTRbfjXXrAiAtQLyEjXtkZnZCgnmZA1EjPiHjhvXzkWn83zHtVgGkPQ==&quot;,
  &quot;stateToken&quot;: &quot;<span class="token variable">${stateToken}</span>&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/<span class="token variable">${factorIdOrFactorType}</span>/verify&quot;</span>
</code></pre></div><h5 id="response-of-webauthn-verification-example">Response of WebAuthn Verification Example <a href="#response-of-webauthn-verification-example" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T14:14:44.000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;201111XUk7La2gw5r5PV1IhU4WSd0fV6mvNYdlJoeqjuyej7S83x3Hr&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;00ukv3jVTgRjDctlX0g3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span><span class="token string">&quot;2016-07-13T13:29:58.000Z&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;login&quot;</span><span class="token operator">:</span><span class="token string">&quot;first.last@example.com&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Last&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span><span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;America/Los_Angeles&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="recovery-operations">Recovery Operations <a href="#recovery-operations" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <h3 id="forgot-password">Forgot Password <a href="#forgot-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/recovery/password</span></span></p> <p>Starts a new password recovery transaction for a given user and issues a <a href="#recovery-token">recovery token</a> that can be used to reset a user's password.</p> <ul><li><a href="#forgot-password-with-email-factor">Forgot Password with Email Factor</a></li> <li><a href="#forgot-password-with-sms-factor">Forgot Password with SMS Factor</a></li> <li><a href="#forgot-password-with-call-factor">Forgot Password with Call Factor</a></li> <li><a href="#forgot-password-with-trusted-application">Forgot Password with Trusted Application</a></li></ul> <blockquote><p>Self-service password reset (forgot password) must be permitted via the user's assigned password policy to use this operation.</p></blockquote> <h5 id="request-parameters-for-forgot-password">Request Parameters for Forgot Password <a href="#request-parameters-for-forgot-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th> <th>MaxLength</th></tr></thead> <tbody><tr><td>username</td> <td>User's non-qualified short-name (e.g. dade.murphy) or unique fully-qualified login (dade.murphy@example.com)</td> <td>Body</td> <td>String</td> <td>TRUE</td> <td></td></tr> <tr><td>factorType</td> <td>Recovery factor to use for primary authentication</td> <td>Body</td> <td><code>EMAIL</code> or <code>SMS</code> or <code>CALL</code></td> <td>FALSE</td> <td></td></tr></tbody></table> <blockquote><p>A valid <code>factorType</code> is required for requests without an API token with administrator privileges. For more information, see <a href="#forgot-password-with-trusted-application">Forgot Password with Trusted Application</a>.</p></blockquote> <p>The response is different, depending on whether the request is for a public application or a trusted application.</p> <h5 id="response-parameters-for-public-application-for-forgot-password">Response Parameters for Public Application for Forgot Password <a href="#response-parameters-for-public-application-for-forgot-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>The <a href="#recovery-transaction-model">Recovery Transaction Object</a> with <code>RECOVERY_CHALLENGE</code> status for the new recovery transaction.</p> <p>You will always receive a <a href="#recovery-transaction-model">Recovery Transaction</a> response even if the requested <code>username</code> is not a valid identifier to prevent information disclosure.</p> <h5 id="response-parameters-for-trusted-application-for-forgot-password">Response Parameters for Trusted Application for Forgot Password <a href="#response-parameters-for-trusted-application-for-forgot-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>The <a href="#recovery-transaction-model">Recovery Transaction Object</a> with an issued <code>recoveryToken</code> that can be distributed to the end user.</p> <p>You will receive a <code>403 Forbidden</code> status code if the <code>username</code> requested is not valid.</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
    <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000095&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Recovery not allowed for unknown user.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000095&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaetVarN2dKS6ap08dq0k4n7A&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h4 id="forgot-password-with-email-factor">Forgot Password with Email Factor <a href="#forgot-password-with-email-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Starts a new password recovery transaction for the email factor:</p> <ul><li>You must specify a user identifier (<code>username</code>) but no password in the request.</li> <li>If the request is successful, Okta sends a recovery email asynchronously to the user's primary and secondary email address with a <a href="#recovery-token">recovery token</a> so the user can complete the transaction.</li></ul> <p>Primary authentication of a user's recovery credential (e.g <code>EMAIL</code> or <code>SMS</code>) hasn't completed when this request is sent; the user is pending validation.</p> <p>Okta provides security in the following ways:</p> <ul><li>Since the recovery email is distributed out-of-band and may be viewed on a different user agent or device, this operation does not return a <a href="#state-token">state token</a> and does not have a <code>next</code> link.</li> <li>Okta doesn't publish additional metadata about the user until primary authentication has successfully completed.
See the Response Example in this section for details.</li></ul> <h5 id="request-example-for-forgot-password-with-email-factor">Request Example for Forgot Password with Email Factor <a href="#request-example-for-forgot-password-with-email-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
  &quot;factorType&quot;: &quot;EMAIL&quot;,
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/recovery/password&quot;</span>
</code></pre></div><h5 id="response-example-for-forgot-password-with-email-factor">Response Example for Forgot Password with Email Factor <a href="#response-example-for-forgot-password-with-email-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EMAIL&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="forgot-password-with-sms-factor">Forgot Password with SMS Factor <a href="#forgot-password-with-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Starts a new password recovery transaction with a user identifier (<code>username</code>) and asynchronously sends a SMS OTP (challenge) to the user's mobile phone.  This operation will transition the recovery transaction to the <code>RECOVERY_CHALLENGE</code> state and wait for the user to <a href="#verify-sms-recovery-factor">verify the OTP</a>.</p> <blockquote><p>Primary authentication of a user's recovery credential (e.g email or SMS) hasn't yet completed.
Okta will not publish additional metadata about the user until primary authentication has successfully completed.</p></blockquote> <blockquote><p>SMS recovery factor must be enabled via the user's assigned password policy to use this operation.</p></blockquote> <h5 id="request-example-for-forgot-password-with-sms-factor">Request Example for Forgot Password with SMS Factor <a href="#request-example-for-forgot-password-with-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
  &quot;factorType&quot;: &quot;SMS&quot;,
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/recovery/password&quot;</span>
</code></pre></div><h5 id="response-example-for-forgot-password-with-sms-factor">Response Example for Forgot Password with SMS Factor <a href="#response-example-for-forgot-password-with-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00xdqXOE5qDXX8-PBR1bYv8AESqIEinDy3yul01tyh&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SMS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/factors/SMS/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resend&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/factors/SMS/resend&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="forgot-password-with-call-factor">Forgot Password with Call Factor <a href="#forgot-password-with-call-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Starts a new password recovery transaction with a user identifier (<code>username</code>) and asynchronously sends a Voice Call with OTP (challenge) to the user's phone.  This operation will transition the recovery transaction to the <code>RECOVERY_CHALLENGE</code> state and wait for user to <a href="#verify-call-recovery-factor">verify the OTP</a>.</p> <p>Note:</p> <ul><li>Primary authentication of a user's recovery credential (e.g email or SMS or Voice Call) hasn't yet completed.</li> <li>Okta won't publish additional metadata about the user until primary authentication has successfully completed.</li> <li>Voice Call recovery factor must be enabled via the user's assigned password policy to use this operation.</li></ul> <h5 id="request-example-for-forgot-password-with-call-factor">Request Example for Forgot Password with Call Factor <a href="#request-example-for-forgot-password-with-call-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
  &quot;factorType&quot;: &quot;call&quot;,
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/recovery/password&quot;</span>
</code></pre></div><h5 id="response-example-for-forgot-password-with-call-factor">Response Example for Forgot Password with Call Factor <a href="#response-example-for-forgot-password-with-call-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00xdqXOE5qDXX8-PBR1bYv8AESqIEinDy3yul01tyh&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;call&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/factors/CALL/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resend&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;call&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/factors/CALL/resend&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="forgot-password-with-trusted-application">Forgot Password with Trusted Application <a href="#forgot-password-with-trusted-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Allows a <a href="#trusted-application">trusted application</a> such as an external portal to implement its own primary authentication process and directly obtain a <a href="#recovery-token">recovery token</a> for a user given just the user's identifier.</p> <blockquote><p>Directly obtaining a <code>recoveryToken</code> is a highly privileged operation that requires an administrator API token and should be restricted to trusted web applications.  Anyone that obtains a <code>recoveryToken</code> for a user and knows the answer to a user's recovery question can reset their password or unlock their account.</p></blockquote> <blockquote><p>The <strong>public IP address</strong> of your <a href="#trusted-application">trusted application</a> must be <a href="/docs/reference/api-overview/#ip-address">whitelisted as a gateway IP address</a> to forward the user agent's original IP address with the <code>X-Forwarded-For</code> HTTP header</p></blockquote> <h5 id="request-example-for-forgot-password-with-trusted-application">Request Example for Forgot Password with Trusted Application <a href="#request-example-for-forgot-password-with-trusted-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Authorization: SSWS <span class="token variable">${api_token}</span>&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.86 Safari/537.36&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;X-Forwarded-For: 23.235.46.133&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/recovery/password&quot;</span>
</code></pre></div><h5 id="response-example-for-forgot-password-with-trusted-application">Response Example for Forgot Password with Trusted Application <a href="#response-example-for-forgot-password-with-trusted-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VBQ0gwBp5LyJJFdbmWCM&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;recovery&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/token&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="unlock-account">Unlock Account <a href="#unlock-account" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/recovery/unlock</span></span></p> <p>Starts a new unlock recovery transaction for a given user and issues a <a href="#recovery-token">recovery token</a> that can be used to unlock a user's account.</p> <ul><li><a href="#unlock-account-with-email-factor">Unlock Account with Email Factor</a></li> <li><a href="#unlock-account-with-sms-factor">Unlock Account with SMS Factor</a></li> <li><a href="#unlock-account-with-trusted-application">Unlock Account with Trusted Application</a></li></ul> <blockquote><p>Self-service unlock must be permitted via the user's assigned password policy to use this operation.</p></blockquote> <h5 id="request-parameters-for-unlock-account">Request Parameters for Unlock Account <a href="#request-parameters-for-unlock-account" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th> <th>Max Length</th></tr></thead> <tbody><tr><td>username</td> <td>User's non-qualified short-name (dade.murphy) or unique fully-qualified login (dade.murphy@example.com)</td> <td>Body</td> <td>String</td> <td>TRUE</td> <td></td></tr> <tr><td>factorType</td> <td>Recovery factor to use for primary authentication</td> <td>Body</td> <td><code>EMAIL</code> or <code>SMS</code></td> <td>FALSE</td> <td></td></tr></tbody></table> <blockquote><p>A valid <code>factorType</code> is required for requests without an API token with administrator privileges. (See <a href="#unlock-account-with-trusted-application">Unlock Account with Trusted Application</a>)</p></blockquote> <h5 id="response-parameter-public-application-for-unlock-account">Response Parameter Public Application for Unlock Account <a href="#response-parameter-public-application-for-unlock-account" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#recovery-transaction-model">Recovery Transaction Object</a> with <code>RECOVERY_CHALLENGE</code> status for the new recovery transaction.</p> <p>You always receive a <a href="#recovery-transaction-model">Recovery Transaction</a> response, even if the requested <code>username</code> isn't a valid identifier to prevent information disclosure.</p> <h5 id="response-parameter-trusted-application-for-unlock-account">Response Parameter Trusted Application for Unlock Account <a href="#response-parameter-trusted-application-for-unlock-account" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#recovery-transaction-model">Recovery Transaction Object</a> with an issued <code>recoveryToken</code> that can be distributed to the end user.</p> <p>You receive a <code>403 Forbidden</code> status code if the <code>username</code> requested is not valid.</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
    <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000095&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Recovery not allowed for unknown user.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000095&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaetVarN2dKS6ap08dq0k4n7A&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h4 id="unlock-account-with-email-factor">Unlock Account with Email Factor <a href="#unlock-account-with-email-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Starts a new unlock recovery transaction with a user identifier (<code>username</code>) and asynchronously sends a recovery email to the user's primary and secondary email address with a <a href="#recovery-token">recovery token</a> that can be used to complete the transaction.</p> <p>Since the recovery email is distributed out-of-band and may be viewed on a different user agent or device, this operation does not return a <a href="#state-token">state token</a> and does not have a <code>next</code> link.</p> <p>Note:</p> <ul><li>Primary authentication of a user's recovery credential (e.g <code>EMAIL</code> or <code>SMS</code>) hasn't yet completed.</li> <li>Okta will not publish additional metadata about the user until primary authentication has successfully completed.</li></ul> <h5 id="request-example-for-email-factor">Request Example for Email Factor <a href="#request-example-for-email-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
  &quot;factorType&quot;: &quot;EMAIL&quot;,
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/recovery/unlock&quot;</span>
</code></pre></div><h5 id="response-example-for-email-factor">Response Example for Email Factor <a href="#response-example-for-email-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorResult&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WAITING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EMAIL&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;UNLOCK&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="unlock-account-with-sms-factor">Unlock Account with SMS Factor <a href="#unlock-account-with-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Starts a new unlock recovery transaction with a user identifier (<code>username</code>) and asynchronously sends an SMS OTP (challenge) to the user's mobile phone.  This operation transitions the recovery transaction to the <code>RECOVERY_CHALLENGE</code> state and waits for the user to <a href="#verify-sms-recovery-factor">verify the OTP</a>.</p> <p>Note:</p> <ul><li>Primary authentication of a user's recovery credential (e.g email or SMS) hasn't yet completed.</li> <li>Okta won't publish additional metadata about the user until primary authentication has successfully completed.</li> <li>SMS recovery factor must be enabled via the user's assigned password policy to use this operation.</li></ul> <h5 id="request-example-for-unlock-account-with-sms-factor">Request Example for Unlock Account with SMS Factor <a href="#request-example-for-unlock-account-with-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
  &quot;factorType&quot;: &quot;SMS&quot;,
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/recovery/unlock&quot;</span>
</code></pre></div><h5 id="response-example-for-unlock-account-with-sms-factor">Response Example for Unlock Account with SMS Factor <a href="#response-example-for-unlock-account-with-sms-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00xdqXOE5qDXX8-PBR1bYv8AESqIEinDy3yul01tyh&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SMS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;UNLOCK&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/factors/SMS/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resend&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/factors/SMS/resend&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="unlock-account-with-trusted-application">Unlock Account with Trusted Application <a href="#unlock-account-with-trusted-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Allows a <a href="#trusted-application">trusted application</a> such as an external portal to implement its own primary authentication process and directly obtain a <a href="#recovery-token">recovery token</a> for a user given just the user's identifier.</p> <p>Note:</p> <ul><li><p>Directly obtaining a <code>recoveryToken</code> is a highly privileged operation that requires an administrator API token and should be restricted to <a href="#trusted-application">trusted web applications</a>.  Anyone that obtains a <code>recoveryToken</code> for a user and knows the answer to a user's recovery question can reset their password or unlock their account.</p></li> <li><p>The <strong>public IP address</strong> of your <a href="#trusted-application">trusted application</a> must be <a href="/docs/reference/api-overview/#ip-address">whitelisted as a gateway IP address</a> to forward the user agent's original IP address with the <code>X-Forwarded-For</code> HTTP header</p></li></ul> <h5 id="request-example-for-unlock-account-with-sms-factor-trusted-application">Request Example for Unlock Account with SMS Factor (Trusted Application) <a href="#request-example-for-unlock-account-with-sms-factor-trusted-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Authorization: SSWS <span class="token variable">${api_token}</span>&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.86 Safari/537.36&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;X-Forwarded-For: 23.235.46.133&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;username&quot;: &quot;dade.murphy@example.com&quot;,
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/recovery/unlock&quot;</span>
</code></pre></div><h5 id="response-example-for-unlock-account-with-sms-factor-trusted-application">Response Example for Unlock Account with SMS Factor (Trusted Application) <a href="#response-example-for-unlock-account-with-sms-factor-trusted-application" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VBQ0gwBp5LyJJFdbmWCM&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;UNLOCK&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;recovery&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/token&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="verify-recovery-factor">Verify Recovery Factor <a href="#verify-recovery-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <h4 id="verify-sms-recovery-factor">Verify SMS Recovery Factor <a href="#verify-sms-recovery-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/recovery/factors/sms/verify</span></span></p> <p>Verifies a SMS OTP (<code>passCode</code>) sent to the user's mobile phone for primary authentication for a recovery transaction with <code>RECOVERY_CHALLENGE</code> status.</p> <h5 id="request-parameters-for-verify-sms-recovery-factor">Request Parameters for Verify SMS Recovery Factor <a href="#request-parameters-for-verify-sms-recovery-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current recovery transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>passCode</td> <td>OTP sent to device</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="response-parameters-for-verify-sms-recovery-factor">Response Parameters for Verify SMS Recovery Factor <a href="#response-parameters-for-verify-sms-recovery-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#recovery-transaction-model">Recovery Transaction Object</a> with the current <a href="#transaction-state">state</a> for the recovery transaction.</p> <p>If the <code>passCode</code> is invalid, you receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid Passcode/Answer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oae2uOmZcuzToCPEV2Pc_f5zw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your token doesn't match our records. Please try again.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="request-example-for-verify-sms-recovery-factor">Request Example for Verify SMS Recovery Factor <a href="#request-example-for-verify-sms-recovery-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;00xdqXOE5qDXX8-PBR1bYv8AESqIEinDy3yul01tyh&quot;,
  &quot;passCode&quot;: &quot;657866&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/sms/verify&quot;</span>
</code></pre></div><h5 id="response-example-for-verify-sms-recovery-factor">Response Example for Verify SMS Recovery Factor <a href="#response-example-for-verify-sms-recovery-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00xdqXOE5qDXX8-PBR1bYv8AESqIEinDy3yul01tyh&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;recovery_question&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;question&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Who's a major player in the cowboy scene?&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;answer&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/answer&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="resend-sms-recovery-challenge">Resend SMS Recovery Challenge <a href="#resend-sms-recovery-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/recovery/factors/sms/resend</span></span></p> <p>Resends a SMS OTP (<code>passCode</code>) to the user's mobile phone</p> <h4 id="request-parameters-for-resend-sms-recovery-challenge">Request Parameters for Resend SMS Recovery Challenge <a href="#request-parameters-for-resend-sms-recovery-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current recovery transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h4 id="response-parameters-for-resend-sms-recovery-challenge">Response Parameters for Resend SMS Recovery Challenge <a href="#response-parameters-for-resend-sms-recovery-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p><a href="#recovery-transaction-model">Recovery Transaction Object</a> with the current <a href="#transaction-state">state</a> for the recovery transaction.</p> <h4 id="request-example-for-resend-sms-recovery-challenge">Request Example for Resend SMS Recovery Challenge <a href="#request-example-for-resend-sms-recovery-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;00xdqXOE5qDXX8-PBR1bYv8AESqIEinDy3yul01tyh&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/recovery/factors/sms/resend&quot;</span>
</code></pre></div><h4 id="response-example-for-resend-sms-recovery-challenge">Response Example for Resend SMS Recovery Challenge <a href="#response-example-for-resend-sms-recovery-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00xdqXOE5qDXX8-PBR1bYv8AESqIEinDy3yul01tyh&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SMS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/factors/SMS/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resend&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/factors/SMS/resend&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>The <code>factorType</code> and <code>recoveryType</code> properties vary depending on recovery transaction.</p></blockquote> <h4 id="verify-call-recovery-factor">Verify Call Recovery Factor <a href="#verify-call-recovery-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/recovery/factors/call/verify</span></span></p> <p>Verifies a Voice Call OTP (<code>passCode</code>) sent to the user's device for primary authentication for a recovery transaction with <code>RECOVERY_CHALLENGE</code> status.</p> <h5 id="request-parameters-for-verify-call-recovery-factor">Request Parameters for Verify Call Recovery Factor <a href="#request-parameters-for-verify-call-recovery-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current recovery transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>passCode</td> <td>Passcode received via the voice call</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="response-parameters-for-verify-call-recovery-factor">Response Parameters for Verify Call Recovery Factor <a href="#response-parameters-for-verify-call-recovery-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#recovery-transaction-model">Recovery Transaction Object</a> with the current <a href="#transaction-state">state</a> for the recovery transaction.</p> <p>If the <code>passCode</code> is invalid, you receive a <code>403 Forbidden</code> status code with the following error:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid Passcode/Answer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000068&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oae2uOmZcuzToCPEV2Pc_f5zw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your token doesn't match our records. Please try again.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="request-example-for-verify-call-recovery-factor">Request Example for Verify Call Recovery Factor <a href="#request-example-for-verify-call-recovery-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;00xdqXOE5qDXX8-PBR1bYv8AESqIEinDy3yul01tyh&quot;,
  &quot;passCode&quot;: &quot;65786&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/factors/CALL/verify&quot;</span>
</code></pre></div><h5 id="response-example-for-verify-call-recovery-factor">Response Example for Verify Call Recovery Factor <a href="#response-example-for-verify-call-recovery-factor" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00xdqXOE5qDXX8-PBR1bYv8AESqIEinDy3yul01tyh&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;recovery_question&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;question&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Who's a major player in the cowboy scene?&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;answer&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/answer&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre></div><h6 id="resend-call-recovery-challenge">Resend Call Recovery Challenge <a href="#resend-call-recovery-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/recovery/factors/call/resend</span></span></p> <p>Resends a Voice Call with OTP (<code>passCode</code>) to the user's phone</p> <h4 id="request-parameters-for-resend-call-recovery-challenge">Request Parameters for Resend Call Recovery Challenge <a href="#request-parameters-for-resend-call-recovery-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current recovery transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h4 id="response-parameters-for-resend-call-recovery-challenge">Response Parameters for Resend Call Recovery Challenge <a href="#response-parameters-for-resend-call-recovery-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p><a href="#recovery-transaction-model">Recovery Transaction Object</a> with the current <a href="#transaction-state">state</a> for the recovery transaction.</p> <h4 id="request-example-for-resend-call-recovery-challenge">Request Example for Resend Call Recovery Challenge <a href="#request-example-for-resend-call-recovery-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;00xdqXOE5qDXX8-PBR1bYv8AESqIEinDy3yul01tyh&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/recovery/factors/CALL/resend&quot;</span>
</code></pre></div><h4 id="response-example-for-resend-call-recovery-challenge">Response Example for Resend Call Recovery Challenge <a href="#response-example-for-resend-call-recovery-challenge" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00xdqXOE5qDXX8-PBR1bYv8AESqIEinDy3yul01tyh&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;call&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;recoveryType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/factors/CALL/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resend&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;call&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/factors/CALL/resend&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The <code>factorType</code> and <code>recoveryType</code> properties vary depending on the recovery transaction.</p> <h3 id="verify-recovery-token">Verify Recovery Token <a href="#verify-recovery-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/recovery/token</span></span></p> <p>Validates a <a href="#recovery-token">recovery token</a> that was distributed to the end user to continue the recovery transaction.</p> <h5 id="request-parameters-for-verify-recovery-token">Request Parameters for Verify Recovery Token <a href="#request-parameters-for-verify-recovery-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>recoveryToken</td> <td><a href="#recovery-token">Recovery token</a> that was distributed to the end user via out-of-band mechanism such as email</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="response-parameters-for-verify-recovery-token">Response Parameters for Verify Recovery Token <a href="#response-parameters-for-verify-recovery-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#recovery-transaction-model">Recovery Transaction Object</a> with a <code>RECOVERY</code> status and an issued <code>stateToken</code> that must be used to complete the recovery transaction.</p> <p>You will receive a <code>401 Unauthorized</code> status code if you attempt to use an expired or invalid <a href="#recovery-token">recovery token</a>.</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">401 Unauthorized</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
    <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000011&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid token provided&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000011&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaeY-4G_TBUTBSZAn9n7oZCfw&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="request-example-for-verify-recovery-token">Request Example for Verify Recovery Token <a href="#request-example-for-verify-recovery-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;recoveryToken&quot;: &quot;00xdqXOE5qDZX8-PBR1bYv8AESqIFinDy3yul01tyh&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/recovery/token&quot;</span>
</code></pre></div><h5 id="response-example-for-verify-recovery-token">Response Example for Verify Recovery Token <a href="#response-example-for-verify-recovery-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00lMJySRYNz3u_rKQrsLvLrzxiARgivP8FB_1gpmVb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RECOVERY&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;recovery_question&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;question&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Who's a major player in the cowboy scene?&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;answer&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/recovery/answer&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="answer-recovery-question">Answer Recovery Question <a href="#answer-recovery-question" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/recovery/answer</span></span></p> <p>Answers the user's recovery question to ensure only the end user redeemed the <a href="#recovery-token">recovery token</a> for recovery transaction with a <code>RECOVERY</code> <a href="#transaction-state">status</a>.</p> <h5 id="request-parameters-for-answer-recovery-question">Request Parameters for Answer Recovery Question <a href="#request-parameters-for-answer-recovery-question" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>answer</td> <td>answer to user's recovery question</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="response-parameters-for-answer-recovery-question">Response Parameters for Answer Recovery Question <a href="#response-parameters-for-answer-recovery-question" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#recovery-transaction-model">Recovery Transaction Object</a> with the current <a href="#transaction-state">state</a> for the recovery transaction.</p> <p>You will receive a <code>403 Forbidden</code> status code if the <code>answer</code> to the user's <a href="#recovery-question-object">recovery question</a> is invalid</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
    <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000087&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The recovery question answer did not match our records.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000087&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaeGEiIPFfeR3a_XxpezUH9ug&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="request-example-for-answer-recovery-question">Request Example for Answer Recovery Question <a href="#request-example-for-answer-recovery-question" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Authorization: SSWS <span class="token variable">${api_token}</span>&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;00lMJySRYNz3u_rKQrsLvLrzxiARgivP8FB_1gpmVb&quot;,
  &quot;answer&quot;: &quot;Annie Oakley&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/recovery/answer&quot;</span>
</code></pre></div><h5 id="response-example-for-answer-recovery-question">Response Example for Answer Recovery Question <a href="#response-example-for-answer-recovery-question" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00lMJySRYNz3u_rKQrsLvLrzxiARgivP8FB_1gpmVb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD_RESET&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;policy&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;passwordExpireDays&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;complexity&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;minLength&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minLowerCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minUpperCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minNumber&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;minSymbol&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;excludeUsername&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token property">&quot;age&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;minAgeMinutes&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token property">&quot;historyCount&quot;</span><span class="token operator">:</span><span class="token number">0</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/credentials/reset_password&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="reset-password">Reset Password <a href="#reset-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/credentials/reset_password</span></span></p> <p>Resets a user's password to complete a recovery transaction with a <code>PASSWORD_RESET</code> <a href="#transaction-state">state</a>.</p> <h5 id="request-parameters-for-reset-password">Request Parameters for Reset Password <a href="#request-parameters-for-reset-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for the current transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr> <tr><td>newPassword</td> <td>User's new password</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="response-parameters-for-reset-password">Response Parameters for Reset Password <a href="#response-parameters-for-reset-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#recovery-transaction-model">Recovery Transaction Object</a> with the current <a href="#transaction-state">state</a> for the recovery transaction.</p> <p>You will receive a <code>403 Forbidden</code> status code if the <code>answer</code> to the user's <a href="#recovery-question-object">recovery question</a> is invalid.</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
    <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000087&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The recovery question answer did not match our records.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000087&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaeGEiIPFfeR3a_XxpezUH9ug&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>You will also receive a <code>403 Forbidden</code> status code if the <code>newPassword</code> does not meet password policy requirements for the user.</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
    <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000014&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The password does meet the complexity requirements of the current password policy.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000014&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaeS4O7BUp5Roefkk_y4Z2u8Q&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Passwords must have at least 8 characters, a lowercase letter, an uppercase letter, a number, no parts of your username&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h5 id="request-example-for-reset-password">Request Example for Reset Password <a href="#request-example-for-reset-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Authorization: SSWS <span class="token variable">${api_token}</span>&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;00lMJySRYNz3u_rKQrsLvLrzxiARgivP8FB_1gpmVb&quot;,
  &quot;newPassword&quot;: &quot;Ch-ch-ch-ch-Changes!&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/credentials/reset_password&quot;</span>
</code></pre></div><h5 id="response-example-for-reset-password">Response Example for Reset Password <a href="#response-example-for-reset-password" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00t6IUQiVbWpMLgtmwSjMFzqykb5QcaBNtveiWlGeM&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="state-management-operations">State Management Operations <a href="#state-management-operations" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <h3 id="get-transaction-state">Get Transaction State <a href="#get-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn</span></span></p> <p>Retrieves the current <a href="#transaction-state">transaction state</a> for a <a href="#state-token">state token</a>.</p> <h5 id="request-parameters-for-get-transaction-state">Request Parameters for Get Transaction State <a href="#request-parameters-for-get-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for a transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="response-parameters-for-get-transaction-state">Response Parameters for Get Transaction State <a href="#response-parameters-for-get-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#transaction-model">Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication or recovery transaction.</p> <h5 id="request-example-for-get-transaction-state">Request Example for Get Transaction State <a href="#request-example-for-get-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;00lMJySRYNz3u_rKQrsLvLrzxiARgivP8FB_1gpmVb&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn&quot;</span>
</code></pre></div><h5 id="response-example-for-get-transaction-state">Response Example for Get Transaction State <a href="#response-example-for-get-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00lMJySRYNz3u_rKQrsLvLrzxiARgivP8FB_1gpmVb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_CHALLENGE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms193zUBEROPBNZKPPE&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;phoneNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+1 XXX-XXX-1337&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/sms193zUBEROPBNZKPPE/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="previous-transaction-state">Previous Transaction State <a href="#previous-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/previous</span></span></p> <p>Moves the current <a href="#transaction-state">transaction state</a> back to the previous state.</p> <p>For example, when changing state from the start of primary authentication to MFA_ENROLL &gt; ENROLL_ACTIVATE &gt; OTP,
the user's phone might stop working. Since the user can't see the QR code, the transaction must return to MFA_ENROLL.</p> <h5 id="request-parameters-for-previous-transaction-state">Request Parameters for Previous Transaction State <a href="#request-parameters-for-previous-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for a transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="response-parameters-for-previous-transaction-state">Response Parameters for Previous Transaction State <a href="#response-parameters-for-previous-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#transaction-model">Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication or recovery transaction.</p> <h5 id="request-example-for-previous-transaction-state">Request Example for Previous Transaction State <a href="#request-example-for-previous-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;00lMJySRYNz3u_rKQrsLvLrzxiARgivP8FB_1gpmVb&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/previous&quot;</span>
</code></pre></div><h5 id="response-example-for-previous-transaction-state">Response Example for Previous Transaction State <a href="#response-example-for-previous-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stateToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;007ucIX7PATyn94hsHfOLVaXAmOBkKHWnOOLG43bsb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MFA_ENROLL&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;factors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RSA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RSA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token:software:totp&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vendorName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;enroll&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;POST&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NOT_SETUP&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enrollment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OPTIONAL&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="skip-transaction-state">Skip Transaction State <a href="#skip-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/skip</span></span></p> <p>Send a skip link to skip the current <a href="#transaction-state">transaction state</a> and advance to the next state.</p> <p>If the response returns a skip link, then you can advance to the next state without completing the current state (such as changing the password).
For example, after being warned that a password will soon expire, the user can skip the change password prompt
by clicking a skip link.</p> <p>Another example: a user has enrolled in multiple factors. After enrolling in one the user receives a skip link
to skip the other factors.</p> <blockquote><p>This operation is only available for <code>MFA_ENROLL</code> or <code>PASSWORD_WARN</code> states when published as a link.</p></blockquote> <h5 id="request-parameters-for-skip-transaction-state">Request Parameters for Skip Transaction State <a href="#request-parameters-for-skip-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for a transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="response-parameters-for-skip-transaction-state">Response Parameters for Skip Transaction State <a href="#response-parameters-for-skip-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p><a href="#transaction-model">Transaction Object</a> with the current <a href="#transaction-state">state</a> for the authentication or recovery transaction.</p> <h5 id="request-example-for-skip-transaction-state">Request Example for Skip Transaction State <a href="#request-example-for-skip-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;00lMJySRYNz3u_rKQrsLvLrzxiARgivP8FB_1gpmVb&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/skip&quot;</span>
</code></pre></div><h5 id="response-example-for-skip-transaction-state">Response Example for Skip Transaction State <a href="#response-example-for-skip-transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-03T10:15:57.000Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00t6IUQiVbWpMLgtmwSjMFzqykb5QcaBNtveiWlGeM&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_embedded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00ub0oNGTSWTBKOLGLNR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="cancel-transaction">Cancel Transaction <a href="#cancel-transaction" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p data-v-17df79a8><span class="api-uri-template api-uri-post" data-v-17df79a8><span class="api-label" data-v-17df79a8>
      POST
    </span> <span data-v-17df79a8>/api/v1/authn/cancel</span></span></p> <p>Cancels the current transaction and revokes the <a href="#state-token">state token</a>.</p> <h5 id="request-parameters-for-cancel-transaction">Request Parameters for Cancel Transaction <a href="#request-parameters-for-cancel-transaction" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <table><thead><tr><th>Parameter</th> <th>Description</th> <th>Param Type</th> <th>DataType</th> <th>Required</th></tr></thead> <tbody><tr><td>stateToken</td> <td><a href="#state-token">state token</a> for a transaction</td> <td>Body</td> <td>String</td> <td>TRUE</td></tr></tbody></table> <h5 id="request-example-for-cancel-transaction">Request Example for Cancel Transaction <a href="#request-example-for-cancel-transaction" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST <span class="token punctuation">\</span>
-H <span class="token string">&quot;Accept: application/json&quot;</span> <span class="token punctuation">\</span>
-H <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
-d <span class="token string">'{
  &quot;stateToken&quot;: &quot;00lMJySRYNz3u_rKQrsLvLrzxiARgivP8FB_1gpmVb&quot;
}'</span> <span class="token string">&quot;https://<span class="token variable">${yourOktaDomain}</span>/api/v1/authn/cancel&quot;</span>
</code></pre></div><h2 id="transaction-model">Transaction Model <a href="#transaction-model" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>The Authentication API is a <em>stateful</em> API that implements a finite state machine with <a href="#transaction-state">defined states</a> and transitions.  Each initial authentication or recovery request is issued a unique <a href="#state-token">state token</a> that must be passed with each subsequent request until the transaction is complete or canceled.</p> <p>The Authentication API leverages the <a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON HAL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> format to publish <code>next</code> and <code>prev</code> links for the current transaction state which should be used to transition the state machine.</p> <h3 id="authentication-transaction-model">Authentication Transaction Model <a href="#authentication-transaction-model" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Readonly</th> <th>MaxLength</th></tr></thead> <tbody><tr><td>stateToken</td> <td>ephemeral <a href="#state-token">token</a> that encodes the current state of an authentication transaction</td> <td>String</td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>type <a href="/docs/reference/releases-at-okta/"><!----> <span class="api-label api-label-ea"><i class="fa fa-flag"></i> Early Access </span> <!----></a></td> <td>type of authentication transaction. Currently available during step-up authentication</td> <td><a href="#authentication-type">Authentication Type</a></td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>sessionToken</td> <td>ephemeral <a href="#session-token">one-time token</a> used to bootstrap an Okta session</td> <td>String</td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>expiresAt</td> <td>lifetime of the <code>stateToken</code> or <code>sessionToken</code> (See <a href="#tokens">Tokens</a>)</td> <td>Date</td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>status</td> <td>current <a href="#transaction-state">state</a> of the authentication transaction</td> <td><a href="#transaction-state">Transaction State</a></td> <td>FALSE</td> <td>TRUE</td> <td></td></tr> <tr><td>factorResult</td> <td>optional status of last verification attempt for a given factor</td> <td><a href="#factor-result">Factor Result</a></td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>_embedded</td> <td><a href="#embedded-resources">embedded resources</a> for the current <code>status</code></td> <td><a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON HAL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>_links</td> <td><a href="#links-object">link relations</a> for the current <code>status</code></td> <td><a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON HAL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>TRUE</td> <td>TRUE</td> <td></td></tr></tbody></table> <h3 id="recovery-transaction-model">Recovery Transaction Model <a href="#recovery-transaction-model" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Readonly</th> <th>MaxLength</th></tr></thead> <tbody><tr><td>stateToken</td> <td>ephemeral <a href="#state-token">token</a> that encodes the current state of a recovery transaction</td> <td>String</td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>recoveryToken</td> <td>ephemeral <a href="#recovery-token">one-time token</a> for recovery transaction to be distributed to the end user</td> <td>String</td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>expiresAt</td> <td>lifetime of the <code>stateToken</code> or <code>recoveryToken</code> (See <a href="#tokens">Tokens</a>)</td> <td>Date</td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>status</td> <td>current <a href="#transaction-state">state</a> of the recovery transaction</td> <td><a href="#transaction-state">Transaction State</a></td> <td>FALSE</td> <td>TRUE</td> <td></td></tr> <tr><td>factorType</td> <td>type of selected factor for the recovery transaction</td> <td><code>EMAIL</code> or <code>SMS</code></td> <td>FALSE</td> <td>TRUE</td> <td></td></tr> <tr><td>recoveryType</td> <td>type of recovery operation</td> <td><code>PASSWORD</code> or <code>UNLOCK</code></td> <td>FALSE</td> <td>TRUE</td> <td></td></tr> <tr><td>factorResult</td> <td>optional status of last verification attempt for the <code>factorType</code></td> <td><a href="#factor-result">Factor Result</a></td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>_embedded</td> <td><a href="#embedded-resources">embedded resources</a> for the current <code>status</code></td> <td><a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON HAL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>_links</td> <td><a href="#links-object">link relations</a> for the current <code>status</code></td> <td><a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON HAL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>TRUE</td> <td>TRUE</td> <td></td></tr></tbody></table> <h3 id="transaction-state">Transaction State <a href="#transaction-state" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p><img src="/img/auth-state-model1.png" alt="Transaction State Model Diagram" title="The diagram displays the authentication and recovery transaction states."></p> <p>An authentication or recovery transaction has one of the following states:</p> <table><thead><tr><th>Value</th> <th>Description</th> <th>Next Action</th></tr></thead> <tbody><tr><td><code>UNAUTHENTICATED</code> <a href="/docs/reference/releases-at-okta/"><!----> <span class="api-label api-label-ea"><i class="fa fa-flag"></i> Early Access </span> <!----></a></td> <td>User tried to access protected resource (ex: an app) but user is not authenticated</td> <td>POST to the <code>next</code> link relation to <a href="#step-up-authentication-without-okta-session">authenticate user credentials</a>.</td></tr> <tr><td><code>PASSWORD_WARN</code></td> <td>The user's password was successfully validated but is about to expire and should be changed.</td> <td>POST to the <code>next</code> link relation to <a href="#change-password">change the user's password</a>.</td></tr> <tr><td><code>PASSWORD_EXPIRED</code></td> <td>The user's password was successfully validated but is expired.</td> <td>POST to the <code>next</code> link relation to <a href="#change-password">change the user's expired password</a>.</td></tr> <tr><td><code>RECOVERY</code></td> <td>The user has requested a recovery token to reset their password or unlock their account.</td> <td>POST to the <code>next</code> link relation to <a href="#answer-recovery-question">answer the user's recovery question</a>.</td></tr> <tr><td><code>RECOVERY_CHALLENGE</code></td> <td>The user must verify the factor-specific recovery challenge.</td> <td>POST to the <code>verify</code> link relation to <a href="#verify-recovery-factor">verify the recovery factor</a>.</td></tr> <tr><td><code>PASSWORD_RESET</code></td> <td>The user successfully answered their recovery question and must to set a new password.</td> <td>POST to the <code>next</code> link relation to <a href="#reset-password">reset the user's password</a>.</td></tr> <tr><td><code>LOCKED_OUT</code></td> <td>The user account is locked; self-service unlock or administrator unlock is required.</td> <td>POST to the <code>unlock</code> link relation to perform a <a href="#unlock-account">self-service unlock</a>.</td></tr> <tr><td><code>MFA_ENROLL</code></td> <td>The user must select and enroll an available factor for additional verification.</td> <td>POST to the <code>enroll</code> link relation for a specific factor to <a href="#enroll-factor">enroll the factor</a>.</td></tr> <tr><td><code>MFA_ENROLL_ACTIVATE</code></td> <td>The user must activate the factor to complete enrollment.</td> <td>POST to the <code>next</code> link relation to <a href="#activate-factor">activate the factor</a>.</td></tr> <tr><td><code>MFA_REQUIRED</code></td> <td>The user must provide additional verification with a previously enrolled factor.</td> <td>POST to the <code>verify</code> link relation for a specific factor to <a href="#verify-factor">provide additional verification</a>.</td></tr> <tr><td><code>MFA_CHALLENGE</code></td> <td>The user must verify the factor-specific challenge.</td> <td>POST to the <code>verify</code> link relation to <a href="#verify-factor">verify the factor</a>.</td></tr> <tr><td><code>SUCCESS</code></td> <td>The transaction has completed successfully</td> <td></td></tr></tbody></table> <p>You advance the authentication or recovery transaction to the next state by posting a request with a valid <a href="#state-token">state token</a> to the the <code>next</code> link relation published in the <a href="#links-object">JSON HAL links object</a> for the response.</p> <p><a href="#enroll-factor">Enrolling a factor</a> and <a href="#verify-factor">verifying a factor</a> do not have <code>next</code> link relationships as the end user must make a selection of which factor to enroll or verify.</p> <blockquote><p>Never assume a specific state transition or URL when navigating the <a href="#transaction-state">state model</a>.  Always inspect the response for <code>status</code> and dynamically follow the <a href="#links-object">published link relations</a>.</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/ostf2xjtDKWFPZIKYDZV/lifecycle/activate&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/previous&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;skip&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/skip&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cancel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/cancel&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="authentication-type">Authentication Type <a href="#authentication-type" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <a href="/docs/reference/releases-at-okta/"><!----> <span class="api-label api-label-ea"><i class="fa fa-flag"></i> Early Access </span> <!----></a> <p>Represents the type of authentication</p> <p>Currently available only during <a href="#sp-initiated-step-up-authentication">SP-initiated step-up authentication</a> and <a href="#idp-initiated-step-up-authentication">IDP-initiated step-up authentication</a>.</p> <h3 id="tokens">Tokens <a href="#tokens" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>Authentication API operations return different token types depending on the <a href="#transaction-state">state</a> of the authentication or recovery transaction.</p> <h4 id="state-token">State Token <a href="#state-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Ephemeral token that encodes the current state of an authentication or recovery transaction.</p> <ul><li>The <code>stateToken</code> must be passed with every request except when verifying a <code>recoveryToken</code> that was distributed out-of-band</li> <li>The <code>stateToken</code> is only intended to be used between the web application performing end-user authentication and the Okta API. It should never be distributed to the end user via email or other out-of-band mechanisms.</li> <li>The lifetime of the <code>stateToken</code> uses a sliding scale expiration algorithm that extends with every request.  Always inspect the <code>expiresAt</code> property for the transaction when making decisions based on lifetime.</li></ul> <blockquote><p>All Authentication API operations will return <code>401 Unauthorized</code> status code when you attempt to use an expired state token.</p></blockquote> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">401 Unauthorized</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000011&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid token provided&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000011&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaeY-4G_TBUTBSZAn9n7oZCfw&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><blockquote><p>State transitions are strictly enforced for state tokens.  You will receive a <code>403 Forbidden</code> status code if you call an Authentication API operation with a <code>stateToken</code> with an invalid <a href="#transaction-state">state</a>.</p></blockquote> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">403 Forbidden</span></span>
<span class="token header-name keyword">Content-Type:</span> application/json<span class="token application/json">

<span class="token punctuation">{</span>
  <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000079&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;This operation is not allowed in the current authentication state.&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorLink&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E0000079&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oaen9Ly_ivHQJ-STb8KiADh9w&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorCauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;errorSummary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;This operation is not allowed in the current authentication state.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h4 id="recovery-token">Recovery Token <a href="#recovery-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>One-time token issued as <code>recoveryToken</code> response parameter when a recovery transaction transitions to the <code>RECOVERY</code> status.</p> <ul><li>The token can be exchanged for a <code>stateToken</code> to recover a user's password or unlock their account.</li> <li>Unlike the <code>statusToken</code> the <code>recoveryToken</code> should be distributed out-of-band to a user such as via email.</li> <li>The lifetime of the <code>recoveryToken</code> is managed by the organization's security policy.</li></ul> <p>The <code>recoveryToken</code> is sent via an out-of-band channel to the end user's verified email address or SMS phone number and acts as primary authentication for the recovery transaction.</p> <blockquote><p>Directly obtaining a <code>recoveryToken</code> is a highly privileged operation and should be restricted to trusted web applications.  Anyone that obtains a <code>recoveryToken</code> for a user and knows the answer to a user's recovery question can reset their password or unlock their account.</p></blockquote> <h4 id="session-token">Session Token <a href="#session-token" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>One-time token issued as <code>sessionToken</code> response parameter when an authentication transaction completes with the <code>SUCCESS</code> status.</p> <ul><li>The token can be exchanged for a session with the <a href="/docs/reference/api/sessions/#create-session-with-session-token">Session API</a> or converted to a <a href="/docs/guides/session-cookie/">session cookie</a>.</li> <li>The lifetime of the <code>sessionToken</code> is 5 minutes.</li></ul> <h3 id="factor-result">Factor Result <a href="#factor-result" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>The <code>MFA_CHALLENGE</code> or <code>RECOVERY_CHALLENGE</code> state can return an additional property <strong>factorResult</strong> that provides additional context for the last factor verification attempt.</p> <p>The following table shows the possible values for this property:</p> <table><thead><tr><th>factorResult</th> <th>Description</th></tr></thead> <tbody><tr><td><code>WAITING</code></td> <td>Factor verification has started but not yet completed (e.g user hasn't answered phone call yet)</td></tr> <tr><td><code>CANCELLED</code></td> <td>Factor verification was canceled by user</td></tr> <tr><td><code>TIMEOUT</code></td> <td>Unable to verify factor within the allowed time window</td></tr> <tr><td><code>TIME_WINDOW_EXCEEDED</code></td> <td>Factor was successfully verified but outside of the computed time window.  Another verification is required in current time window.</td></tr> <tr><td><code>PASSCODE_REPLAYED</code></td> <td>Factor was previously verified within the same time window.  User must wait another time window and retry with a new verification.</td></tr> <tr><td><code>ERROR</code></td> <td>Unexpected server error occurred verifying factor.</td></tr></tbody></table> <h3 id="links-object">Links Object <a href="#links-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>Specifies link relations (See <a href="http://tools.ietf.org/html/rfc5988" target="_blank" rel="noopener noreferrer">Web Linking<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) available for the current <a href="#transaction-state">transaction state</a> using the <a href="https://tools.ietf.org/html/rfc7159" target="_blank" rel="noopener noreferrer">JSON<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> specification.  These links are used to transition the <a href="#transaction-state">state machine</a> of the authentication or recovery transaction.</p> <p>The Links Object is read only.</p> <table><thead><tr><th>Link Relation Type</th> <th>Description</th></tr></thead> <tbody><tr><td>next</td> <td>Transitions the  <a href="#transaction-state">state machine</a> to the next state.  <strong>Note: The <code>name</code> of the link relationship provides a hint of the next operation required</strong></td></tr> <tr><td>prev</td> <td>Transitions the  <a href="#transaction-state">state machine</a> to the previous state.</td></tr> <tr><td>cancel</td> <td>Cancels the current  transaction and revokes the <a href="#state-token">state token</a>.</td></tr> <tr><td>skip</td> <td>Skips over the current  transaction state to the next valid <a href="#transaction-state">state</a></td></tr> <tr><td>resend</td> <td>Resends a challenge or OTP to a device</td></tr></tbody></table> <h2 id="embedded-resources">Embedded Resources <a href="#embedded-resources" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <h3 id="user-object">User Object <a href="#user-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>A subset of <a href="/docs/reference/api/users/#user-model">user properties</a> published in an authentication or recovery transaction after the user successfully completes primary authentication.</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>id</td> <td>Unique key for user</td> <td>String</td> <td>FALSE</td> <td>TRUE</td> <td>TRUE</td></tr> <tr><td>passwordChanged</td> <td>Timestamp when user's password last changed</td> <td>Date</td> <td>TRUE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>profile</td> <td>User's profile</td> <td><a href="#user-profile-object">User Profile Object</a></td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>recovery_question</td> <td>User's recovery question</td> <td><a href="#recovery-question-object">Recovery Question Object</a></td> <td>TRUE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00udnlQDVLVRIVXESCMZ&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;passwordChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-09-08T20:14:45.000Z&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span><span class="token string">&quot;Dade&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Murphy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;locale&quot;</span><span class="token operator">:</span> <span class="token string">&quot;en_US&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timeZone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;America/Los_Angeles&quot;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token property">&quot;recovery_question&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;question&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Who's to a major player in the cowboy scene?&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="user-profile-object">User Profile Object <a href="#user-profile-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Subset of <a href="/docs/reference/api/users/#profile-object">profile properties</a> for a user</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th> <th>Validation</th></tr></thead> <tbody><tr><td>login</td> <td>Unique login for user</td> <td>String</td> <td>FALSE</td> <td>TRUE</td> <td>TRUE</td> <td></td></tr> <tr><td>firstName</td> <td>First name of user</td> <td>String</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td> <td></td></tr> <tr><td>lastName</td> <td>Last name of user</td> <td>String</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td> <td></td></tr> <tr><td>locale</td> <td>User's default location for purposes of localizing items such as currency, date time format, numerical representations, etc.</td> <td>String</td> <td>TRUE</td> <td>FALSE</td> <td>TRUE</td> <td><a href="https://tools.ietf.org/html/rfc5646" target="_blank" rel="noopener noreferrer">RFC 5646<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>timeZone</td> <td>User's time zone</td> <td>String</td> <td>TRUE</td> <td>FALSE</td> <td>TRUE</td> <td><a href="https://tools.ietf.org/html/rfc6557" target="_blank" rel="noopener noreferrer">IANA Time Zone database format<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr></tbody></table> <h4 id="remember-device-policy-object">Remember Device Policy Object <a href="#remember-device-policy-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>A subset of policy settings of the Sign-On Policy or App Sign-On Policy published during <code>MFA_REQUIRED</code>, <code>MFA_CHALLENGE</code> states</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>allowRememberDevice</td> <td>Indicates whether remember device is allowed based on the policy</td> <td>Boolean</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>rememberDeviceByDefault</td> <td>Indicates whether user previously opted to remember the current device</td> <td>Boolean</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>rememberDeviceLifetimeInMinutes</td> <td>Indicates how long the current verification would be valid (based on the policy)</td> <td>Number</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <h5 id="when-sign-on-policy-is-device-based">When sign-on policy is device based <a href="#when-sign-on-policy-is-device-based" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;allowRememberDevice&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rememberDeviceByDefault&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rememberDeviceLifetimeInMinutes&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="when-sign-on-policy-is-time-based">When sign-on policy is time based <a href="#when-sign-on-policy-is-time-based" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;allowRememberDevice&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rememberDeviceByDefault&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rememberDeviceLifetimeInMinutes&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>rememberDeviceByDefault</code> is true if the user has chosen to remember the current device.</li> <li>The value of <code>rememberDeviceLifetimeInMinutes</code> depends on the factor lifetime value configured in the Sign-On Policy rule</li></ul> <h5 id="when-policy-is-not-based-on-time-or-device">When policy is not based on time or device <a href="#when-policy-is-not-based-on-time-or-device" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;allowRememberDevice&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
   <span class="token property">&quot;rememberDeviceByDefault&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
   <span class="token property">&quot;rememberDeviceLifetimeInMinutes&quot;</span><span class="token operator">:</span><span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="recovery-question-object">Recovery Question Object <a href="#recovery-question-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>User's recovery question used for verification of a recovery transaction</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>question</td> <td>User's recovery question</td> <td>String</td> <td>FALSE</td> <td>TRUE</td> <td>TRUE</td></tr></tbody></table> <h3 id="target-object">Target Object <a href="#target-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <a href="/docs/reference/releases-at-okta/"><!----> <span class="api-label api-label-ea"><i class="fa fa-flag"></i> Early Access </span> <!----></a> <p>Represents the target resource that user tried accessing. Typically this is the app that user is trying to sign-in.
Currently this is available only during <a href="#sp-initiated-step-up-authentication">SP-initiated step-up authentication</a> and <a href="#idp-initiated-step-up-authentication">IDP-initiated step-up authentication</a>.</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>type</td> <td>Type of the target resource. Currently only 'APP' is the supported type.</td> <td>String</td> <td>FALSE</td> <td>TRUE</td> <td>TRUE</td></tr> <tr><td>name</td> <td>Name of the target resource</td> <td>String</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>label</td> <td>Label of the target resource</td> <td>String</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>_links</td> <td>Discoverable resources for the target</td> <td><a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON HAL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>TRUE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <h3 id="authentication-object">Authentication Object <a href="#authentication-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <a href="/docs/reference/releases-at-okta/"><!----> <span class="api-label api-label-ea"><i class="fa fa-flag"></i> Early Access </span> <!----></a> <p>Represents the authentication details that the target resource is using.
Currently this is available only during <a href="#sp-initiated-step-up-authentication">SP-initiated step-up authentication</a> and <a href="#idp-initiated-step-up-authentication">IDP-initiated step-up authentication</a>.</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>protocol</td> <td>The protocol of authentication.</td> <td><code>SAML2.0</code>, <code>SAML1.1</code> or <code>WS-FED</code></td> <td>FALSE</td> <td>TRUE</td> <td>TRUE</td></tr> <tr><td>issuer</td> <td>The issuer of the assertion.</td> <td><a href="#issuer-object">Issuer Object</a></td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SAML2.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;issuer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0oa1zypkDcts6Vliw0g4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Corporate SFDC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;exk2x5ixHmk9MBnqz0g4&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="issuer-object">Issuer Object <a href="#issuer-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>The issuer that generates the assertion after the authentication finishes.</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>id</td> <td>Id of the issuer.</td> <td>String</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td></tr> <tr><td>name</td> <td>Name of the issuer.</td> <td>String</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>uri</td> <td>URI of the issuer.</td> <td>String</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <h3 id="password-policy-object">Password Policy Object <a href="#password-policy-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>A subset of policy settings for the user's assigned password policy published during <code>PASSWORD_WARN</code>, <code>PASSWORD_EXPIRED</code>, or <code>PASSWORD_RESET</code> states</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>expiration</td> <td>Password expiration settings</td> <td><a href="#password-expiration-object">Password Expiration Object</a></td> <td>TRUE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>complexity</td> <td>Password complexity settings</td> <td><a href="#password-complexity-object">Password Complexity Object</a></td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;passwordExpireDays&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;complexity&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;minLength&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token property">&quot;minLowerCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;minUpperCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;minNumber&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;minSymbol&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;excludeUsername&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;age&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
     <span class="token property">&quot;minAgeMinutes&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
     <span class="token property">&quot;historyCount&quot;</span><span class="token operator">:</span><span class="token number">0</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="password-expiration-object">Password Expiration Object <a href="#password-expiration-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Specifies the password age requirements of the assigned password policy</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>passwordExpireDays</td> <td>number of days before password is expired</td> <td>Number</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <h4 id="password-complexity-object">Password Complexity Object <a href="#password-complexity-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Specifies the password complexity requirements of the assigned password policy</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>minLength</td> <td>Minimum number of characters for password</td> <td>Number</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>minLowerCase</td> <td>Minimum number of lower case characters for password</td> <td>Number</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>minUpperCase</td> <td>Minimum number of upper case characters for password</td> <td>Number</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>minNumber</td> <td>Minimum number of numeric characters for password</td> <td>Number</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>minSymbol</td> <td>Minimum number of symbol characters for password</td> <td>Number</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>excludeUsername</td> <td>Prevents username or domain from appearing in the password</td> <td>Boolean</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <blockquote><p>Duplicate the minimum Active Directory requirements in these settings for AD-mastered users. No enforcement is triggered by Okta settings for AD-mastered users.</p></blockquote> <h4 id="password-age-object">Password Age Object <a href="#password-age-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <p>Specifies the password requirements related to password age and history</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>minAgeMinutes</td> <td>Minimum number of minutes required since the last password change</td> <td>Number</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>historyCount</td> <td>Number of previous passwords that the current password can't match</td> <td>Number</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <h3 id="factor-object">Factor Object <a href="#factor-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>A subset of <a href="/docs/reference/api/factors/#factor-model">factor properties</a> published in an authentication transaction during <code>MFA_ENROLL</code>, <code>MFA_REQUIRED</code>, or <code>MFA_CHALLENGE</code> states</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>id</td> <td>unique key for factor</td> <td>String</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td></tr> <tr><td>factorType</td> <td>type of factor</td> <td><a href="/docs/reference/api/factors/#factor-type">Factor Type</a></td> <td>FALSE</td> <td>TRUE</td> <td>TRUE</td></tr> <tr><td>provider</td> <td>factor provider</td> <td><a href="/docs/reference/api/factors/#provider-type">Provider Type</a></td> <td>FALSE</td> <td>TRUE</td> <td>TRUE</td></tr> <tr><td>vendorName</td> <td>factor Vendor Name (Same as provider but for On Prem MFA it depends on Administrator Settings)</td> <td><a href="/docs/reference/api/factors/#provider-type">Provider Type</a></td> <td>FALSE</td> <td>TRUE</td> <td>TRUE</td></tr> <tr><td>profile</td> <td>profile of a <a href="/docs/reference/api/factors/#supported-factors-for-providers">supported factor</a></td> <td><a href="/docs/reference/api/factors/#factor-profile-object">Factor Profile Object</a></td> <td>TRUE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>_embedded</td> <td><a href="#factor-embedded-resources">embedded resources</a> related to the factor</td> <td><a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON HAL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>TRUE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>_links</td> <td><a href="#factor-links-object">discoverable resources</a> for the factor</td> <td><a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON HAL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>TRUE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ostfm3hPNYSOIOIVTQWY&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;factorType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;token:software:totp&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OKTA&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;credentialId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dade.murphy@example.com&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;verify&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/authn/factors/ostfm3hPNYSOIOIVTQWY/verify&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;POST&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="factor-embedded-resources">Factor Embedded Resources <a href="#factor-embedded-resources" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h4> <h5 id="totp-factor-activation-object">TOTP Factor Activation Object <a href="#totp-factor-activation-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>TOTP factors, when activated, have an embedded verification object which describes the <a href="http://tools.ietf.org/html/rfc6238" target="_blank" rel="noopener noreferrer">TOTP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> algorithm parameters.</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>timeStep</td> <td>Time-step size for TOTP</td> <td>String</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>sharedSecret</td> <td>Unique secret key for prover</td> <td>String</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>encoding</td> <td>Encoding of <code>sharedSecret</code></td> <td><code>base32</code> or <code>base64</code></td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>keyLength</td> <td>Number of digits in an TOTP value</td> <td>Number</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>_links</td> <td>Discoverable resources related to the activation</td> <td><a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON HAL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>TRUE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <blockquote><p>This object implements <a href="https://tools.ietf.org/html/rfc6238" target="_blank" rel="noopener noreferrer">the TOTP standard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which is used by apps like Okta Verify and Google Authenticator.</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;timeStep&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sharedSecret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HE64TMLL2IUZW2ZLB&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;encoding&quot;</span><span class="token operator">:</span> <span class="token string">&quot;base32&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyLength&quot;</span><span class="token operator">:</span> <span class="token number">6</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="totp-activation-links-object">TOTP Activation Links Object <a href="#totp-activation-links-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <p>Specifies link relations (See <a href="http://tools.ietf.org/html/rfc5988" target="_blank" rel="noopener noreferrer">Web Linking<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) available for the TOTP activation object using the <a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON Hypertext Application Language<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> specification.  This object is used for dynamic discovery of related resources and operations.</p> <table><thead><tr><th>Link Relation Type</th> <th>Description</th></tr></thead> <tbody><tr><td>qrcode</td> <td>QR code that encodes the TOTP parameters that can be used for enrollment</td></tr></tbody></table> <h5 id="phone-object">Phone Object <a href="#phone-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>The phone object describes previously enrolled phone numbers for the <code>sms</code> factor.</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>id</td> <td>Unique key for phone</td> <td>String</td> <td>FALSE</td> <td>TRUE</td> <td>TRUE</td></tr> <tr><td>profile</td> <td>Profile of phone</td> <td><a href="#phone-profile-object">Phone Profile Object</a></td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>status</td> <td>Status of phone</td> <td><code>ACTIVE</code> or <code>INACTIVE</code></td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mbl198rKSEWOSKRIVIFT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;phoneNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+1 XXX-XXX-1337&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ACTIVE&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="phone-profile-object">Phone Profile Object <a href="#phone-profile-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>phoneNumber</td> <td>Masked phone number</td> <td>String</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <h5 id="push-factor-activation-object">Push Factor Activation Object <a href="#push-factor-activation-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Push factors must complete activation on the device by scanning the QR code or visiting activation link sent via email or sms.</p> <table><thead><tr><th>Property</th> <th>Description</th> <th>DataType</th> <th>Nullable</th> <th>Unique</th> <th>Readonly</th></tr></thead> <tbody><tr><td>expiresAt</td> <td>Lifetime of activation</td> <td>Date</td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr> <tr><td>_links</td> <td>Discoverable resources related to the activation</td> <td><a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON HAL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>FALSE</td> <td>FALSE</td> <td>TRUE</td></tr></tbody></table> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;activation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015-11-13T07:44:22.000Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;send&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00u15s1KDETTQMQYABRL/factors/opfbtzzrjgwauUsxO0g4/lifecycle/activate/email&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00u15s1KDETTQMQYABRL/factors/opfbtzzrjgwauUsxO0g4/lifecycle/activate/sms&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;hints&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;allow&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">&quot;POST&quot;</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;qrcode&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://${yourOktaDomain}/api/v1/users/00u15s1KDETTQMQYABRL/factors/opfbtzzrjgwauUsxO0g4/qr/00Ji8qVBNJD4LmjYy1WZO2VbNqvvPdaCVua-1qjypa&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;image/png&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="push-factor-activation-links-object">Push Factor Activation Links Object <a href="#push-factor-activation-links-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h6> <p>Specifies link relations (See <a href="http://tools.ietf.org/html/rfc5988" target="_blank" rel="noopener noreferrer">Web Linking<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) available for the push factor activation object using the <a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON Hypertext Application Language<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> specification.  This object is used for dynamic discovery of related resources and operations.</p> <table><thead><tr><th>Link Relation Type</th> <th>Description</th></tr></thead> <tbody><tr><td>qrcode</td> <td>QR code that encodes the push activation code needed for enrollment on the device</td></tr> <tr><td>send</td> <td>Sends an activation link via <code>email</code> or <code>sms</code> for users who can't scan the QR code</td></tr></tbody></table> <h5 id="factor-links-object">Factor Links Object <a href="#factor-links-object" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h5> <p>Specifies link relations (See <a href="http://tools.ietf.org/html/rfc5988" target="_blank" rel="noopener noreferrer">Web Linking<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) available for the factor using the <a href="http://tools.ietf.org/html/draft-kelly-json-hal-06" target="_blank" rel="noopener noreferrer">JSON Hypertext Application Language<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> specification.  This object is used for dynamic discovery of related resources and operations.</p> <p>The Factor Links Object is read only.</p> <table><thead><tr><th>Link Relation Type</th> <th>Description</th></tr></thead> <tbody><tr><td>enroll</td> <td><a href="#enroll-factor">Enrolls a factor</a></td></tr> <tr><td>verify</td> <td><a href="#verify-factor">Verifies a factor</a></td></tr> <tr><td>questions</td> <td>Lists all possible questions for the <code>question</code> factor type</td></tr> <tr><td>resend</td> <td>Resends a challenge or OTP to a device</td></tr></tbody></table></div></div> <div class="TableOfContents TableOfContents" style="bottom:0px;top:100px;" data-v-4ef83c5f><div class="TableOfContents-item is-level1" data-v-4ef83c5f>
    Authentication
  </div> <!----> <div data-v-4ef83c5f><div class="TableOfContents-indicator" style="height:30px;transform:translate(0px, 0px);" data-v-4ef83c5f></div> <a href="#application-types" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Application Types
    </a><a href="#public-application" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Public Application
    </a><a href="#trusted-application" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Trusted Application
    </a><a href="#getting-started-with-authentication" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Getting Started with Authentication
    </a><a href="#authentication-operations" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Authentication Operations
    </a><a href="#primary-authentication" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Primary Authentication
    </a><a href="#request-parameters-for-primary-authentication" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Request Parameters for Primary Authentication
    </a><a href="#response-parameters" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Response Parameters
    </a><a href="#primary-authentication-with-public-application" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Primary Authentication with Public Application
    </a><a href="#primary-authentication-with-trusted-application" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Primary Authentication with Trusted Application
    </a><a href="#primary-authentication-with-activation-token" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Primary Authentication with Activation Token
    </a><a href="#primary-authentication-with-device-fingerprinting" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Primary Authentication with Device Fingerprinting
    </a><a href="#primary-authentication-with-password-expiration-warning" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Primary Authentication with Password Expiration Warning
    </a><a href="#sp-initiated-step-up-authentication" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      SP-initiated Step-up Authentication
    </a><a href="#step-up-authentication-without-okta-session" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Step-up Authentication Without Okta Session
    </a><a href="#step-up-authentication-with-okta-session" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Step-up authentication with Okta Session
    </a><a href="#idp-initiated-step-up-authentication" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      IDP-initiated Step-up Authentication
    </a><a href="#change-password" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Change Password
    </a><a href="#request-parameters-for-change-password" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Request Parameters for Change Password
    </a><a href="#response-parameters-for-change-password" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Response Parameters for Change Password
    </a><a href="#multifactor-authentication-operations" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Multifactor Authentication Operations
    </a><a href="#enroll-factor" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Enroll Factor
    </a><a href="#request-parameters-for-enroll-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Request Parameters for Enroll Factor
    </a><a href="#response-parameters-for-enroll-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Response Parameters for Enroll Factor
    </a><a href="#enroll-okta-security-question-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll Okta Security Question Factor
    </a><a href="#enroll-okta-sms-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll Okta SMS Factor
    </a><a href="#enroll-okta-call-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll Okta Call Factor
    </a><a href="#enroll-okta-verify-totp-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll Okta Verify TOTP Factor
    </a><a href="#enroll-okta-verify-push-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll Okta Verify Push Factor
    </a><a href="#enroll-google-authenticator-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll Google Authenticator Factor
    </a><a href="#enroll-rsa-securid-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll RSA SecurID Factor
    </a><a href="#enroll-symantec-vip-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll Symantec VIP Factor
    </a><a href="#enroll-yubikey-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll YubiKey Factor
    </a><a href="#enroll-duo-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll Duo Factor
    </a><a href="#full-page-example-for-duo-enrollment" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Full Page Example for Duo enrollment
    </a><a href="#enroll-u2f-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll U2F Factor
    </a><a href="#enroll-webauthn-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll WebAuthn Factor
    </a><a href="#enroll-custom-hotp-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Enroll Custom HOTP Factor
    </a><a href="#activate-factor" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Activate Factor
    </a><a href="#activate-totp-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Activate TOTP Factor
    </a><a href="#activate-sms-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Activate SMS Factor
    </a><a href="#activate-call-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Activate Call Factor
    </a><a href="#activate-push-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Activate Push Factor
    </a><a href="#activate-u2f-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Activate U2F Factor
    </a><a href="#activate-webauthn-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Activate WebAuthn Factor
    </a><a href="#verify-factor" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Verify Factor
    </a><a href="#verify-security-question-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Verify Security Question Factor
    </a><a href="#verify-sms-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Verify SMS Factor
    </a><a href="#verify-call-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Verify Call Factor
    </a><a href="#verify-totp-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Verify TOTP Factor
    </a><a href="#verify-push-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Verify Push Factor
    </a><a href="#verify-duo-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Verify Duo Factor
    </a><a href="#verify-u2f-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Verify U2F Factor
    </a><a href="#verify-webauthn-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Verify WebAuthn Factor
    </a><a href="#recovery-operations" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Recovery Operations
    </a><a href="#forgot-password" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Forgot Password
    </a><a href="#forgot-password-with-email-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Forgot Password with Email Factor
    </a><a href="#forgot-password-with-sms-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Forgot Password with SMS Factor
    </a><a href="#forgot-password-with-call-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Forgot Password with Call Factor
    </a><a href="#forgot-password-with-trusted-application" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Forgot Password with Trusted Application
    </a><a href="#unlock-account" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Unlock Account
    </a><a href="#unlock-account-with-email-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Unlock Account with Email Factor
    </a><a href="#unlock-account-with-sms-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Unlock Account with SMS Factor
    </a><a href="#unlock-account-with-trusted-application" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Unlock Account with Trusted Application
    </a><a href="#verify-recovery-factor" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Verify Recovery Factor
    </a><a href="#verify-sms-recovery-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Verify SMS Recovery Factor
    </a><a href="#request-parameters-for-resend-sms-recovery-challenge" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Request Parameters for Resend SMS Recovery Challenge
    </a><a href="#response-parameters-for-resend-sms-recovery-challenge" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Response Parameters for Resend SMS Recovery Challenge
    </a><a href="#request-example-for-resend-sms-recovery-challenge" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Request Example for Resend SMS Recovery Challenge
    </a><a href="#response-example-for-resend-sms-recovery-challenge" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Response Example for Resend SMS Recovery Challenge
    </a><a href="#verify-call-recovery-factor" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Verify Call Recovery Factor
    </a><a href="#request-parameters-for-resend-call-recovery-challenge" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Request Parameters for Resend Call Recovery Challenge
    </a><a href="#response-parameters-for-resend-call-recovery-challenge" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Response Parameters for Resend Call Recovery Challenge
    </a><a href="#request-example-for-resend-call-recovery-challenge" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Request Example for Resend Call Recovery Challenge
    </a><a href="#response-example-for-resend-call-recovery-challenge" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Response Example for Resend Call Recovery Challenge
    </a><a href="#verify-recovery-token" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Verify Recovery Token
    </a><a href="#answer-recovery-question" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Answer Recovery Question
    </a><a href="#reset-password" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Reset Password
    </a><a href="#state-management-operations" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      State Management Operations
    </a><a href="#get-transaction-state" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Get Transaction State
    </a><a href="#previous-transaction-state" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Previous Transaction State
    </a><a href="#skip-transaction-state" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Skip Transaction State
    </a><a href="#cancel-transaction" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Cancel Transaction
    </a><a href="#transaction-model" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Transaction Model
    </a><a href="#authentication-transaction-model" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Authentication Transaction Model
    </a><a href="#recovery-transaction-model" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Recovery Transaction Model
    </a><a href="#transaction-state" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Transaction State
    </a><a href="#authentication-type" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Authentication Type
    </a><a href="#tokens" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Tokens
    </a><a href="#state-token" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      State Token
    </a><a href="#recovery-token" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Recovery Token
    </a><a href="#session-token" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Session Token
    </a><a href="#factor-result" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Factor Result
    </a><a href="#links-object" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Links Object
    </a><a href="#embedded-resources" class="TableOfContents-item sidebar-link is-level2" style="display:undefined;" data-v-4ef83c5f>
      Embedded Resources
    </a><a href="#user-object" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      User Object
    </a><a href="#user-profile-object" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      User Profile Object
    </a><a href="#remember-device-policy-object" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Remember Device Policy Object
    </a><a href="#recovery-question-object" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Recovery Question Object
    </a><a href="#target-object" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Target Object
    </a><a href="#authentication-object" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Authentication Object
    </a><a href="#issuer-object" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Issuer Object
    </a><a href="#password-policy-object" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Password Policy Object
    </a><a href="#password-expiration-object" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Password Expiration Object
    </a><a href="#password-complexity-object" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Password Complexity Object
    </a><a href="#password-age-object" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Password Age Object
    </a><a href="#factor-object" class="TableOfContents-item sidebar-link is-level3" style="display:undefined;" data-v-4ef83c5f>
      Factor Object
    </a><a href="#factor-embedded-resources" class="TableOfContents-item sidebar-link is-level4" style="display:undefined;" data-v-4ef83c5f>
      Factor Embedded Resources
    </a> <div class="TableOfContents-footer" data-v-4ef83c5f><a href="#" data-v-4ef83c5f>Top of Page</a></div></div></div></section> <footer class="Footer"><div class="Wrap"><div class="Row"><div class="Column--3 Column--medium-6 Column--xSmall-12"><a href="https://www.okta.com/" target="_blank" rel="noopener noreferrer"><div class="Logo"><img src="https://developer.okta.com/sites/all/themes/developer/images/logo-footer.png" alt="Okta"></div> <p>Visit okta.com</p></a></div> <div class="Column--3 Column--medium-12 Column--xSmall-12"><h4>Social</h4> <ul class="Footer-links"><li class="first"><a href="http://github.com/oktadeveloper" target="_blank" class="Footer-links--github">GitHub</a> <!----></li><li><a href="http://twitter.com/OktaDev" target="_blank" class="Footer-links--twitter">Twitter</a> <!----></li><li><a href="https://devforum.okta.com/" target="_blank" class="Footer-links--forum">Forum</a> <!----></li><li><a href="http://feeds.feedburner.com/OktaBlog" target="_blank" class="Footer-links--rss">RSS Blog</a> <!----></li><li><a href="https://www.youtube.com/channel/UC5AMiWqFVFxF1q9Ya1FuZ_Q/featured" target="_blank" class="Footer-links--youtube">YouTube</a> <!----></li></ul></div><div class="Column--3 Column--medium-12 Column--xSmall-12"><h4>More Info</h4> <ul class="Footer-links"><li class="first"><a href="https://developer.okta.com/integrate-with-okta/">Integrate With Okta</a> <!----></li><li><a href="https://developer.okta.com/blog/">Blog</a> <!----></li><li><a href="https://developer.okta.com/docs/release-notes/">Release Notes</a> <!----></li><li><a href="https://developer.okta.com/3rd_party_notices/">3rd Party Notices</a> <!----></li><li><a href="https://toolkit.okta.com/">Community Toolkit</a> <!----></li></ul></div><div class="Column--3 Column--medium-12 Column--xSmall-12"><h4>Contact & Legal</h4> <ul class="Footer-links"><li class="first"><a href="https://developer.okta.com/contact/">Contact Our Team</a> <!----></li><li><a href="https://developer.okta.com/contact-sales-enterprise/">Contact Sales</a> <!----></li><li><a href="mailto:developers@okta.com">Contact Support</a> <!----></li><li><a href="https://developer.okta.com/terms/">Terms &amp; Conditions</a> <!----></li><li><a href="https://developer.okta.com/privacy/">Privacy Policy</a> <!----></li></ul></div></div></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1df7935f.js" defer></script><script src="/assets/js/11.71506886.js" defer></script><script src="/assets/js/2.8712a879.js" defer></script><script src="/assets/js/4.57ec015f.js" defer></script><script src="/assets/js/10.75e07b2c.js" defer></script><script src="/assets/js/34.6da36575.js" defer></script><script src="/assets/js/1175.9dca2ef2.js" defer></script><script src="/assets/js/37.e0b90512.js" defer></script><script src="/assets/js/36.17e5c6ae.js" defer></script><script src="/assets/js/43.dd7a44df.js" defer></script><script src="/assets/js/5.93479991.js" defer></script><script src="/assets/js/1.952b7ece.js" defer></script><script src="/assets/js/31.3153d314.js" defer></script>
  </body>
</html>
