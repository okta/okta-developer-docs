<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SimpleSAMPphp | Okta Developer</title>
    <meta name="description" content="Secure, scalable, and highly available authentication and user management for any app.">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.2.5/polyfill.min.js"></script>
  <script src="https://static.cloud.coveo.com/searchui/v2.7219/js/CoveoJsSearch.Lazy.min.js" defer="true"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/manifest.json">
  <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg">
  <meta name="msapplication-config" content="/favicon/browserconfig.xml">
  <link rel="stylesheet" href="https://developer.okta.com/sites/all/themes/developer/css/master.css">
  <link rel="stylesheet" href="https://coveo-oktaweb.pantheonsite.io/sites/all/modules/okta_coveo_search_developer/css/okta_coveo_search_developer.css?q49ktf">
  <meta http-equiv="XA-UA-Compatible" content="IE=edge">
  <script>
      // TypeKit
        (function(d) {
          var config = {
            kitId: 'jff5neq',
            scriptTimeout: 3000,
            async: true
          },
          h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/bwf-loadingb/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
        })(document);

      var isProduction = window.location.hostname === 'developer.okta.com';
      if (isProduction) {

        // START Google Tag Manager
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-KXMLV58');
        // END Google Tag Manager

      }
    </script>
    
    <link rel="preload" href="/assets/css/0.styles.15a2bd63.css" as="style"><link rel="preload" href="/assets/js/app.1df7935f.js" as="script"><link rel="preload" href="/assets/js/11.71506886.js" as="script"><link rel="preload" href="/assets/js/2.8712a879.js" as="script"><link rel="preload" href="/assets/js/4.57ec015f.js" as="script"><link rel="preload" href="/assets/js/10.75e07b2c.js" as="script"><link rel="preload" href="/assets/js/18.8e6368cd.js" as="script"><link rel="preload" href="/assets/js/16.d681cd2b.js" as="script"><link rel="preload" href="/assets/js/643.ff4b13d2.js" as="script"><link rel="preload" href="/assets/js/1.952b7ece.js" as="script"><link rel="preload" href="/assets/js/31.3153d314.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.15a2bd63.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="Page Page--docs-page"><div><header class="Header is-fixed"><div class="Wrap"><a href="https://developer.okta.com" class="Logo"><svg version="1.1" id="OktaLogo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 431.9 151.4" style="enable-background:new 0 0 431.9 151.4;" xml:space="preserve"><g><g><g><path d="M102.2,41.4c-21,0-38.1,17.1-38.1,38.1s17.1,38.1,38.1,38.1s38.1-17.1,38.1-38.1l0,0C140.3,58.5,123.2,41.4,102.2,41.4z M102.2,98.5c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19c0.1,10.5-8.4,19-18.9,19.1C102.3,98.6,102.2,98.6,102.2,98.5L102.2,98.5z"/><path d="M169.1,92.3c0-1.9,1.5-3.4,3.4-3.4c0.9,0,1.8,0.4,2.4,1c9.5,9.7,25.3,26.3,25.4,26.4c0.4,0.5,0.8,0.8,1.4,0.9l1.6,0.2h17.2c1.8,0,3.3-1.4,3.4-3.2c0-0.8-0.3-1.5-0.8-2.2l-28.6-29.2l-1.5-1.5c-3.2-3.9-2.9-5.4,0.8-9.3l22.6-25.1c1.1-1.4,0.8-3.5-0.6-4.6c-0.6-0.4-1.3-0.7-2-0.7h-17c-0.6,0.2-1.1,0.5-1.5,0.9L175,64.4c-1.3,1.4-3.4,1.5-4.8,0.2c-0.7-0.6-1.1-1.5-1.1-2.5V18.9c0-1.7-1.3-3-3-3c-0.1,0-0.2,0-0.3,0h-12.7c-2.2,0-3.3,1.5-3.3,2.8v95.8c0,2.2,1.8,2.8,3.3,2.8h12.7c1.7,0.1,3.2-1.2,3.3-2.9c0,0,0,0,0,0V92.3z"/><path d="M273,114l-1.4-12.8c-0.2-1.7-1.7-2.9-3.4-2.7c0,0,0,0-0.1,0l-2.9,0.2c-10.1,0-18.5-7.9-19-18c0-0.3,0-0.7,0-1V64.2c-0.1-2,1.5-3.6,3.5-3.7c0,0,0,0,0,0h17c1.7-0.1,3.1-1.5,3-3.2c0,0,0-0.1,0-0.1v-12c0-2.3-1.5-3.6-2.8-3.6h-17.1c-1.9,0.1-3.5-1.5-3.6-3.4c0,0,0,0,0,0V18.9c-0.1-1.7-1.5-3.1-3.2-3c0,0-0.1,0-0.1,0h-12.7c-1.6-0.1-3,1.1-3.1,2.7c0,0.1,0,0.1,0,0.2c0,0,0,61.7,0,62c0.5,21,17.9,37.6,38.9,37c1.4,0,2.9-0.2,4.3-0.3C272,117.2,273.2,115.7,273,114z"/></g><path d="M364.7,98c-10.8,0-12.4-3.8-12.4-18.3l0,0V44.8c0-1.8-1.4-3.2-3.2-3.2c0,0-0.1,0-0.1,0h-12.8c-1.8,0-3.2,1.4-3.3,3.2v1.6C314.6,36,291.3,42.5,281,60.8c-10.4,18.3-3.9,41.6,14.4,51.9c14,7.9,31.4,6.2,43.5-4.2c3.6,5.5,9.3,9.1,18.3,9.1c1.5,0,9.7,0.3,9.7-3.5v-13.6C367,99.2,366,98.1,364.7,98z M314.2,98.6c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19l0,0C333.2,90.1,324.7,98.6,314.2,98.6z"/></g><path d="M19.4,74c2.2-1.9,4.1-4.1,5.7-6.6c3.5-5.3,5.4-11.5,5.2-17.9V27c0-4.9,0.9-8.4,2.7-10.5c1.8-2.1,4.8-3,9.2-3h12.6c1.2,0,2.1-0.9,2.2-2.1l0,0V2.2C57,1,56,0,54.8,0c0,0,0,0,0,0H41.5c-7.8,0-12.9,2.1-18,7.6s-7.1,12.3-7.1,21.7v14.2c0,2.2-0.1,4-0.2,5.7v2.2c-0.5,3.2-1.8,6.2-3.6,8.9C9.4,64.7,5.1,70.9,0.9,74l0,0l-0.3,0.3l0,0l-0.2,0.3H0.2v0.3l0,0c-0.1,0.3-0.1,0.7,0,1l0,0v0.3h0.1l0.2,0.3l0,0l0.3,0.3l0,0c4.2,3.1,8.5,9.3,11.3,13.7c1.8,2.7,3.1,5.7,3.6,8.9v2.2c0.1,1.6,0.2,3.5,0.2,5.7v14.3c0,9.4,2.4,16.7,7.1,21.7s10.2,7.6,18,7.6h13.8c1.2,0,2.2-1,2.2-2.2V140l0,0c0-1.2-1-2.2-2.2-2.2H42.2c-4.4,0-7.5-1-9.2-3s-2.7-5.6-2.7-10.5v-22.4c0.2-6.4-1.7-12.6-5.2-17.9c-1.6-2.5-3.5-4.7-5.7-6.6l0,0c-0.9-0.7-1.1-2-0.4-2.9C19.2,74.3,19.3,74.2,19.4,74L19.4,74z"/><path d="M412.5,74c-2.2-1.9-4.1-4.1-5.7-6.6c-3.5-5.3-5.4-11.5-5.2-17.9V27c0-4.9-0.9-8.4-2.7-10.5s-4.8-3-9.2-3h-12.6c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0l0,0V2.2c0-1.2,1-2.2,2.2-2.2c0,0,0,0,0,0h13.4c7.8,0,12.9,2.1,18,7.6s7.1,12.3,7.1,21.7v14.2c0,2.2,0.1,4,0.2,5.7v2.2c0.5,3.2,1.8,6.2,3.6,8.9c2.8,4.5,7.1,10.7,11.3,13.7l0,0l0.3,0.3l0,0l0.2,0.3h0.1v0.3l0,0c0.1,0.3,0.1,0.7,0,1l0,0v0.3h-0.1l-0.2,0.3l0,0l-0.3,0.3l0,0c-4.2,3.1-8.5,9.3-11.3,13.7c-1.8,2.7-3.1,5.7-3.6,8.9v2.2c-0.1,1.6-0.2,3.5-0.2,5.7v14.3c0,9.4-2.4,16.7-7.1,21.7s-10.2,7.6-18,7.6h-13.4c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0V140l0,0c0-1.2,1-2.2,2.2-2.2l0,0h12.7c4.4,0,7.5-1,9.2-3s2.7-5.6,2.7-10.5v-22.4c-0.2-6.3,1.6-12.6,5.1-17.9c1.6-2.5,3.5-4.7,5.7-6.6l0,0c0.9-0.7,1.1-2,0.4-2.9C412.7,74.3,412.6,74.2,412.5,74L412.5,74z"/></g></svg></a> <nav class="Header-nav PrimaryNav"><ul class="menu"><li class="first expanded"><a href="/product/">Product</a> <ul class="menu"><li class="first"><a href="/product/">Overview</a> <!----></li><li><a href="/product/authentication/">Authentication</a> <!----></li><li><a href="/product/authorization/">Authorization</a> <!----></li><li><a href="/product/user-management/">User Management</a> <!----></li></ul></li><li><a href="/pricing/">Pricing</a> <!----></li><li><a href="/blog/">Blog</a> <!----></li><li class="expanded active"><a href="/docs/">Docs</a> <ul class="menu"><li class="first"><a href="/docs/">Get Started</a> <!----></li><li><a href="/docs/concepts/">Concepts</a> <!----></li><li><a href="/docs/guides/">Guides</a> <!----></li><li><a href="/docs/reference/">Reference</a> <!----></li></ul></li><li class="expanded"><a href="">Support</a> <ul class="menu"><li class="first"><a href="https://devforum.okta.com/">Okta Developer Forums</a> <!----></li><li><a href="mailto:developers@okta.com">developers@okta.com</a> <!----></li></ul></li></ul> <a href="#" class="PrimaryNav-toggle"><svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" class="MenuIcon"><path d="M1,16 L19,16" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line1"></path> <path d="M1,4 L19,4" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line2"></path> <path d="M1,10 L19,10" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line3"></path> <path d="M1,10 L19,10" stroke="#FFFFFF" stroke-width="2" class="MenuIcon-line4"></path></g></svg> <svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="CloseIcon"><g id="ALl-Boards" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Desktop" transform="translate(-915.000000, -235.000000)" fill="#FFFFFF"><g id="Search-bar-Active" transform="translate(30.000000, 26.000000)"><polygon id="Icon/Cross" points="901 210.6 899.4 209 893 215.4 886.6 209 885 210.6 891.4 217 885 223.4 886.6 225 893 218.6 899.4 225 901 223.4 894.6 217"></polygon></g></g></g></svg></a> <div class="PrimaryNav-cta"><a target="_blank" rel="noopener noreferrer" href="https://login.okta.com/" class="Button--redOutline">Login</a> <a href="https://developer.okta.com/signup/" class="Button--red">Sign up</a></div> <a data-search-toggle class="SearchIcon"></a></nav></div></header> <div data-search-bar class="SearchBar"><div class="Wrap"><div data-pipeline="developer-okta-com" class="SearchBox" style="display: flex;"><div class="CoveoOmnibox"></div> <div class="CoveoSearchButton">Search</div> <div class="CoveoAnalytics"></div></div></div></div></div> <!----> <section class="PageContent DynamicSidebar" data-v-30b2e2cc><div class="Sidebar" data-v-705933f8 data-v-30b2e2cc><aside data-v-705933f8><h2 class="Sidebar-location Sidebar-toggle h6" data-v-705933f8>Navigation</h2> <div class="Sidebar-close Sidebar-toggle" data-v-705933f8></div> <div data-v-705933f8><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Overview</h3> <ul class="Sidebar-nav" data-v-705933f8></ul></div><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Mobile</h3> <ul class="Sidebar-nav" data-v-705933f8><li data-v-705933f8><a href="/code/android/" data-v-705933f8>Android</a> <!----></li><li data-v-705933f8><a href="/code/ios/" data-v-705933f8>iOS</a> <!----></li><li data-v-705933f8><a href="/code/react-native/" data-v-705933f8>React Native</a> <!----></li></ul></div><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Front End</h3> <ul class="Sidebar-nav" data-v-705933f8><li data-v-705933f8><a href="/code/angular/" data-v-705933f8>Angular</a> <!----></li><li data-v-705933f8><a href="/code/javascript/" data-v-705933f8>Javascript</a> <!----></li><li data-v-705933f8><a href="/code/react/" data-v-705933f8>React</a> <!----></li><li data-v-705933f8><a href="/code/vue/" data-v-705933f8>Vue</a> <!----></li></ul></div><div class="Sidebar-group" data-v-705933f8><h3 class="Sidebar-title" data-v-705933f8>Back End</h3> <ul class="Sidebar-nav" data-v-705933f8><li data-v-705933f8><a href="/code/dotnet/aspnetcore/" data-v-705933f8>.Net</a> <!----></li><li data-v-705933f8><a href="/code/go/" data-v-705933f8>Go</a> <!----></li><li data-v-705933f8><a href="/code/java/" data-v-705933f8>Java</a> <!----></li><li data-v-705933f8><a href="/code/nodejs/" data-v-705933f8>Node.js</a> <!----></li><li class="is-active" data-v-705933f8><a href="/code/php/" data-v-705933f8>PHP</a> <!----></li><li data-v-705933f8><a href="/code/python/" data-v-705933f8>Python</a> <!----></li><li data-v-705933f8><a href="/code/rest/" data-v-705933f8>REST</a> <!----></li></ul></div></div></aside></div> <div class="PageContent-main language-content NoPaddingTop" data-v-30b2e2cc><a id="edit-link" href="https://github.com/okta/okta-developer-docs/edit/master/packages/@okta/vuepress-site/code/php/simplesamlphp//index.md" target="_blank" rel="noopener noreferrer" data-proofer-ignore="" data-v-30b2e2cc>Edit Page</a> <nav aria-label="breadcrumb" class="breadcrumb-nav" data-v-30b2e2cc><ol class="breadcrumb Wrap" style="width:80%;"><li class="breadcrumb-item"><a href="/docs/">DOCS</a></li></ol></nav> <div class="content__default" data-v-30b2e2cc><h1><i class="icon-48 docsPage code-php"></i> Overview</h1> <p>This guide describes how to use
<a href="https://simplesamlphp.org/" target="_blank" rel="noopener noreferrer">SimpleSAMLphp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
to add support for Okta (via SAML) to applications written in
PHP.
Please note that while the example application in this guide uses plain PHP,
the concepts presented here are general enough to use in other
PHP frameworks.</p> <p>In this guide, you will install and configure an example
application which demonstrates how to use SimpleSAMLphp in a simple
PHP application.
After you have Okta working with the example application,
you will need to adapt the example code to your production environment.</p> <p>It is assumed that you are familiar with the basics of
PHP software development as well as using the
command line and editing text files.</p> <p>If you're already familiar with Okta, you can skip to the
section titled &quot;Configuring SimpleSAMLphp to work with Okta.&quot;</p> <h2 id="configuring-okta-to-work-with-simplesamlphp">Configuring Okta to work with SimpleSAMLphp <a href="#configuring-okta-to-work-with-simplesamlphp" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>Before you can configure the example application and SimpleSAMLphp
you need to set up an Okta chiclet (application icon) that an Okta user selects to sign in to your to your
application using SAML via SimpleSAMLphp.</p> <p>To set up Okta to connect to your application, follow the guide to
<a href="/docs/guides/saml-application-setup/">setting up a SAML application in Okta</a>.
As you follow the instructions, there are two steps where you will do things differently:</p> <ul><li><p><em>In step #6</em>: Use <em><strong>SimpleSAMLphp Example</strong></em> instead &quot;Example SAML application&quot;</p></li> <li><p><em>In step #7</em>: Instead of entering the URL: <code>http://example.com/saml/sso/example-okta-com</code></p> <p>Use the following URLs:</p> <ul><li><p>In the &quot;Single sign on URL&quot; field, use:</p> <p><code>http://localhost/simplesamlphp/www/module.php/saml/sp/saml2-acs.php/example-okta-com</code></p></li> <li><p>In the &quot;Audience URI (SP Entity ID)&quot; field, use instead:</p> <p><code>http://localhost/simplesamlphp/www/module.php/saml/sp/metadata.php/example-okta-com</code></p></li> <li><p>For the &quot;Relay State&quot; field, use:</p> <p><code>http://localhost/okta-simplesamlphp-example/?saml_sso=example-okta-com</code></p></li></ul></li></ul> <h2 id="configuring-simplesamlphp-to-work-with-okta">Configuring SimpleSAMLphp to work with Okta <a href="#configuring-simplesamlphp-to-work-with-okta" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>Now that you have configured the &quot;chiclet&quot; for &quot;SimpleSAMLphp Example&quot; in
your Okta organization, you are ready to configure SimpleSAMLphp
to work with your Okta organization. In this
section we will use the &quot;Identity Provider metadata&quot; link from the
section above to configure SimpleSAMLphp. After completing
the following steps, you will have a working example of connecting
Okta to a sample PHP application using SimpleSAMLphp.</p> <p>Start by following the <a href="https://simplesamlphp.org/docs/stable/simplesamlphp-install" target="_blank" rel="noopener noreferrer">instructions for installing
SimpleSAMLphp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <blockquote><p>Note: SimpleSAMLphp is third-party software and is not supported by Okta.</p></blockquote> <p>Depending on the system you are installing SimpleSAMLphp on, your
installation might require you to make some custom configuration changes.
In particular, this guide assumes that you have PHP running on your local
machine (&quot;localhost&quot;) and that you have installed SimpleSAMLphp in a
directory named <code>simplesamlphp</code> in the location specified by the
<code>DocumentRoot</code> directive in your Apache configuration.  If you are
developing remotely, or have installed SimpleSAMLphp in a different
location, you will need to use different configuration URLs that take
that into account.</p> <h3 id="notes-for-installing-simplesamlphp-on-mac-os-x">Notes for installing SimpleSAMLphp on Mac OS X <a href="#notes-for-installing-simplesamlphp-on-mac-os-x" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h3> <p>Getting SimpleSAMLphp working with the example application on Mac OS X
takes some additional work, namely: installing the mcrypt library for
PHP, reconfiguring Apache, and creating some symbolic links.</p> <p><em>Installing SimpleSAMLphp and the example application:</em></p> <ol><li><p>Install SimpleSAMLphp to the <code>~/simplesamlphp</code> directory.</p> <p>When you follow the directions for installing SimpleSAMLphp,
install it to a directory named <code>simplesamlphp</code> in your home directory.</p> <div class="language- extra-class"><pre class="language-text"><code>$ cd ~
$ mkdir simplesamlphp
$ cd simplesamlphp
$ git clone git@github.com:simplesamlphp/simplesamlphp.git
$ git clone git@github.com:jpf/okta-simplesamlphp-example.git
</code></pre></div></li> <li><p>Install php56 and php56-mcrypt with <a href="http://brew.sh/" target="_blank" rel="noopener noreferrer">homebrew<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="language- extra-class"><pre class="language-text"><code>$ brew install php56
$ brew install php56-mcrypt
</code></pre></div></li> <li><p>Edit <code>httpd.conf</code> to use the new version of PHP that you installed with homebrew.</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo $EDITOR /etc/apache2/httpd.conf
</code></pre></div><p>Find this line:</p> <div class="language- extra-class"><pre class="language-text"><code>LoadModule php5_module libexec/apache2/libphp5.so
</code></pre></div><p>and change it to this:</p> <div class="language- extra-class"><pre class="language-text"><code>LoadModule php5_module /usr/local/Cellar/php56/5.6.7/libexec/apache2/libphp5.so
</code></pre></div></li> <li><p>Find the <code>DocumentRoot</code> for your setup of Apache.</p> <div class="language- extra-class"><pre class="language-text"><code>$ grep ^DocumentRoot /etc/apache2/httpd.conf
</code></pre></div></li> <li><p><code>cd</code> to the <code>DocumentRoot</code> directory.</p> <p>Assuming that the command above returned <code>DocumentRoot &quot;/Library/WebServer/Documents&quot;</code>,
then <code>cd</code> to that directory</p> <div class="language- extra-class"><pre class="language-text"><code>$ cd /Library/WebServer/Documents
</code></pre></div></li> <li><p>Add symbolic links from <code>DocumentRoot</code> to your <code>simplesamlphp</code> and <code>okta-simplesamlphp-example</code> directories.</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo ln -s ~/simplesamlphp/simplesamlphp .
$ sudo ln -s ~/simplesamlphp/okta-simplesamlphp-example .
</code></pre></div></li></ol> <p><em>Configuring SimpleSAMLphp:</em></p> <ol><li><p><code>cd</code> to the directory you set up earlier.</p> <div class="language- extra-class"><pre class="language-text"><code>$ cd ~/simplesamlphp
</code></pre></div></li> <li><p>Copy the modified SimpleSAMLphp configuration files from the example application
to the nested <code>simplesamlphp</code> directory.</p> <div class="language- extra-class"><pre class="language-text"><code>$ cp okta-simplesamlphp-example/saml-autoconfig.php simplesamlphp/
$ mkdir simplesamlphp/config
$ cp simplesamlphp/config-templates/config.php simplesamlphp/config/
$ cp okta-simplesamlphp-example/authsources.php simplesamlphp/config/
$ mkdir simplesamlphp/metadata
$ cp okta-simplesamlphp-example/saml20-idp-remote.php simplesamlphp/metadata/
</code></pre></div></li> <li><p>Install the PHP dependencies for SimpleSAMLphp using <a href="https://getcomposer.org/" target="_blank" rel="noopener noreferrer">Composer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language- extra-class"><pre class="language-text"><code>$ brew install homebrew/php/composer
$ cd ~/simplesamlphp/simplesamlphp
$ composer install
</code></pre></div></li> <li><p>Open the <code>config.php</code> configuration file for SimpleSAMLphp in your favorite text editor.</p> <p>Run this command:</p> <div class="language- extra-class"><pre class="language-text"><code>$ $EDITOR config/config.php
</code></pre></div><p>Then, from inside of your text editor, do the folowing:</p> <ul><li><p>Search for <code>baseurlpath</code> and change the value to <code>'/simplesamlphp/www/'</code></p></li> <li><p>Search for <code>auth.adminpassword</code> and change the value to a secure password.</p></li> <li><p>Search for <code>secretsalt</code> and change the value to something random.</p> <p>There is an example command in for generating a &quot;secret salt&quot; in the
<code>config.php</code> file. If that doesn't work for you, try the one below:</p> <div class="language- extra-class"><pre class="language-text"><code>$ dd if=/dev/urandom bs=1 count=48 2&gt; /dev/null | openssl base64
</code></pre></div></li></ul></li> <li><p>Open the the <code>saml-autoconfig.php</code> file for SimpleSAMLphp in your favorite text editor.</p> <p>Run this command:</p> <div class="language- extra-class"><pre class="language-text"><code>$ $EDITOR saml-autoconfig.php
</code></pre></div><p>Then, using your text editor, modify the contents of the <code>metadata_url_for</code> array as shown below:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$metadata_url_for</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
    <span class="token single-quoted-string string">'example-okta-com'</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'{metadata-url}'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Be sure to replace the contents of <code>{metdata-url}</code> with the link
that you copied in step #10 of the
&quot;<a href="/docs/guides/saml-application-setup/">Setting up a SAML application in Okta</a>&quot;
instructions that you followed above!</p> <blockquote><p><strong>Note:</strong> The contents of <code>{metadata-url}</code> should look similar to this:
<code>https://${yourOktaDomain}/app/a0b1c2deFGHIJKLMNOPQ/sso/saml/metadata</code></p></blockquote></li></ol> <h2 id="test-the-saml-integration">Test the SAML integration <a href="#test-the-saml-integration" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>Now that you have set up a &quot;chiclet&quot; in your Okta organization and have
configured SimpleSAMLphp to work with your Okta organization, it is ready to test.</p> <p>There are two ways to test a SAML application:</p> <ol><li>Starting from the example PHP application (&quot;SP initiated&quot;).</li> <li>Starting from Okta (&quot;IdP initiated&quot;).</li></ol> <p>You will use both methods to test your application. In each case, you will know if the
test worked when you see a screen that looks like the one below:</p> <p><img src="/img/example-application-authenticated-user.png" alt="Authenticated user" title="Authenticated user"></p> <ol><li><p>Login from the Okta SimpleSAMLphp example application (This is
known as an <strong>SP-initiated login</strong>.)</p> <ul><li><p>Open the example application in your browser:</p> <p><code>http://localhost/okta-simplesamlphp-example/</code></p></li> <li><p>Click on the 'example-okta-com' link.</p></li></ul></li> <li><p>Login from Okta (This is known as an <strong>IdP-initiated&quot; login</strong>.)</p> <ul><li><p>Sign in to your Okta organization.</p></li> <li><p>Click the button for the application you created earlier
&quot;Configuring Okta to work with SimpleSAMLphp&quot; section
above:<img src="/img/simplesamlphp-example-okta-chiclet.png" alt="SimpleSAMLphp Example" title="SimpleSAMLphp Example"></p></li></ul></li></ol> <p>You will know that your testing was successful if are able to get to the &quot;Logged in&quot;
page pictured above using both &quot;SP initated&quot; and &quot;IdP initated&quot; login.</p> <p>Congratulations on getting Okta working with SimpleSAMLphp!</p> <h2 id="next-steps">Next Steps <a href="#next-steps" aria-hidden="true" class="header-anchor header-link"><i class="fa fa-link"></i></a></h2> <p>At this point, you should be familiar with setting up a SAML enabled application
to work with an Okta organization and how to configure SimpleSAMLphp to work with Okta.</p> <p>After you have your Okta organization working with the example
PHP application, your next step will be to take the
example code and move it to your production application. The specifics of how
this works will be different depending on how your application is set up.
Pay special attention to the notes in the <code>index.php</code> file.
For example, on a production system, the contents of the <code>metadata_url_for</code>
array should not be hard coded, but should come from a dynamic datastore.</p> <p>If you want to learn more about SAML and what to consider when writing a
SAML implementation, Okta's in-depth
<a href="https://www.okta.com/integrate/documentation/saml/" target="_blank" rel="noopener noreferrer">SAML guidance<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
is a great place to learn more.</p> <p>Finally, if you got this far in this guide and still have questions,
please reach out to us at: <a href="mailto:developers@okta.com">developers@okta.com</a></p></div></div> <!----></section> <footer class="Footer"><div class="Wrap"><div class="Row"><div class="Column--3 Column--medium-6 Column--xSmall-12"><a href="https://www.okta.com/" target="_blank" rel="noopener noreferrer"><div class="Logo"><img src="https://developer.okta.com/sites/all/themes/developer/images/logo-footer.png" alt="Okta"></div> <p>Visit okta.com</p></a></div> <div class="Column--3 Column--medium-12 Column--xSmall-12"><h4>Social</h4> <ul class="Footer-links"><li class="first"><a href="http://github.com/oktadeveloper" target="_blank" class="Footer-links--github">GitHub</a> <!----></li><li><a href="http://twitter.com/OktaDev" target="_blank" class="Footer-links--twitter">Twitter</a> <!----></li><li><a href="https://devforum.okta.com/" target="_blank" class="Footer-links--forum">Forum</a> <!----></li><li><a href="http://feeds.feedburner.com/OktaBlog" target="_blank" class="Footer-links--rss">RSS Blog</a> <!----></li><li><a href="https://www.youtube.com/channel/UC5AMiWqFVFxF1q9Ya1FuZ_Q/featured" target="_blank" class="Footer-links--youtube">YouTube</a> <!----></li></ul></div><div class="Column--3 Column--medium-12 Column--xSmall-12"><h4>More Info</h4> <ul class="Footer-links"><li class="first"><a href="https://developer.okta.com/integrate-with-okta/">Integrate With Okta</a> <!----></li><li><a href="https://developer.okta.com/blog/">Blog</a> <!----></li><li><a href="https://developer.okta.com/docs/release-notes/">Release Notes</a> <!----></li><li><a href="https://developer.okta.com/3rd_party_notices/">3rd Party Notices</a> <!----></li><li><a href="https://toolkit.okta.com/">Community Toolkit</a> <!----></li></ul></div><div class="Column--3 Column--medium-12 Column--xSmall-12"><h4>Contact & Legal</h4> <ul class="Footer-links"><li class="first"><a href="https://developer.okta.com/contact/">Contact Our Team</a> <!----></li><li><a href="https://developer.okta.com/contact-sales-enterprise/">Contact Sales</a> <!----></li><li><a href="mailto:developers@okta.com">Contact Support</a> <!----></li><li><a href="https://developer.okta.com/terms/">Terms &amp; Conditions</a> <!----></li><li><a href="https://developer.okta.com/privacy/">Privacy Policy</a> <!----></li></ul></div></div></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1df7935f.js" defer></script><script src="/assets/js/11.71506886.js" defer></script><script src="/assets/js/2.8712a879.js" defer></script><script src="/assets/js/4.57ec015f.js" defer></script><script src="/assets/js/10.75e07b2c.js" defer></script><script src="/assets/js/18.8e6368cd.js" defer></script><script src="/assets/js/16.d681cd2b.js" defer></script><script src="/assets/js/643.ff4b13d2.js" defer></script><script src="/assets/js/1.952b7ece.js" defer></script><script src="/assets/js/31.3153d314.js" defer></script>
  </body>
</html>
