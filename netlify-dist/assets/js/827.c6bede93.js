(window.webpackJsonp=window.webpackJsonp||[]).push([[827],{572:function(e,t,s){"use strict";s.r(t);var a=s(8),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("After you have the following, you can request an access token:")]),e._v(" "),s("ul",[s("li",[e._v("An Okta OIDC or OAuth 2.0 Service app")]),e._v(" "),s("li",[e._v("One or more grants associated with that app")]),e._v(" "),s("li",[e._v("Users with appropriate permissions associated with the app")])]),e._v(" "),s("blockquote",[s("p",[s("strong",[e._v("Note:")]),e._v(" Using a Service app? See "),s("GuideLink",{attrs:{link:"../get-access-token-using-service-app"}},[e._v("Get an access token using a Service app")]),e._v(" for the steps.")],1)]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Request an access token by making a request to your Okta "),s("a",{attrs:{href:"/docs/concepts/auth-servers"}},[e._v("Org Authorization Server's")]),e._v(" "),s("code",[e._v("/authorize")]),e._v(" endpoint. For testing purposes, we recommend that you use a private browser window and the Implicit grant flow. Using the Implicit grant flow streamlines authentication for testing by returning a token without introducing any additional steps. In a production environment, we recommend that you always use the Authorization Code grant flow. See "),s("router-link",{attrs:{to:"/docs/guides/implement-auth-code/"}},[e._v("Implement the Authorization Code Flow")]),e._v(" for more information on this grant type.")],1),e._v(" "),s("blockquote",[s("p",[s("strong",[e._v("Note:")]),e._v(" If this is your first time working with Okta's APIs, read "),s("a",{attrs:{href:"https://developer.okta.com/code/rest/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Get Started with the Okta REST APIs"),s("OutboundLink")],1),e._v(" first. Additionally, for this guide use the steps in the "),s("GuideLink",{attrs:{link:"../save-access-token"}},[e._v(" Save the access token in Postman")]),e._v("  section to save and use the OAuth 2.0 access token rather than using the SSWS API Key.")],1)])]),e._v(" "),s("li",[s("p",[e._v("Paste your request URL into a private browser window. Your request URL should look something like this:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("https://"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("yourOktadomain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("/oauth2/v1/authorize?client_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("0oan47pj9BsB30h7"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("response_type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("token"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("response_mode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("fragment"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("scope")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("okta.users.read"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("redirect_uri")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("yourConfiguredRedirectUri"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("nonce")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("UBGW"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("state")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1234")]),e._v("\n")])])]),s("blockquote",[s("p",[s("strong",[e._v("Note:")]),e._v(" Only the "),s("a",{attrs:{href:"/docs/concepts/auth-servers"}},[e._v("Org Authorization Server")]),e._v(" can mint access tokens that contain Okta API scopes.")])]),e._v(" "),s("p",[e._v("Note the parameters being passed:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("client_id")]),e._v(": Use the "),s("code",[e._v("client_id")]),e._v(" of your Okta OAuth application that you created in the "),s("GuideLink",{attrs:{link:"../create-oauth-app"}},[e._v("previous step")]),e._v(".")],1),e._v(" "),s("li",[s("code",[e._v("response_type")]),e._v(": Use "),s("code",[e._v("token")]),e._v(" in this instance, since you are testing in a browser and want the authorization server to return the access token rather than an authorization code. In a production environment, this value would be "),s("code",[e._v("code")]),e._v(".")]),e._v(" "),s("li",[s("code",[e._v("response_mode")]),e._v(": Use "),s("code",[e._v("fragment")]),e._v(" to indicate that you want the authorization server to return the authorization response parameters encoded in a fragment that is added to the "),s("code",[e._v("redirect_uri")]),e._v(" when redirecting back to the client.")]),e._v(" "),s("li",[s("code",[e._v("scope")]),e._v(": Include the scopes that allow you to perform the actions on the endpoint that you want to access. The scopes requested for the access token must already be in the application's grants collection and the user must have the permission to perform those actions. See "),s("GuideLink",{attrs:{link:"../scopes"}},[e._v("Scopes & supported endpoints")]),e._v(" for more information.")],1),e._v(" "),s("li",[s("code",[e._v("redirect_uri")]),e._v(": Define the callback location where Okta returns a browser (along with the token) after the user finishes authenticating. This URL must match one of the redirect URIs that you configured in the "),s("GuideLink",{attrs:{link:"../create-an-OAuth-2.0-app-in-okta"}},[e._v("Create an OAuth 2.0 app in Okta")]),e._v(" section.")],1),e._v(" "),s("li",[s("code",[e._v("state")]),e._v(": Use any alphanumeric value. The authorization server reflects this string when redirecting the browser back to the client, which helps prevent cross-site request forgery.")]),e._v(" "),s("li",[s("code",[e._v("nonce")]),e._v(": Use any value. This is a string that is included in the returned ID token. It associates a client session with an ID token and mitigates replay attacks. In this example, we aren't requesting the "),s("code",[e._v("id_token")]),e._v(" response type, so an ID token isn't returned.")])])]),e._v(" "),s("li",[s("p",[e._v("Enter your credentials on the Okta Sign-in Page that appears. After you authenticate, the browser returns an access token in the address bar.")]),e._v(" "),s("p",[e._v("In this example, you previously added the "),s("code",[e._v("okta.users.read")]),e._v(" scope to the application's grants collection. You then requested that scope be included in the access token. Since this is an admin-level scope, you need to sign in with admin user credentials that are associated with your app.")]),e._v(" "),s("p",[e._v("The response that is returned looks something like this (the token is truncated for brevity):")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("http://"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("yourOktadomain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("/authorization-code/callback"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#access_token=eyJraWQiOiJEa1lUbmhTdkd5OEJk.......Y5D6XG&token_type=Bearer&expires_in=3600&scope=okta.users.read&state=1234")]),e._v("\n")])])]),s("blockquote",[s("p",[s("strong",[e._v("Note:")]),e._v(" The lifetime for this token is fixed at one hour.")])])]),e._v(" "),s("li",[s("p",[e._v("Copy the access token for use in subsequent "),s("GuideLink",{attrs:{link:"../save-access-token"}},[e._v("requests to Okta API endpoints")]),e._v(".")],1)])]),e._v(" "),s("NextSectionLink")],1)}),[],!1,null,null,null);t.default=n.exports}}]);