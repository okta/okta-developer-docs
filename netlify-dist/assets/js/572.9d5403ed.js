(window.webpackJsonp=window.webpackJsonp||[]).push([[572],{290:function(e,t,o){"use strict";o.r(t);var n=o(8),r=Object(n.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("div",{staticStyle:{"font-size":"0.9em","margin-bottom":"-20px"}},[o("a",{attrs:{href:"/books/api-security/api-keys/"}},[e._v("← Managing API Credentials")])]),e._v(" "),o("h2",{attrs:{id:"api-keys-keep-keys-private"}},[e._v("Keep Your Credentials Private "),o("a",{staticClass:"header-anchor header-link",attrs:{href:"#api-keys-keep-keys-private","aria-hidden":"true"}},[o("i",{staticClass:"fa fa-link"})])]),e._v(" "),o("p",[e._v("No matter whether you are using an API or building your own, the advice applies to you: Never put an API secret into your code. Never ever!")]),e._v(" "),o("p",[e._v("The biggest problem with storing credentials in source code is that once a credential is in source code it's exposed to any developers who have access to that code, including your version control provider.")]),e._v(" "),o("p",[e._v("Many people use GitHub to host their source code — what happens when you push company code containing sensitive credentials? That means GitHub staff can now view your credentials; it's a security risk. If that project is later shared with contractors, partners, customers, or even made public, your secret is no longer secret. The same is true for open source projects — accidentally publishing test API tokens or other sensitive data will cause enormous problems. There are attackers who scan GitHub commits looking for sensitive data like Amazon Web Services API tokens and then use these credentials to do things like mine cryptocurrencies, form botnets, and enable fraud.")]),e._v(" "),o("p",[e._v("If you can't store your credentials in source code, how should you authenticate to your databases or 3rd party APIs? The short answer is to use environment variables instead. What that means is ignoring what you see in sample code (where secrets are entered directly into source) and instead loading secrets from environment variables which are managed from outside your source code and will not be stored in version control and every team member's text editor.")]),e._v(" "),o("p",[e._v("Below are two short snippets of sample code that demonstrate how important it is to use environment variables to store credentials.")]),e._v(" "),o("p",[e._v("Below we have some example Python code from Twilio. In this example, the "),o("code",[e._v("AC01a2bcd3e4fg567h89012i34jklmnop5")]),e._v(' string is the "username" or "account ID" and the the '),o("code",[e._v("01234567890a12b34c567890de123fg4")]),e._v(" string is the API token.")]),e._v(" "),o("pre",[o("code",[e._v('from twilio.rest import Client\n\naccount_sid = "AC01a2bcd3e4fg567h89012i34jklmnop5"\nauth_token = "01234567890a12b34c567890de123fg4"\nclient = Client(account_sid, auth_token)\n')])]),e._v(" "),o("p",[e._v("As you can see above, these API credentials are hard-coded into the program's source. This is a big no-no. Instead, as an example of what you "),o("em",[e._v("should")]),e._v(' do, take a look at this example code from SendGrid, which uses the "os.environ.get" method in Python to grab the SendGrid API token from the '),o("code",[e._v("SENDGRID_API_KEY")]),e._v(" environment variable.")]),e._v(" "),o("pre",[o("code",[e._v("import os\nimport sendgrid\nfrom sendgrid.helpers.mail import *\n\napikey=os.environ.get('SENDGRID_API_KEY')\nsg = sendgrid.SendGridAPIClient(apikey)\n")])]),e._v(" "),o("p",[e._v("By pulling sensitive credentials from environment variables, which can be managed by configuration management and secret management software, your application code will remain credential-free.")]),e._v(" "),o("p",[e._v("Using environment variables to store secrets is an incredibly important first step to take in securing your code.")])])}),[],!1,null,null,null);t.default=r.exports}}]);