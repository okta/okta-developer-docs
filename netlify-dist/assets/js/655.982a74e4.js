(window.webpackJsonp=window.webpackJsonp||[]).push([[655],{401:function(t,e,a){"use strict";a.r(e);var r=a(8),o=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"what-is-an-authorization-server"}},[t._v("What is an authorization server "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#what-is-an-authorization-server","aria-hidden":"true"}},[a("i",{staticClass:"fa fa-link"})])]),t._v(" "),a("p",[t._v("At its core, an authorization server is simply an engine for minting OpenID Connect or "),a("router-link",{attrs:{to:"/docs/concepts/auth-overview/#oauth-2-0"}},[t._v("OAuth 2.0")]),t._v(" tokens. An authorization server is also used to apply access policies. Each authorization server has a unique issuer URI and its own signing key for tokens to keep a proper boundary between security domains.")],1),t._v(" "),a("h2",{attrs:{id:"what-you-can-use-an-authorization-server-for"}},[t._v("What you can use an authorization server for "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#what-you-can-use-an-authorization-server-for","aria-hidden":"true"}},[a("i",{staticClass:"fa fa-link"})])]),t._v(" "),a("p",[t._v("You can use an authorization server to perform Single Sign-On (SSO) with Okta for your OpenID Connect (OIDC) apps, and to secure your own APIs and provide user authorization to access your web services.")]),t._v(" "),a("p",[t._v("OIDC is used to authenticate users with a web app. The app uses the ID token that is returned from the authorization server to know if a user is authenticated and to obtain profile information about the user, such as their username or locale. OAuth 2.0 is used to authorize user access to an API. An app uses an access token to validate a user's identity. When using OIDC or OAuth, the authorization server authenticates a user and issues an ID token and/or an access token.")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Note:")]),t._v(" You can't mix tokens between different authorization servers. By design, authorization servers don't have trust relationships with each other.")])]),t._v(" "),a("h2",{attrs:{id:"available-authorization-server-types"}},[t._v("Available authorization server types "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#available-authorization-server-types","aria-hidden":"true"}},[a("i",{staticClass:"fa fa-link"})])]),t._v(" "),a("p",[t._v("Okta has two types of authorization servers: the Org Authorization Server and Custom Authorization Servers.")]),t._v(" "),a("h3",{attrs:{id:"org-authorization-server"}},[t._v("Org Authorization Server "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#org-authorization-server","aria-hidden":"true"}},[a("i",{staticClass:"fa fa-link"})])]),t._v(" "),a("p",[t._v("Every Okta org comes with a built-in authorization server called the Org Authorization Server. The base URL for the Org Authorization Server is "),a("code",[t._v("https://${yourOktaOrg}")]),t._v(".")]),t._v(" "),a("p",[t._v("You use the Org Authorization Server to perform SSO with Okta or to get an access token for the Okta APIs. You can't customize this authorization server with regards to audience, claims, policies, or scopes. Additionally, the resulting access token's issuer is "),a("code",[t._v("https://${yourOktaOrg}")]),t._v(", which indicates that only Okta can consume or validate it. The access token can't be used or validated by your own applications.")]),t._v(" "),a("h4",{attrs:{id:"org-authorization-server-discovery-endpoints"}},[t._v("Org Authorization Server discovery endpoints "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#org-authorization-server-discovery-endpoints","aria-hidden":"true"}},[a("i",{staticClass:"fa fa-link"})])]),t._v(" "),a("p",[t._v("The following discovery endpoints return OIDC or OAuth 2.0 metadata related to your Org Authorization Server. Clients can use this information to programmatically configure their interactions with Okta.")]),t._v(" "),a("p",[a("strong",[t._v("OpenID:")]),t._v(" "),a("code",[t._v("https://${yourOktaOrg}/.well-known/openid-configuration")])]),t._v(" "),a("p",[a("strong",[t._v("OAuth:")]),t._v(" "),a("code",[t._v("https://${yourOktaOrg}/.well-known/oauth-authorization-server")])]),t._v(" "),a("h3",{attrs:{id:"custom-authorization-server"}},[t._v("Custom Authorization Server "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#custom-authorization-server","aria-hidden":"true"}},[a("i",{staticClass:"fa fa-link"})])]),t._v(" "),a("p",[t._v("You use a Custom Authorization Server to create and apply authorization policies to secure your APIs. An access token that is minted by a Custom Authorization Server is consumed by your APIs.")]),t._v(" "),a("p",[t._v("Okta allows you to create multiple Custom Authorization Servers within a single Okta org that you can use to protect your own resource servers. Within each authorization server, you can define your own custom OAuth 2.0 scopes, claims, and access policies to support authorization for your APIs.")]),t._v(" "),a("h4",{attrs:{id:"default-custom-authorization-server"}},[t._v("Default Custom Authorization Server "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#default-custom-authorization-server","aria-hidden":"true"}},[a("i",{staticClass:"fa fa-link"})])]),t._v(" "),a("p",[t._v("Okta provides a pre-configured Custom Authorization Server called "),a("code",[t._v("default")]),t._v(". It includes a basic access policy and a rule to quickly get you started. For simple use cases, this out-of-the-box Custom Authorization Server is usually all that you need.")]),t._v(" "),a("p",[t._v("To use the "),a("code",[t._v("default")]),t._v(" Custom Authorization Server, use "),a("code",[t._v("default")]),t._v(" as the authorization server ID:")]),t._v(" "),a("p",[a("code",[t._v("https://${yourOktaDomian}/api/v1/authorizationServers/default")])]),t._v(" "),a("p",[t._v("For Custom Authorization Servers that you create yourself, the "),a("code",[t._v("${authServerId}")]),t._v(" is a random ID such as "),a("code",[t._v("aus9o8wzkhckw9TLa0h7z")]),t._v(".")]),t._v(" "),a("p",[a("code",[t._v("https://${yourOktaDomain}/api/v1/authorizationServers/${authServerId}")])]),t._v(" "),a("h4",{attrs:{id:"custom-authorization-server-discovery-endpoints"}},[t._v("Custom Authorization Server discovery endpoints "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#custom-authorization-server-discovery-endpoints","aria-hidden":"true"}},[a("i",{staticClass:"fa fa-link"})])]),t._v(" "),a("p",[t._v("The following endpoints return OIDC or OAuth 2.0 metadata related to a Custom Authorization Server. Clients can use this information to programmatically configure their interactions with Okta. Custom scopes and custom claims aren't returned.")]),t._v(" "),a("p",[t._v("The OpenID and OAuth discovery endpoints for a Custom Authorization Server are:")]),t._v(" "),a("p",[a("strong",[t._v("OpenID:")]),t._v(" "),a("code",[t._v("https://${yourOktaDomain}/oauth2/<server id>/.well-known/openid-configuration")])]),t._v(" "),a("p",[a("strong",[t._v("OAuth:")]),t._v(" "),a("code",[t._v("https://${yourOktaDomain}/oauth2/<server id>/.well-known/oauth-authorization-server")])]),t._v(" "),a("p",[t._v("The OpenID and OAuth discovery endpoints for the default Custom Authorization Server are:")]),t._v(" "),a("p",[a("strong",[t._v("OpenID:")]),t._v(" "),a("code",[t._v("https://${yourOktaDomain}/oauth2/default/.well-known/openid-configuration")])]),t._v(" "),a("p",[a("strong",[t._v("OAuth:")]),t._v(" "),a("code",[t._v("https://${yourOktaDomain}/oauth2/default/.well-known/oauth-authorization-server")])]),t._v(" "),a("h2",{attrs:{id:"which-authorization-server-should-you-use"}},[t._v("Which authorization server should you use "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#which-authorization-server-should-you-use","aria-hidden":"true"}},[a("i",{staticClass:"fa fa-link"})])]),t._v(" "),a("p",[t._v("If you are just looking to add SSO for your OIDC-based applications, you can use your Org Authorization Server. You should also use the Org Authorization Server if you want to use "),a("router-link",{attrs:{to:"/docs/guides/implement-oauth-for-okta/"}},[t._v("OAuth 2.0 bearer tokens with your Okta APIs")]),t._v(". Only the Org Authorization Server can mint access tokens that contain Okta API scopes.")],1),t._v(" "),a("p",[t._v("If your application has requirements such as additional scopes, customizing rules for when to grant scopes, or you need additional authorization servers with different scopes and claims, then you need to "),a("router-link",{attrs:{to:"/docs/guides/customize-authz-server/overview/"}},[t._v("create a Custom Authorization Server")]),t._v(".")],1),t._v(" "),a("p",[t._v("The following table describes which capabilities are supported by the Custom Authorization Server (includes the Default Custom Authorization Server) and which are supported by the Okta Org Authorization Server.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Capabilities")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Custom Authorization Server")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Org Authorization Server")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("SSO with OIDC")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Use Okta Developer SDKs & Widgets for SSO")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Retrieve user profile in ID Token")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Apply authorization policies to custom APIs")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Add custom scopes or claims to tokens")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Integrate with an API Gateway")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Machine-to-Machine or Microservices")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Mint Access Tokens with Okta API Scopes")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("No")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")])])])]),t._v(" "),a("h2",{attrs:{id:"key-rotation-for-custom-authorization-servers"}},[t._v("Key rotation for Custom Authorization Servers "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#key-rotation-for-custom-authorization-servers","aria-hidden":"true"}},[a("i",{staticClass:"fa fa-link"})])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("For security purposes, Okta automatically rotates keys used to sign the token.")])]),t._v(" "),a("li",[a("p",[t._v("The current key rotation schedule is four times a year. This schedule can change without notice.")])]),t._v(" "),a("li",[a("p",[t._v("In case of an emergency, Okta can rotate keys as needed.")])]),t._v(" "),a("li",[a("p",[t._v("Okta always publishes keys to the "),a("code",[t._v("jwks_uri")]),t._v(".")])]),t._v(" "),a("li",[a("p",[t._v("To save the network round trip, your app should cache the "),a("code",[t._v("jwks_uri")]),t._v(" response locally. The "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control",target:"_blank",rel:"noopener noreferrer"}},[t._v("standard HTTP caching headers"),a("OutboundLink")],1),t._v(" are used and should be respected.")])]),t._v(" "),a("li",[a("p",[t._v("The administrator can switch the Authorization Server key rotation mode by updating the Authorization Server's "),a("code",[t._v("rotationMode")]),t._v(" property. For more information see the API Reference: "),a("router-link",{attrs:{to:"/docs/reference/api/authorization-servers/#credentials-object"}},[t._v("Authorization Server Credentials Signing Object")]),t._v(".")],1)])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Caution:")]),t._v(" Keys used to sign tokens automatically rotate and should always be resolved dynamically against the published JWKS. Your app might fail if you hardcode public keys in your applications. Be sure to include key rollover in your implementation.")])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Note:")]),t._v(" If your application can't retrieve keys dynamically, the administrator can disable the automatic key rotation in the administrator UI, "),a("router-link",{attrs:{to:"/docs/reference/api/apps/#generate-new-application-key-credential"}},[t._v("generate a key credential")]),t._v(", and "),a("router-link",{attrs:{to:"/docs/reference/api/apps/#update-key-credential-for-application"}},[t._v("update the application")]),t._v(" to use it for signing.")],1)]),t._v(" "),a("h2",{attrs:{id:"key-rotation-for-org-authorization-servers"}},[t._v("Key rotation for Org Authorization Servers "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#key-rotation-for-org-authorization-servers","aria-hidden":"true"}},[a("i",{staticClass:"fa fa-link"})])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("For security purposes, Okta automatically rotates keys used to sign the ID token.")])]),t._v(" "),a("li",[a("p",[t._v("The current key rotation schedule is four times a year. This schedule can change without notice.")])]),t._v(" "),a("li",[a("p",[t._v("Okta doesn't expose the public keys used to sign the access token minted by the Org Authorization Server. You can use the "),a("router-link",{attrs:{to:"/docs/reference/api/oidc/#introspect"}},[a("code",[t._v("/introspect")]),t._v(" endpoint")]),t._v(" to validate the access token.")],1)]),t._v(" "),a("li",[a("p",[t._v("You can't manually rotate the Org Authorization Server's signing keys.")])])])])}),[],!1,null,null,null);e.default=o.exports}}]);